import{i as rt,g as ot,a as it,s as lt,G as ct,b as dt,c as ut,d as ht,r as n,j as e,C as Ie,T as b,B as se,P as Le,S as ze,e as Be,f as Ae,I as ce,h as H,D as de,O as ue,U as Fe,k as pt,A as mt,l as _t,R as qe,m as $e,n as xt,o as gt,F as ft,p as he,H as V,q as yt,L as jt,t as vt,X as St,u as Me,Y as bt,v as Ct,w as wt,x as _e,y as kt,z as Nt,M as It,Z as Tt,E as Lt,J as Bt,K as At,N as Ft,Q as Mt,V as Pe,W as Ee,_ as Pt,$ as Re,a0 as Q,a1 as He,a2 as Ue,a3 as Ge,a4 as Et,a5 as Rt,a6 as Ot,a7 as Dt,a8 as Wt,a9 as F,aa as D,ab as zt,ac as qt,ad as J,ae as ee,af as $,ag as $t,ah as Ht,ai as Ut,aj as Gt,ak as Oe,al as Vt,am as Xt,an as xe,ao as ge,ap as fe,aq as Kt,ar as Ve,as as Xe,at as Ke,au as Ye,av as Yt,aw as Qt,ax as Jt,ay as Zt,az as ye,aA as es,aB as ts,aC as ss,aD as as,aE as ns,aF as rs,aG as os,aH as is,aI as oe,aJ as ls,aK as cs,aL as ie,aM as ds,aN as us,aO as hs}from"./vendor-2JOco9u2.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();const ps={apiKey:"AIzaSyBSPzfe-fIq_T5YiH_K3CGFjkXuVtXh_s4",authDomain:"xpetshealth.quest",projectId:"workoutrpg-14ea8",storageBucket:"workoutrpg-14ea8.firebasestorage.app",messagingSenderId:"365189784249",appId:"1:365189784249:web:711c00340542c7b238f168",measurementId:"G-YMB052NVCF"},Qe=rt(ps);ot(Qe);const pe=it(Qe);lt(pe,dt).then(()=>{}).catch(t=>{console.error("Failed to set persistence:",t)});const ms=new ct;function _s(){ut(pe).then(()=>{console.log("Signed out!")}).catch(t=>{console.error("Sign out error:",t)})}const W=ht.create({baseURL:"https://api-wosc6bjdaa-uc.a.run.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),Je=n.createContext(void 0),xs=({children:t})=>{const[a,o]=n.useState(()=>{const s=localStorage.getItem("userData");return s?JSON.parse(s):null}),r=s=>{o(s),s?localStorage.setItem("userData",JSON.stringify(s)):localStorage.removeItem("userData")};return e.jsx(Je.Provider,{value:{userData:a,setUserData:r},children:t})},U=()=>{const t=n.useContext(Je);if(!t)throw new Error("useUser must be used within a UserProvider");const{userData:a,setUserData:o}=t,r=n.useMemo(()=>{if(a)return Math.floor(a.goal.dailyCalorieGoal/100)},[a]);return{userData:a,setUserData:o,dailyCurrency:r}},gs=()=>{const{userData:t,setUserData:a}=U(),o=(t==null?void 0:t.pet.currentPet)==="puppy"?"bones":"fish",[r,s]=n.useState(""),[i,f]=n.useState(null),[u,x]=n.useState(!1),[l,h]=n.useState(null),[y,A]=n.useState(null),[C,T]=n.useState(!1),M=async()=>{var c,S;if(r.trim()){x(!0),h(null),f(null);try{const{data:m}=await W.post("/chatnutrition",{message:r}),j=new Date().toISOString(),N=Intl.DateTimeFormat().resolvedOptions().timeZone,p={...m,description:r,userId:t==null?void 0:t.uid,fullTimeStamp:j,userTimeZone:N};console.log(p),A(p),T(!0)}catch(m){const j=m,N=(c=j.response)==null?void 0:c.data;((S=j.response)==null?void 0:S.status)===400?h((N==null?void 0:N.suggestion)||"Please describe a specific food item or meal"):h("Failed to get nutrition info. Try again.")}finally{x(!1)}}},E=async()=>{if(y){x(!0),h(null);try{const c=await W.post("/meal/addMeal",y),{mealAffects:S,updatedUser:m}=c.data;a(m);const j=[];S.currency&&j.push(`ðŸ¦´ This meal cost ${S.currency} bone${S.currency>1?"s":""}!`),S.armorIncrease&&j.push(`ðŸ›¡ï¸ +${S.armorIncrease.toFixed(1)} Armor from protein`),S.defenseIncrease&&j.push(`ðŸ§± +${S.defenseIncrease.toFixed(1)} Defense from fiber`),S.speedIncrease&&j.push(`ðŸ’¨ +${S.speedIncrease.toFixed(1)} Speed from hydration`),S.intelligenceIncrease&&j.push(`ðŸ§  +${S.intelligenceIncrease} Intelligence from fruits & vegetables`),j.length===0&&j.push("Seems like this meal didnt contain any sustenance!"),f(j.join(`
`))}catch{h("Failed to confirm meal. Try again.")}finally{x(!1),A(null),T(!1),s("")}}},v=()=>{A(null),T(!1),f(null)};return e.jsxs("div",{style:{padding:0,fontFamily:"'Courier New', monospace",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2520 100%)",border:"4px solid #ff9900",borderRadius:"0",boxShadow:"0 0 20px rgba(255, 153, 0, 0.3), inset 0 0 20px rgba(255, 255, 255, 0.1)",color:"#f5f5dc",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(245, 245, 220, 0.02) 2px, rgba(245, 245, 220, 0.02) 4px)",pointerEvents:"none",zIndex:1}}),e.jsxs("div",{style:{position:"relative",zIndex:2},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:20,padding:"10px 0",border:"2px solid #4a9660",backgroundColor:"rgba(74, 150, 96, 0.1)",textShadow:"0 0 10px #4a9660"},children:[e.jsx("h2",{style:{margin:0,fontSize:"22px",fontWeight:"bold",letterSpacing:"2px",color:"#4a9660"},children:"ðŸŽ FOOD LOGGER v2.0 ðŸŽ"}),e.jsx("div",{style:{fontSize:"14px",color:"#f5f5dc",marginTop:4},children:"[NUTRITIONAL ANALYSIS SYSTEM]"})]}),e.jsxs("div",{style:{marginBottom:20,border:"2px solid #f5f5dc",padding:15,backgroundColor:"rgba(245, 245, 220, 0.05)"},children:[e.jsx("label",{style:{display:"block",marginBottom:8,fontSize:"14px",color:"#f5f5dc",textTransform:"uppercase",letterSpacing:"1px"},children:"> ENTER FOOD DATA:"}),e.jsx("textarea",{value:r,onChange:c=>s(c.target.value),placeholder:"DESCRIBE CONSUMED ITEMS...",onBlur:()=>{window.scrollTo(0,window.scrollY)},rows:4,style:{width:"100%",padding:"12px",border:"2px solid #4a9660",borderRadius:"0",fontSize:"16px",fontFamily:"'Courier New', monospace",backgroundColor:"#0a0a0a",color:"#f5f5dc",resize:"none",outline:"none",boxSizing:"border-box"}})]}),C?e.jsxs("div",{style:{border:"3px solid #ff6600",padding:20,backgroundColor:"rgba(255, 102, 0, 0.1)",textAlign:"center",marginBottom:20},children:[e.jsxs("div",{style:{fontSize:"18px",color:"#ff6600",marginBottom:15,textShadow:"0 0 8px #ff6600"},children:[o==="bones"?"ðŸ¦´":"ðŸŸ"," COST: ",Math.round(y.calories/100)," ",o]}),e.jsx("div",{style:{fontSize:"14px",color:"#ff9900",marginBottom:15},children:"PROCEED WITH TRANSACTION?"}),e.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center"},children:[e.jsx("button",{onClick:E,disabled:u,style:{padding:"10px 20px",border:"2px solid #ff9900",backgroundColor:u?"#332200":"#1a1100",color:"#ff9900",fontFamily:"'Courier New', monospace",fontSize:"14px",cursor:u?"not-allowed":"pointer",textTransform:"uppercase",letterSpacing:"1px",transition:"all 0.2s"},children:u?"PROCESSING...":"âœ“ CONFIRM"}),e.jsx("button",{onClick:v,disabled:u,style:{padding:"10px 20px",border:"2px solid #ff6600",backgroundColor:u?"#331100":"#1a0800",color:"#ff6600",fontFamily:"'Courier New', monospace",fontSize:"14px",cursor:u?"not-allowed":"pointer",textTransform:"uppercase",letterSpacing:"1px",transition:"all 0.2s"},children:"âœ— CANCEL"})]})]}):e.jsx("div",{style:{textAlign:"center",marginBottom:20},children:e.jsx("button",{onClick:M,disabled:u||!r.trim(),style:{padding:"15px 30px",border:"3px solid #ff9900",backgroundColor:u||!r.trim()?"#332200":"#1a1100",color:u||!r.trim()?"#996600":"#ff9900",fontFamily:"'Courier New', monospace",fontSize:"14px",cursor:u||!r.trim()?"not-allowed":"pointer",textTransform:"uppercase",letterSpacing:"2px",fontWeight:"bold",textShadow:u||!r.trim()?"none":"0 0 8px #ff9900",transition:"all 0.3s",width:"100%"},children:u?"âš¡ ANALYZING...":"ðŸš€ ANALYZE FOOD"})}),l&&e.jsx("div",{style:{border:"2px solid #ff3300",padding:15,backgroundColor:"rgba(255, 51, 0, 0.1)",marginBottom:20,textAlign:"center"},children:e.jsxs("div",{style:{fontSize:"14px",color:"#ff3300",textShadow:"0 0 8px #ff3300",textTransform:"uppercase"},children:["âš ï¸ ERROR: ",l]})}),i&&e.jsx("div",{style:{border:"3px solid #ff9900",padding:20,backgroundColor:"rgba(255, 153, 0, 0.1)",textAlign:"center",animation:"pulse 2s infinite"},children:e.jsx("div",{style:{fontSize:"18px",color:"#ff9900",textShadow:"0 0 12px #ff9900",fontWeight:"bold",whiteSpace:"pre-wrap",lineHeight:1.75},children:i})}),e.jsx("div",{style:{textAlign:"center",marginTop:20,fontSize:"12px",color:"#f5f5dc",opacity:.7},children:"POWERED BY XPETS-GPT ENGINEâ„¢"})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
          }
        `}})]})},P=({symbol:t,label:a="",className:o="",style:r={},size:s=24})=>e.jsx("span",{role:"img","aria-label":a||void 0,"aria-hidden":a?"false":"true",className:o,style:{display:"inline-block",verticalAlign:"middle",fontSize:typeof s=="number"?`${s}px`:s,lineHeight:1,...r},children:t}),fs={puppy:[{rpe:1,emoji:"ðŸ¾",text:"Sniffed around the park"},{rpe:2,emoji:"ðŸ•",text:"Chased tail"},{rpe:3,emoji:"ðŸº",text:"Chased squirrel"},{rpe:4,emoji:"ðŸ”¥ðŸº",text:"Life or death fight with a bear"}],kitten:[{rpe:1,emoji:"ðŸ’¤",text:"Big stretch under a tree"},{rpe:2,emoji:"ðŸ±",text:"Thunder? Nope, Midnight zoomies"},{rpe:3,emoji:"ðŸ¯",text:"Climbed the tallest tree in the realm"},{rpe:4,emoji:"ðŸ”¥ðŸ¯",text:"Celestial lion battle in the astral jungle"}]},ys=({petType:t,selectedRpe:a,onChange:o})=>{const r=fs[t],s=i=>{o(i)};return e.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap",justifyContent:"center"},children:r.map(i=>e.jsxs(Ie,{onClick:()=>s(i.rpe),style:{cursor:"pointer",border:a===i.rpe?"2px solid #ffa640":"1px solid #ccc",background:a===i.rpe?"#222":"#1d1d1d",width:140,textAlign:"center",padding:8},children:[e.jsx(P,{size:32,symbol:i.emoji}),e.jsx(b,{style:{fontSize:12,marginTop:8},children:i.rpe}),e.jsx(b,{style:{fontSize:14,marginTop:6},children:i.text})]},i.rpe))})},js=({open:t,onClose:a})=>t?e.jsxs("div",{role:"alert","aria-live":"assertive",style:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#1c1c1c",border:"3px solid #ffa640",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",fontSize:12,textTransform:"uppercase",boxShadow:"0 0 8px #ffa640",borderRadius:8,top:0,left:0,right:0},children:[e.jsx(P,{size:32,symbol:"ðŸ‹ï¸â€â™‚ï¸"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{marginBottom:4},children:"WORKOUT LOGGED!"}),e.jsx("div",{style:{fontSize:10,color:"#ccc"},children:"+XP gained âš¡ | Pet stronger ðŸ¾"})]}),e.jsx("button",{"aria-label":"Close notification",onClick:a,style:{background:"transparent",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",border:"none",cursor:"pointer",fontSize:14,padding:0,lineHeight:1},children:"âœ–"})]}):null,Ze=n.createContext(void 0),Te=()=>{const t=n.useContext(Ze);if(!t)throw new Error("useToast must be used within ToastProvider");return t};let vs=0;const Ss=({children:t})=>{const[a,o]=n.useState([]),[r,s]=n.useState(null);n.useEffect(()=>{!r&&a.length>0&&(s(a[0]),o(u=>u.slice(1)))},[a,r]),n.useEffect(()=>{if(!r)return;const u=r.duration??3e3,x=setTimeout(()=>{s(null)},u);return()=>clearTimeout(x)},[r]);const i=n.useCallback(u=>{const x=++vs;o(l=>[...l,{id:x,...u}])},[]),f=n.useCallback(()=>{s(null)},[]);return e.jsxs(Ze.Provider,{value:{addToast:i,removeToast:f},children:[t,r&&e.jsx("div",{role:"alert","aria-live":"assertive",style:{position:"fixed",top:20,right:20,zIndex:9999,display:"flex",flexDirection:"column",gap:8},children:e.jsx("div",{children:r.content},r.id)})]})},bs="_levelUpContainer_vq3kq_1",Cs="_levelUpPulse_vq3kq_1",ws="_shimmer_vq3kq_1",ks="_emoji_vq3kq_32",Ns="_bounce_vq3kq_1",Is="_levelText_vq3kq_41",Ts="_levelNumber_vq3kq_54",Ls="_celebration_vq3kq_67",Bs="_fadeInUp_vq3kq_1",ae={levelUpContainer:bs,levelUpPulse:Cs,shimmer:ws,emoji:ks,bounce:Ns,levelText:Is,levelNumber:Ts,celebration:Ls,fadeInUp:Bs},et=n.createContext(void 0),As=({children:t})=>{const[a,o]=n.useState(null),[r,s]=n.useState(void 0),i=({content:u,style:x})=>{o(u),s(x)},f=()=>{o(null),s(void 0)};return e.jsxs(et.Provider,{value:{showSplash:i,hideSplash:f},children:[t,a&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",...r},onClick:f,children:[a,e.jsx("div",{style:{padding:"17px 0px"},children:e.jsx(se,{onClick:f,style:{marginTop:24,padding:"17px 24px",lineHeight:"20px",fontFamily:"'Press Start 2P', Pixelify Sans",fontSize:"17px",color:"#fff",backgroundColor:"#ff9900",border:"none",borderRadius:"14px",cursor:"pointer"},children:"Dismiss"})})]})]})},Fs=()=>{const t=n.useContext(et);if(!t)throw new Error("useSplashScreen must be used within a SplashScreenProvider");return t},Ms={1:.5,2:1,3:1.5,4:2.2},Ps=({setDrawerView:t})=>{const{userData:a,setUserData:o}=U(),{addToast:r}=Te(),{showSplash:s}=Fs(),[i,f]=n.useState(!1),[u,x]=n.useState("WEIGHTS"),[l,h]=n.useState("DURATION"),[y,A]=n.useState(""),[C,T]=n.useState(""),[M,E]=n.useState(""),[v,c]=n.useState(null),[S,m]=n.useState(""),j=["WEIGHTS","CARDIO","MOBILITY","SPORT"],N=["DURATION","DISTANCE"],[p,_]=n.useState(!1),I=Array.from({length:12},(w,K)=>K),L=Array.from({length:60},(w,K)=>K),[k,B]=n.useState({strength:0,agility:0,pet:0});console.log(C),console.log(v);function z(){const w=(Number(C)||0)*60+(Number(M)||0);console.log("totalDuration ",w);const K=Ms[v??2];let G=0;w>0?G=Math.round(w*10*K):Number(y)>0&&(G=Math.round(Number(y)*125*K)),console.log("totalXp ",G);let ne=0,re=0;switch(u){case"WEIGHTS":ne=Math.round(G/100);break;case"CARDIO":re=Math.round(G/100);break;case"MOBILITY":case"SPORT":const at=G/2/100,nt=G/2/100;ne=Math.round(at),re=Math.round(nt);break}return console.log("final ",{strength:ne,agility:re,pet:G}),{strength:ne,agility:re,pet:G}}const X=j.includes(u)&&N.includes(l)&&(y!==""||C!==""||M!=="")&&v!==null;function O(){A(""),T(""),E(""),c(null),m(""),x("WEIGHTS"),h("DURATION")}const Y=async()=>{const w=z();if(B(w),!a||!a.uid){alert("User not loaded properly.");return}const K=l==="DURATION"?(Number(C)||0)*60+(Number(M)||0):0;try{const{data:G}=await W.post("/workout/logWorkout",{userId:a.uid,logType:"manual",workoutType:u,cardioMode:l,duration:K,distance:l==="DISTANCE"&&Number(y)||0,rpe:v,notes:S,workoutXp:w});o(G.updatedUser),O(),r({content:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#1c1c1c",border:"3px solid #ffa640",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",fontSize:17,textTransform:"uppercase",boxShadow:"0 0 8px #ffa640",borderRadius:8},children:[e.jsx(P,{size:32,symbol:"ðŸ‹ï¸â€â™‚ï¸"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{marginBottom:4},children:"WORKOUT LOGGED!"}),e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",w.pet," PET XP"]}),w.strength>0&&w.agility>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",w.strength," STRENGTH"]}),e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",w.agility," AGILITY"]})]}):w.strength>0?e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",w.strength," STRENGTH"]}):e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",w.agility," AGILITY"]})]})]}),duration:5e3}),t("none"),setTimeout(()=>{G.levelUp&&s({content:e.jsxs("div",{className:ae.levelUpContainer,children:[e.jsx("div",{className:ae.emoji,children:"ðŸŽ‰âœ¨ðŸŽŠâœ¨ðŸŽ‰"}),e.jsx("div",{className:ae.levelText,children:"LEVEL UP!"}),e.jsxs("div",{className:ae.levelNumber,children:["LEVEL ",G.updatedUser.pet.level]}),e.jsx("div",{className:ae.celebration,children:"Amazing Progress!"})]}),style:{background:"radial-gradient(circle at 25% 25%, #1a1a2e 0%, #16213e 50%, #0f0f23 100%),repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,0,0.03) 2px,rgba(0,255,0,0.03) 4px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"}})},5e3)}catch(G){console.error(G),alert("There was an error logging your workout.")}};return i?e.jsx(Le,{style:{overflowX:"hidden",margin:"auto",padding:0},children:e.jsx(ze,{size:"large","aria-label":"loading",role:"status"})}):e.jsxs(Le,{style:{overflowX:"hidden",margin:"auto",padding:0},children:[e.jsx(js,{open:p,onClose:()=>_(!1)}),e.jsx(b,{styleAs:"h1",style:{fontSize:"20px",color:"#ffa640",paddingBottom:16,fontFamily:"'Press Start 2P', Pixelify Sans"},children:"LOG YOUR WORKOUT"}),e.jsx(b,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"WORKOUT TYPE"}),e.jsx(Be,{value:u??"",onChange:w=>x(w.currentTarget.value),style:{display:"flex",flexWrap:"nowrap",overflowX:"auto",gap:8,marginBottom:16},children:j.map(w=>e.jsx(Ae,{value:w,style:{fontSize:"17px",fontFamily:'"Open Sans", sans-serif',flexShrink:1,whiteSpace:"nowrap"},children:w},w))}),u==="CARDIO"&&e.jsxs(e.Fragment,{children:[e.jsx(b,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"CARDIO MODE"}),e.jsx(Be,{value:l??"",onChange:w=>{h(w.currentTarget.value),A(""),T(""),E("")},style:{marginBottom:16},children:N.map(w=>e.jsx(Ae,{value:w,appearance:w==="WEIGHTS"?"solid":void 0,style:{fontSize:"14px",fontFamily:'"Open Sans", sans-serif'},children:w},w))})]}),l==="DISTANCE"&&u==="CARDIO"?e.jsxs("div",{style:{padding:"0 0 16px 0"},children:[e.jsx(b,{style:{color:"#fcefcf",marginBottom:4},children:"Distance (miles)"}),e.jsx(ce,{style:{padding:"0 4px 8px 4px",fontSize:"17px"},value:y,onChange:w=>A(w.target.value),placeholder:"e.g. 3.2"})]}):e.jsxs("div",{style:{padding:"0 0 16px 0"},children:[e.jsx(b,{style:{color:"#fcefcf",marginBottom:4},children:"Duration"}),e.jsxs(H,{direction:"row",gap:2,children:[e.jsx(de,{value:C+" hr(s)",onSelectionChange:(w,K)=>T(K[0]??""),placeholder:"Hours",children:I.map(w=>e.jsxs(ue,{value:String(w),children:[w," hr"]},w))}),e.jsx(de,{value:M+" min(s)",onSelectionChange:(w,K)=>E(K[0]??""),placeholder:"Minutes",children:L.map(w=>e.jsxs(ue,{value:String(w),children:[w<10?`0${w}`:w," min"]},w))})]})]}),e.jsx(b,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"HOW HARD WAS IT?"}),e.jsx("div",{style:{padding:"0 0 16px 0"},children:e.jsx(ys,{selectedRpe:v,onChange:w=>c(w),petType:(a==null?void 0:a.pet.currentPet)??"puppy"})}),e.jsx(b,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"OPTIONAL NOTES"}),e.jsx("div",{style:{padding:"8px 0 8px 0"},children:e.jsx("textarea",{value:S,onChange:w=>m(w.target.value),rows:3,placeholder:"Add notes here...",style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid rgb(116, 116, 116)",fontSize:"17px",fontFamily:"inherit",backgroundColor:"var(--salt-container-primary-background)",color:"var(--salt-content-primary-foreground)",resize:"vertical"}})}),e.jsx(se,{onClick:Y,disabled:!X,style:{opacity:X?1:.4,cursor:X?"pointer":"not-allowed",color:X?"inherit":"#888",fontFamily:"'Press Start 2P', Pixelify Sans",backgroundColor:X?"#ff9900":void 0},children:"LOG WORKOUT"})]})},Es="_backdrop_1mk9a_9",Rs="_drawer_1mk9a_17",Os="_drawer__header_1mk9a_34",Ds="_drawer__headerContent_1mk9a_41",Ws="_drawer__headerIcon_1mk9a_46",zs="_drawer__title_1mk9a_49",qs="_drawer__closeButton_1mk9a_55",$s="_drawer__content_1mk9a_67",Hs="_mealCard_1mk9a_73",Us="_mealCard__header_1mk9a_85",Gs="_mealCard__info_1mk9a_91",Vs="_mealCard__title_1mk9a_94",Xs="_mealCard__timestamp_1mk9a_100",Ks="_mealCard__calories_1mk9a_105",Ys="_mealCard__caloriesValue_1mk9a_108",Qs="_mealCard__caloriesLabel_1mk9a_115",Js="_mealCard__macros_1mk9a_119",Zs="_mealCard__additionalStats_1mk9a_125",ea="_mealCard__statBoosts_1mk9a_131",ta="_mealCard__statBoostsTitle_1mk9a_135",sa="_mealCard__statBoostsGrid_1mk9a_141",aa="_mealCard__currency_1mk9a_146",na="_mealCard__currencyText_1mk9a_150",ra="_macroItem_1mk9a_156",oa="_macroItem__value_1mk9a_162",ia="_macroItem__label_1mk9a_168",la="_additionalStat_1mk9a_182",ca="_additionalStat__icon_1mk9a_190",da="_additionalStat__content_1mk9a_193",ua="_additionalStat__value_1mk9a_196",ha="_additionalStat__label_1mk9a_203",pa="_statBoost_1mk9a_212",ma="_statBoost__icon_1mk9a_221",_a="_statBoost__label_1mk9a_236",xa="_statBoost__value_1mk9a_239",ga="_loadingState_1mk9a_244",fa="_loadingState__content_1mk9a_248",ya="_pulse_1mk9a_1",ja="_loadingState__text_1mk9a_251",va="_loadingState__subtext_1mk9a_255",Sa="_loadingMore_1mk9a_260",ba="_loadingMore__content_1mk9a_264",Ca="_loadingMore__text_1mk9a_267",wa="_loadingMore__subtext_1mk9a_271",ka="_emptyState_1mk9a_276",Na="_emptyState__icon_1mk9a_280",Ia="_emptyState__text_1mk9a_284",Ta="_emptyState__subtext_1mk9a_288",La="_endOfList_1mk9a_293",Ba="_endOfList__text_1mk9a_298",Aa="_endOfList__subtext_1mk9a_303",Fa="_mealsList_1mk9a_308",Ma="_demoApp_1mk9a_314",Pa="_demoApp__container_1mk9a_319",Ea="_demoApp__title_1mk9a_323",Ra="_demoApp__button_1mk9a_330",g={backdrop:Es,drawer:Rs,"drawer--open":"_drawer--open_1mk9a_31",drawer__header:Os,drawer__headerContent:Ds,drawer__headerIcon:Ws,drawer__title:zs,drawer__closeButton:qs,drawer__content:$s,mealCard:Hs,mealCard__header:Us,mealCard__info:Gs,mealCard__title:Vs,mealCard__timestamp:Xs,mealCard__calories:Ks,mealCard__caloriesValue:Ys,mealCard__caloriesLabel:Qs,mealCard__macros:Js,mealCard__additionalStats:Zs,mealCard__statBoosts:ea,mealCard__statBoostsTitle:ta,mealCard__statBoostsGrid:sa,mealCard__currency:aa,mealCard__currencyText:na,macroItem:ra,macroItem__value:oa,macroItem__label:ia,"macroItem--protein":"_macroItem--protein_1mk9a_172","macroItem--carbs":"_macroItem--carbs_1mk9a_175","macroItem--fat":"_macroItem--fat_1mk9a_178",additionalStat:la,additionalStat__icon:ca,additionalStat__content:da,additionalStat__value:ua,additionalStat__label:ha,statBoost:pa,"statBoost--red":"_statBoost--red_1mk9a_221",statBoost__icon:ma,"statBoost--blue":"_statBoost--blue_1mk9a_224","statBoost--yellow":"_statBoost--yellow_1mk9a_227","statBoost--green":"_statBoost--green_1mk9a_230","statBoost--purple":"_statBoost--purple_1mk9a_233",statBoost__label:_a,statBoost__value:xa,loadingState:ga,loadingState__content:fa,pulse:ya,loadingState__text:ja,loadingState__subtext:va,loadingMore:Sa,loadingMore__content:ba,loadingMore__text:Ca,loadingMore__subtext:wa,emptyState:ka,emptyState__icon:Na,emptyState__text:Ia,emptyState__subtext:Ta,endOfList:La,endOfList__text:Ba,endOfList__subtext:Aa,mealsList:Fa,demoApp:Ma,demoApp__container:Pa,demoApp__title:Ea,demoApp__button:Ra},Oa=()=>{const{userData:t}=U(),[a,o]=n.useState([]),[r,s]=n.useState(!1),[i,f]=n.useState(!1),[u,x]=n.useState(!0),[l,h]=n.useState(0),y=n.useRef(null),A=10,C=async(v=l,c=!1)=>{c?s(!0):f(!0);try{const m=(await W.get(`/meal/${t==null?void 0:t.uid}/meals?limit=${A}&offset=${v}`)).data,j=m.meals||[];o(c?j:_=>[..._,...j]);const N=m.total||0,p=v+j.length;x(p<N),h(v+j.length)}catch(S){console.error("Error fetching meals:",S)}s(!1),f(!1)};n.useEffect(()=>{C(0,!0)},[]),n.useEffect(()=>{const v=()=>{const S=document.querySelector(".saltDrawer");if(!S)return;const{scrollTop:m,scrollHeight:j,clientHeight:N}=S;j-m<=N+100&&u&&!i&&C(l,!1)},c=document.querySelector(".saltDrawer");return c&&c.addEventListener("scroll",v),()=>{c&&c.removeEventListener("scroll",v)}},[l,u,i]);const T=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=({icon:v,label:c,value:S,color:m})=>e.jsxs("div",{className:`${g.statBoost} ${g[`statBoost--${m}`]}`,children:[e.jsx(v,{size:12,className:g.statBoost__icon}),e.jsx("span",{className:g.statBoost__label,children:c}),e.jsxs("span",{className:g.statBoost__value,children:["+",S]})]}),E=({meal:v})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:g.mealCard,children:[e.jsxs("div",{className:g.mealCard__header,children:[e.jsxs("div",{className:g.mealCard__info,children:[e.jsx("h3",{className:g.mealCard__title,children:v.description}),e.jsx("p",{className:g.mealCard__timestamp,children:T(v.timestamp)})]}),e.jsxs("div",{className:g.mealCard__calories,children:[e.jsx("div",{className:g.mealCard__caloriesValue,children:v.calories}),e.jsx("div",{className:g.mealCard__caloriesLabel,children:"CAL"})]})]}),e.jsxs("div",{className:g.mealCard__macros,children:[e.jsxs("div",{className:`${g.macroItem} ${g["macroItem--protein"]}`,children:[e.jsxs("div",{className:g.macroItem__value,children:[v.protein,"g"]}),e.jsx("div",{className:g.macroItem__label,children:"PROTEIN"})]}),e.jsxs("div",{className:`${g.macroItem} ${g["macroItem--carbs"]}`,children:[e.jsxs("div",{className:g.macroItem__value,children:[v.carbs,"g"]}),e.jsx("div",{className:g.macroItem__label,children:"CARBS"})]}),e.jsxs("div",{className:`${g.macroItem} ${g["macroItem--fat"]}`,children:[e.jsxs("div",{className:g.macroItem__value,children:[v.fat,"g"]}),e.jsx("div",{className:g.macroItem__label,children:"FAT"})]})]}),e.jsxs("div",{className:g.mealCard__additionalStats,children:[e.jsxs("div",{className:g.additionalStat,children:[e.jsx(pt,{size:16,className:g.additionalStat__icon}),e.jsxs("div",{className:g.additionalStat__content,children:[e.jsxs("div",{className:g.additionalStat__value,children:[v.fluid_intake_ml,"ml"]}),e.jsx("div",{className:g.additionalStat__label,children:"FLUID"})]})]}),e.jsxs("div",{className:g.additionalStat,children:[e.jsx(mt,{size:16,className:g.additionalStat__icon}),e.jsxs("div",{className:g.additionalStat__content,children:[e.jsx("div",{className:g.additionalStat__value,children:v.servings_of_fruits_vegetables}),e.jsx("div",{className:g.additionalStat__label,children:"FRUIT/VEG"})]})]})]}),e.jsxs("div",{className:g.mealCard__statBoosts,children:[e.jsx("div",{className:g.mealCard__statBoostsTitle,children:"STAT BOOSTS"}),e.jsxs("div",{className:g.mealCard__statBoostsGrid,children:[v.mealAffects.armorIncrease>0&&e.jsx(M,{icon:_t,label:"ARM",value:v.mealAffects.armorIncrease,color:"blue"}),v.mealAffects.speedIncrease>0&&e.jsx(M,{icon:qe,label:"SPD",value:v.mealAffects.speedIncrease,color:"yellow"}),v.mealAffects.intelligenceIncrease>0&&e.jsx(M,{icon:$e,label:"INT",value:v.mealAffects.intelligenceIncrease,color:"pink"}),v.mealAffects.defenseIncrease>0&&e.jsx(M,{icon:xt,label:"DEF",value:v.mealAffects.defenseIncrease,color:"red"})]})]}),e.jsx("div",{className:g.mealCard__currency,children:e.jsxs("span",{className:g.mealCard__currencyText,children:[(t==null?void 0:t.pet.currentPet)==="puppy"?e.jsx(e.Fragment,{children:e.jsx(gt,{size:15,style:{verticalAlign:"middle"}})}):e.jsx(e.Fragment,{children:e.jsx(ft,{size:15,style:{verticalAlign:"middle"}})})," "+v.currency]})})]})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:g.drawer__header,children:e.jsxs("div",{className:g.drawer__headerContent,children:[e.jsx(Fe,{className:g.drawer__headerIcon,size:32}),e.jsx("h2",{className:g.drawer__title,children:"Meal Log"})]})}),e.jsx("div",{className:"p-4 overflow-y-auto",style:{maxHeight:"calc(80vh - 80px)"},ref:y,children:r?e.jsx("div",{className:g.loadingState,children:e.jsxs("div",{className:g.loadingState__content,children:[e.jsx("div",{className:g.loadingState__text,children:"Loading meals..."}),e.jsx("div",{className:g.loadingState__subtext,children:"ðŸ“– Fetching your meal history"})]})}):a.length===0?e.jsxs("div",{className:g.emptyState,children:[e.jsx(Fe,{className:g.emptyState__icon,size:48}),e.jsx("div",{className:g.emptyState__text,children:"No meals logged yet"}),e.jsx("div",{className:g.emptyState__subtext,children:"Start tracking your meals to see them here!"})]}):e.jsxs("div",{className:g.mealsList,children:[a.map((v,c)=>e.jsx(E,{meal:v},`${v.id}-${c}`)),i&&e.jsx("div",{className:g.loadingMore,children:e.jsxs("div",{className:g.loadingMore__content,children:[e.jsx("div",{className:g.loadingMore__text,children:"Loading more meals..."}),e.jsx("div",{className:g.loadingMore__subtext,children:"âš¡ Fetching next batch"})]})}),!u&&a.length>0&&e.jsxs("div",{className:g.endOfList,children:[e.jsx("div",{className:g.endOfList__text,children:"ðŸŽ¯ You've reached the end of your meal log!"}),e.jsxs("div",{className:g.endOfList__subtext,children:["Total meals loaded: ",a.length]})]})]})})]})},Da="_container_1chaz_4",Wa="_heading_1chaz_10",za="_rangeButtons_1chaz_16",qa="_button_1chaz_23",$a="_activeButton_1chaz_37",Ha="_checkmarkPath_1chaz_53",te={container:Da,heading:Wa,rangeButtons:za,button:qa,activeButton:$a,checkmarkPath:Ha,"draw-check":"_draw-check_1chaz_1","fade-check":"_fade-check_1chaz_1"},Ua=({onWeightChange:t})=>{var u,x;const{userData:a}=U(),o=()=>{var h,y;const l=(h=a==null?void 0:a.bodyStats)==null?void 0:h.weightLogs;if(Array.isArray(l)&&l.length>0){const A=[...l].sort((C,T)=>new Date(C.date).getTime()-new Date(T.date).getTime());return A[A.length-1].weight}return((y=a==null?void 0:a.bodyStats)==null?void 0:y.weight)??150},[r,s]=n.useState(o());n.useEffect(()=>{s(o())},[(u=a==null?void 0:a.bodyStats)==null?void 0:u.weightLogs,(x=a==null?void 0:a.bodyStats)==null?void 0:x.weight]);const i=l=>{const h=parseFloat((r+l).toFixed(1));h>=0&&s(h)},f=()=>{t(r)};return e.jsxs("div",{style:{marginTop:20,display:"flex",alignItems:"center",gap:12,fontFamily:"Arial, sans-serif"},children:[e.jsx("label",{htmlFor:"current-weight",style:{fontWeight:"bold"},children:"Current Weight:"}),e.jsx(he,{id:"current-weight",type:"number",step:.1,value:r,onChange:l=>{const h=parseFloat(l.target.value);!isNaN(h)&&h>=0?s(h):l.target.value===""&&s(0)},style:{width:80,fontSize:16,padding:"4px 8px"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx(V,{onClick:()=>i(.5),style:{padding:"2px 6px",cursor:"pointer",userSelect:"none"},"aria-label":"Increase weight",children:"â–²"}),e.jsx(V,{onClick:()=>i(-.5),style:{padding:"2px 6px",cursor:"pointer",userSelect:"none"},"aria-label":"Decrease weight",children:"â–¼"})]}),e.jsx(V,{onClick:f,style:{fontFamily:"'Press Start 2P', cursive",background:"#00ff00",color:"#000",border:"2px solid #00ff00",padding:"10px 20px",cursor:"pointer",transition:"0.2s",borderRadius:"2px"},children:"Submit"})]})},Ga={week:7,month:30,threeMonths:90,all:1/0},Va=t=>t<=7?0:t<=30?4:t<=90?15:30,Xa=()=>{const[t,a]=n.useState(!1),{userData:o}=U(),[r,s]=n.useState("week"),[i,f]=n.useState([]),[u,x]=n.useState(!0);n.useEffect(()=>{(t||u)&&W.get(`/weightLogs/${o==null?void 0:o.uid}`).then(C=>{f(C.data.weightLogs)}).catch(C=>{console.log(C)}),x(!1)},[t]);const l=[...i].sort((C,T)=>new Date(C.date).getTime()-new Date(T.date).getTime()).map(C=>({date:typeof C.date=="string"?C.date.slice(0,10):C.date instanceof Date?C.date.toISOString().slice(0,10):"",weight:C.weight})),h=r==="all"?l:l.slice(-Ga[r]),y=Va(h.length),A=async C=>{if(!o)return;const T={date:new Date().toISOString(),weight:C,userId:o.uid};try{const{data:M}=await W.post("weightLogs/addWeightLog",T);a(!0),setTimeout(()=>a(!1),1500)}catch(M){console.error(M)}};return e.jsxs("div",{className:te.container,children:[t&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999999999},children:e.jsx("svg",{viewBox:"0 0 100 100",width:"50%",height:"50%",style:{stroke:"#00ff00",strokeWidth:8,fill:"none"},children:e.jsx("path",{className:te.checkmarkPath,d:"M20 55 L40 75 L80 30"})})}),e.jsx("h2",{className:te.heading,children:"Log Your Weight"}),e.jsx("div",{className:te.rangeButtons,children:["week","month","threeMonths","all"].map(C=>e.jsx(V,{className:r===C?te.activeButton:te.button,onClick:()=>s(C),children:C==="week"?"1W":C==="month"?"1M":C==="threeMonths"?"3M":"ALL"},C))}),e.jsx(yt,{width:"100%",height:300,children:e.jsxs(jt,{data:h,margin:{top:5,right:20,left:0,bottom:5},children:[e.jsx(vt,{strokeDasharray:"3 3",stroke:"#ff9900"}),e.jsx(St,{dataKey:"date",tickFormatter:C=>{const T=new Date(C);return isNaN(T.getTime())?"":Me(T,"MM/dd")},stroke:"#ff9900",interval:y,style:{fontFamily:"Arial, sans-serif",fontSize:15}}),e.jsx(bt,{stroke:"#ff9900",domain:["auto","auto"],style:{fontFamily:"Arial, sans-serif",fontSize:15}}),e.jsx(Ct,{labelFormatter:C=>Me(new Date(C),"PPP"),contentStyle:{backgroundColor:"#000",borderColor:"#00FF00",color:"#00FF00"},itemStyle:{color:"#FF69B4"}}),e.jsx(wt,{type:"monotone",dataKey:"weight",stroke:"#00ff00",dot:{r:2}})]})}),e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(Ua,{onWeightChange:A})})]})},Ka="_drawer__header_1hvqx_2",Ya="_drawer__headerContent_1hvqx_24",Qa="_drawer__headerIcon_1hvqx_32",Ja="_drawer__title_1hvqx_46",Za="_drawer__content_1hvqx_56",en="_loadingState_1hvqx_77",tn="_emptyState_1hvqx_78",sn="_loadingState__content_1hvqx_90",an="_emptyState__content_1hvqx_91",nn="_loadingState__spinner_1hvqx_98",rn="_loadingState__text_1hvqx_115",on="_emptyState__text_1hvqx_116",ln="_loadingState__subtext_1hvqx_125",cn="_emptyState__subtext_1hvqx_126",dn="_emptyState__icon_1hvqx_135",un="_workoutsList_1hvqx_143",hn="_workoutCard_1hvqx_150",pn="_workoutCard__border_1hvqx_186",mn="_workoutCard__header_1hvqx_197",_n="_workoutCard__info_1hvqx_206",xn="_workoutCard__title_1hvqx_210",gn="_workoutCard__timestamp_1hvqx_217",fn="_workoutCard__timestampIcon_1hvqx_229",yn="_workoutCard__xp_1hvqx_233",jn="_workoutCard__xpValue_1hvqx_244",vn="_workoutCard__xpLabel_1hvqx_251",Sn="_workoutCard__stats_1hvqx_256",bn="_statItem_1hvqx_263",Cn="_statItem__value_1hvqx_304",wn="_statItem__label_1hvqx_311",kn="_workoutCard__sectionTitle_1hvqx_317",Nn="_workoutCard__manualStats_1hvqx_333",In="_workoutCard__manualGrid_1hvqx_337",Tn="_manualStat_1hvqx_343",Ln="_manualStat__icon_1hvqx_354",Bn="_manualStat__content_1hvqx_359",An="_manualStat__value_1hvqx_365",Fn="_manualStat__label_1hvqx_373",Mn="_workoutCard__exercises_1hvqx_379",Pn="_workoutCard__exercisesList_1hvqx_383",En="_exerciseItem_1hvqx_389",Rn="_exerciseItem__name_1hvqx_407",On="_exerciseItem__sets_1hvqx_414",Dn="_exerciseItem__set_1hvqx_414",Wn="_exerciseItem__notes_1hvqx_430",zn="_workoutCard__statBoosts_1hvqx_439",qn="_workoutCard__statBoostsGrid_1hvqx_449",$n="_statBoost_1hvqx_455",Hn="_statBoost__icon_1hvqx_496",Un="_statBoost__label_1hvqx_500",Gn="_statBoost__value_1hvqx_504",Vn="_workoutCard__notes_1hvqx_509",Xn="_workoutCard__notesText_1hvqx_514",Kn="_loadingMore_1hvqx_524",Yn="_endOfList_1hvqx_525",Qn="_loadingMore__content_1hvqx_539",Jn="_loadingMore__spinner_1hvqx_545",Zn="_loadingMore__text_1hvqx_553",er="_loadingMore__subtext_1hvqx_561",tr="_endOfList__content_1hvqx_575",sr="_endOfList__text_1hvqx_581",ar="_endOfList__subtext_1hvqx_589",d={drawer__header:Ka,drawer__headerContent:Ya,drawer__headerIcon:Qa,"pulse-glow":"_pulse-glow_1hvqx_1",drawer__title:Ja,drawer__content:Za,loadingState:en,emptyState:tn,loadingState__content:sn,emptyState__content:an,loadingState__spinner:nn,"pixel-spin":"_pixel-spin_1hvqx_1",loadingState__text:rn,emptyState__text:on,loadingState__subtext:ln,emptyState__subtext:cn,emptyState__icon:dn,workoutsList:un,workoutCard:hn,"scan-line":"_scan-line_1hvqx_1",workoutCard__border:pn,workoutCard__header:mn,workoutCard__info:_n,workoutCard__title:xn,workoutCard__timestamp:gn,workoutCard__timestampIcon:fn,workoutCard__xp:yn,workoutCard__xpValue:jn,workoutCard__xpLabel:vn,workoutCard__stats:Sn,statItem:bn,"statItem--type":"_statItem--type_1hvqx_286","statItem--logtype":"_statItem--logtype_1hvqx_292","statItem--rpe":"_statItem--rpe_1hvqx_298",statItem__value:Cn,statItem__label:wn,workoutCard__sectionTitle:kn,workoutCard__manualStats:Nn,workoutCard__manualGrid:In,manualStat:Tn,manualStat__icon:Ln,manualStat__content:Bn,manualStat__value:An,manualStat__label:Fn,workoutCard__exercises:Mn,workoutCard__exercisesList:Pn,exerciseItem:En,exerciseItem__name:Rn,exerciseItem__sets:On,exerciseItem__set:Dn,exerciseItem__notes:Wn,workoutCard__statBoosts:zn,workoutCard__statBoostsGrid:qn,statBoost:$n,"statBoost--red":"_statBoost--red_1hvqx_478","statBoost--yellow":"_statBoost--yellow_1hvqx_484","statBoost--pink":"_statBoost--pink_1hvqx_490",statBoost__icon:Hn,statBoost__label:Un,statBoost__value:Gn,workoutCard__notes:Vn,workoutCard__notesText:Xn,loadingMore:Kn,endOfList:Yn,loadingMore__content:Qn,loadingMore__spinner:Jn,loadingMore__text:Zn,loadingMore__subtext:er,endOfList__content:tr,endOfList__text:sr,endOfList__subtext:ar},nr=()=>{const{userData:t}=U(),[a,o]=n.useState([]),[r,s]=n.useState(!1),[i,f]=n.useState(!1),[u,x]=n.useState(!0),[l,h]=n.useState(0),y=n.useRef(null),A=10,C=async(c=l,S=!1)=>{S?s(!0):f(!0);try{const j=(await W.get(`/workout/${t==null?void 0:t.uid}/workouts?limit=${A}&offset=${c}`)).data,N=j.workouts||[];o(S?N:I=>[...I,...N]);const p=j.total||0,_=c+N.length;x(_<p),h(c+N.length)}catch(m){console.error("Error fetching workouts:",m)}s(!1),f(!1)};n.useEffect(()=>{C(0,!0)},[]),n.useEffect(()=>{const c=()=>{const m=document.querySelector(".saltDrawer");if(!m)return;const{scrollTop:j,scrollHeight:N,clientHeight:p}=m;N-j<=p+100&&u&&!i&&C(l,!1)},S=document.querySelector(".saltDrawer");return S&&S.addEventListener("scroll",c),()=>{S&&S.removeEventListener("scroll",c)}},[l,u,i]);const T=c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=c=>{const S=Math.floor(c/60),m=c%60;return S>0?`${S}h ${m}m`:`${m}m`},E=({icon:c,label:S,value:m,color:j})=>e.jsxs("div",{className:`${d.statBoost} ${d[`statBoost--${j}`]}`,children:[e.jsx(c,{size:17,className:d.statBoost__icon}),e.jsx("span",{className:d.statBoost__label,children:S}),e.jsxs("span",{className:d.statBoost__value,children:["+",m]})]}),v=({workout:c})=>{var N;const S=c.logType==="manual",m=c.logType==="routine",j=c.workoutXp.pet;return e.jsxs("div",{className:d.workoutCard,children:[e.jsx("div",{className:d.workoutCard__border}),e.jsxs("div",{className:d.workoutCard__header,children:[e.jsxs("div",{className:d.workoutCard__info,children:[e.jsx("h3",{className:d.workoutCard__title,children:m?`${c.routineDay} ROUTINE`:`${(N=c==null?void 0:c.workoutType)==null?void 0:N.toUpperCase()} SESSION`}),e.jsxs("p",{className:d.workoutCard__timestamp,children:[e.jsx(kt,{size:12,className:d.workoutCard__timestampIcon}),T(c.timestamp)]})]}),e.jsxs("div",{className:d.workoutCard__xp,children:[e.jsx("div",{className:d.workoutCard__xpValue,children:j}),e.jsx("div",{className:d.workoutCard__xpLabel,children:"XP"})]})]}),e.jsx("div",{className:d.workoutCard__stats,children:c.rpe&&e.jsxs("div",{className:`${d.statItem} ${d["statItem--rpe"]}`,children:[e.jsxs("div",{className:d.statItem__value,children:[c.rpe,"/4"]}),e.jsx("div",{className:d.statItem__label,children:"RPE"})]})}),S&&e.jsx("div",{className:d.workoutCard__manualStats,children:e.jsxs("div",{className:d.workoutCard__manualGrid,children:[c.duration&&e.jsxs("div",{className:d.manualStat,children:[e.jsx(Nt,{size:25,className:d.manualStat__icon}),e.jsxs("div",{className:d.manualStat__content,children:[e.jsx("div",{className:d.manualStat__value,children:M(c.duration)}),e.jsx("div",{className:d.manualStat__label,children:"DURATION"})]})]}),c.distance!=0&&e.jsxs("div",{className:d.manualStat,children:[e.jsx(It,{size:16,className:d.manualStat__icon}),e.jsxs("div",{className:d.manualStat__content,children:[e.jsxs("div",{className:d.manualStat__value,children:[c.distance," KM"]}),e.jsx("div",{className:d.manualStat__label,children:"DISTANCE"})]})]})]})}),m&&c.performedExercises&&c.performedExercises.length>0&&e.jsxs("div",{className:d.workoutCard__exercises,children:[e.jsxs("div",{className:d.workoutCard__sectionTitle,children:[e.jsx(_e,{size:14}),"PERFORMED EXERCISES"]}),e.jsx("div",{className:d.workoutCard__exercisesList,children:c.performedExercises.map((p,_)=>e.jsxs("div",{className:d.exerciseItem,children:[e.jsx("div",{className:d.exerciseItem__name,children:p.name.toUpperCase()}),e.jsx("div",{className:d.exerciseItem__sets,children:p.sets.map((I,L)=>e.jsxs("span",{className:d.exerciseItem__set,children:[I.weight,"KG Ã— ",I.reps]},L))}),p.notes&&e.jsxs("div",{className:d.exerciseItem__notes,children:['"',p.notes,'"']})]},_))})]}),e.jsxs("div",{className:d.workoutCard__statBoosts,children:[e.jsxs("div",{className:d.workoutCard__sectionTitle,children:[e.jsx(Tt,{size:17}),"Skills GAINED"]}),e.jsxs("div",{className:d.workoutCard__statBoostsGrid,children:[c.workoutXp.strength>0&&e.jsx(E,{icon:Lt,label:"STR",value:c.workoutXp.strength,color:"red"}),c.workoutXp.agility>0&&e.jsx(E,{icon:qe,label:"AGI",value:c.workoutXp.agility,color:"yellow"})]})]}),c.notes&&e.jsxs("div",{className:d.workoutCard__notes,children:[e.jsxs("div",{className:d.workoutCard__sectionTitle,children:[e.jsx($e,{size:14}),"WORKOUT NOTES"]}),e.jsxs("div",{className:d.workoutCard__notesText,children:['"',c.notes,'"']})]})]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:d.drawer__header,children:e.jsxs("div",{className:d.drawer__headerContent,children:[e.jsx(_e,{className:d.drawer__headerIcon,size:32}),e.jsx("h2",{className:d.drawer__title,children:"WORKOUT LOG"})]})}),e.jsx("div",{className:d.drawer__content,ref:y,children:r?e.jsx("div",{className:d.loadingState,children:e.jsxs("div",{className:d.loadingState__content,children:[e.jsx("div",{className:d.loadingState__spinner}),e.jsx("div",{className:d.loadingState__text,children:"LOADING WORKOUTS..."}),e.jsx("div",{className:d.loadingState__subtext,children:"ðŸ’ª FETCHING WORKOUT DATA"})]})}):a.length===0?e.jsx("div",{className:d.emptyState,children:e.jsxs("div",{className:d.emptyState__content,children:[e.jsx(_e,{className:d.emptyState__icon,size:48}),e.jsx("div",{className:d.emptyState__text,children:"NO WORKOUTS LOGGED"}),e.jsx("div",{className:d.emptyState__subtext,children:"START YOUR FITNESS JOURNEY!"})]})}):e.jsxs("div",{className:d.workoutsList,children:[a.map((c,S)=>e.jsx(v,{workout:c},`${c._id}-${S}`)),i&&e.jsx("div",{className:d.loadingMore,children:e.jsxs("div",{className:d.loadingMore__content,children:[e.jsx("div",{className:d.loadingMore__spinner}),e.jsx("div",{className:d.loadingMore__text,children:"LOADING MORE..."}),e.jsx("div",{className:d.loadingMore__subtext,children:"âš¡ FETCHING NEXT BATCH"})]})}),!u&&a.length>0&&e.jsx("div",{className:d.endOfList,children:e.jsxs("div",{className:d.endOfList__content,children:[e.jsx("div",{className:d.endOfList__text,children:"ðŸŽ¯ END OF WORKOUT LOG"}),e.jsxs("div",{className:d.endOfList__subtext,children:["TOTAL WORKOUTS: ",a.length]})]})})]})})]})},rr="_container_1y1su_2",or="_heading_1y1su_9",ir="_optionButton_1y1su_15",lr="_integrationSection_1y1su_30",cr="_label_1y1su_51",dr="_input_1y1su_57",ur="_saveButton_1y1su_67",Z={container:rr,heading:or,optionButton:ir,integrationSection:lr,label:cr,input:dr,saveButton:ur};function hr(){const[t,a]=n.useState(!1),[o,r]=n.useState(""),{userData:s,setUserData:i}=U(),[f,u]=n.useState(!1),{addToast:x}=Te();function l(){console.log("saving key"),W.post("/users/hevy/saveKey",{hevyKey:o,uid:s==null?void 0:s.uid}).then(h=>{console.log(h),i(h.data.updatedUser),x({content:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#1c1c1c",border:"3px solid #ffa640",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",fontSize:17,textTransform:"uppercase",boxShadow:"0 0 8px #ffa640",borderRadius:8},children:[e.jsx(P,{size:32,symbol:"ðŸ‹ðŸ½ðŸ”¥ðŸ’ªðŸ¼ðŸŽ§"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{marginBottom:4},children:"Success!"}),e.jsx("div",{style:{marginBottom:4},children:"Integrated with Hevy!"})]})]}),duration:2e3})}).catch(h=>{console.error(h)})}return n.useEffect(()=>{u(!!(s!=null&&s.hevyKey))},[s]),e.jsxs("div",{className:Z.container,children:[e.jsx("h2",{className:Z.heading,children:"User Settings"}),e.jsx(V,{className:Z.optionButton,onClick:()=>a(h=>!h),children:"Hevy Integration"}),t&&e.jsxs("div",{className:Z.integrationSection,children:[e.jsx("h3",{children:"Connect to Hevy"}),f?e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{color:"green"},children:"âœ… Already integrated with Hevy."}),e.jsx("p",{children:"Your workouts will automatically sync from Hevy."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{color:"red"},children:"Prerequisite: Must be a Hevy Pro member!"}),e.jsx("p",{children:"Integrate your Hevy account to automatically sync workouts logged there into this app to help your pet evolve!"}),e.jsx("p",{children:"To get your API key, go to hevy.com, log in, click 'Settings' â†’ 'Developer', generate and copy your API key, then paste it below."}),e.jsx("label",{className:Z.label,htmlFor:"hevyKey",children:"Hevy API Key"}),e.jsx(he,{id:"hevyKey",type:"text",className:Z.input,placeholder:"Enter your API key",value:o,onChange:h=>r(h.target.value)}),e.jsx(V,{className:Z.saveButton,onClick:l,children:"Integrate with Hevy!"})]})]})]})}n.forwardRef(function({onClick:a,to:o,...r},s){const i=Bt(o),f=At(o);return e.jsx(Ft,{...r,href:i,onClick:u=>{a==null||a(u),u.defaultPrevented||f(u)},ref:s})});const pr=["Pet","Skills","Quests","Routines"],mr=({selectedIndex:t,setSelectedIndex:a})=>{const[o,r]=n.useState("none"),{pathname:s}=Mt();return e.jsxs("div",{className:"app-header",children:[e.jsx("div",{children:e.jsxs(Pe,{children:[e.jsx(Ee,{children:e.jsx(V,{className:"saltButton","aria-label":"Open Menu",children:e.jsx(Pt,{"aria-hidden":!0})})}),e.jsxs(Re,{children:[e.jsx(Q,{onClick:()=>r("logWeight"),children:"Log Weight"}),e.jsx(Q,{onClick:()=>r("logFood"),children:"Log Food"}),e.jsx(Q,{onClick:()=>r("logWorkout"),children:"Log Workout"})]})]})}),e.jsx(He,{selectedIndex:t,onChange:a,children:e.jsx(Ue,{className:"tab-nav",children:pr.map((i,f)=>e.jsx(Ge,{className:({selected:u})=>`tab-button ${u?"tab-selected":""}`,children:i},i))})}),e.jsx("div",{children:e.jsx(Et,{placement:"top",content:"User Settings",children:e.jsxs(Pe,{children:[e.jsx(Ee,{children:e.jsx(V,{className:"saltButton","aria-label":"Open Menu",children:e.jsx(Rt,{"aria-hidden":!0})})}),e.jsxs(Re,{children:[e.jsx(Q,{onClick:()=>r("mealHist"),children:"View Meals"}),e.jsx(Q,{onClick:()=>r("workoutHist"),children:"View Workouts"}),e.jsx(Q,{onClick:()=>r("settings"),children:"Settings"}),e.jsx(Q,{onClick:_s,children:"Logout"})]})]})})}),e.jsxs(Ot,{open:o!=="none",onOpenChange:()=>r("none"),position:"bottom",children:[e.jsx(Dt,{onClick:()=>r("none")}),o==="logFood"&&e.jsx(gs,{}),o==="logWorkout"&&e.jsx(Ps,{setDrawerView:r}),o==="mealHist"&&e.jsx(Oa,{}),o==="workoutHist"&&e.jsx(nr,{}),o==="logWeight"&&e.jsx(Xa,{}),o==="settings"&&e.jsx(hr,{})]})]})},_r="_myBackground_1pm88_1",xr="_loginScreen_1pm88_13",gr="_overlay_1pm88_29",fr="_loginContainer_1pm88_39",yr="_googleButton_1pm88_49",je={myBackground:_r,loginScreen:xr,overlay:gr,loginContainer:fr,googleButton:yr};function jr(){const{setUserData:t}=U(),[a,o]=n.useState(!1),r=async()=>{o(!0),console.log("Attempting to log in with Google...");try{const i=await(await Wt(pe,ms)).user.getIdToken(),{data:f}=await W.post("/auth/google",{token:i}),x=(await W.get(`/users/${f.uid}`)).data;t(x),console.log("User saved or retrieved from DB:",f)}catch(s){console.error(s)}o(!0)};return e.jsx("div",{className:je.loginScreen,children:e.jsx("div",{className:je.loginContainer,children:a?e.jsx(ze,{size:"large","aria-label":"loading",role:"status"}):e.jsx(se,{className:je.googleButton,onClick:r,children:"Embark with Google"})})})}const vr=()=>{const{userData:t,setUserData:a}=U();if(!t)return e.jsx(b,{children:"Loading..."});const[o,r]=n.useState(0),[s,i]=n.useState(t),[f,u]=n.useState(1),[x,l]=n.useState(1.2),[h,y]=n.useState(0),[A,C]=n.useState(Math.floor(s.bodyStats.height/12)),[T,M]=n.useState(s.bodyStats.height%12);if(!t||!s)return e.jsx(b,{children:"Loading..."});n.useEffect(()=>{const p=A*12+T;console.log("total inches : ",p),i(_=>({..._,bodyStats:{..._.bodyStats,height:p}}))},[A,T]);const E=p=>{const{weight:_,height:I,age:L,sex:k}=p;return k==="male"?10*(_/2.205)+6.25*(I*2.54)-5*L+5:10*(_/2.205)+6.25*(I*2.54)-5*L-161},v=p=>{const _=x+h;return p*_},c=async p=>{p.preventDefault();const _=s.bodyStats.weight,I={userId:t.uid,date:new Date,weight:_},L=E(s.bodyStats),k=v(L),B=s.goal.goalType==="weight_loss"?k-f*3500/7:s.goal.goalType==="muscle_gain"?k+300:k,z=Math.round(B/100),X={...s,bodyStats:{...s.bodyStats,bmr:L,tdee:k,weight:_},goal:{...s.goal,dailyCalorieGoal:B,dailyCurrencyTotal:z,dailyCurrencyUsed:{}}};console.log("Submitted User Data:",X);try{const{data:O}=await W.post("/users/update",{...X});a(O)}catch(O){console.error("Error updating user data:",O)}try{await W.post("/weightLogs/addWeightLog",I)}catch(O){console.error(O)}},S=(p,_,I)=>{const{name:L,value:k}=p.target;i({...s,[_]:{...s[_],[I||L]:k}})},m=(p,_,I)=>{i({...s,[p]:{...s[p],[_]:I}})},j=()=>{if(o===0){const{weight:p,height:_,age:I,sex:L}=s.bodyStats;return p>0&&_>0&&I>0&&["male","female"].includes(L)}if(o===1)return["weight_loss","muscle_gain","maintenance"].includes(s.goal.goalType);if(o===2){const{name:p,currentPet:_}=s.pet;return p.trim()!==""&&["puppy","kitten","bird"].includes(_)}return!0},N=["Body Stats","Fitness Goals","Virtual Pet"];return e.jsx(F,{direction:"column",align:"stretch",style:{display:"flex",minHeight:"100vh",width:"100%",overflow:"hidden",padding:"14px"},children:e.jsx(D,{grow:1,children:e.jsxs(H,{align:"stretch",gap:3,style:{display:"flex",minHeight:"100%",width:"100%"},children:[e.jsx(D,{children:e.jsx(b,{styleAs:"h1",children:"Welcome to Your Journey"})}),e.jsx(D,{children:e.jsx(zt,{children:N.map((p,_)=>e.jsx(qt,{label:p,stage:o===_?"active":_<o?"completed":"pending"},_))})}),e.jsxs("form",{onSubmit:c,children:[o===0&&e.jsxs(H,{align:"stretch",gap:2,children:[e.jsx(b,{styleAs:"h2",children:"Body Stats"}),e.jsxs(J,{children:[e.jsx(ee,{children:"Weight (lbs)"}),e.jsx(ce,{value:s.bodyStats.weight===0?"":s.bodyStats.weight,onChange:p=>S(p,"bodyStats","weight")})]}),e.jsxs(J,{children:[e.jsx(ee,{children:"Height"}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx(de,{value:A.toString()+" ft",onSelectionChange:(p,_)=>C(Number(_)),children:[2,3,4,5,6,7,8,9].map(p=>e.jsxs(ue,{value:p.toString(),children:[p," ft"]},p))}),e.jsx(de,{value:T.toString()+" in",onSelectionChange:(p,_)=>M(Number(_)),children:Array.from({length:12},(p,_)=>e.jsxs(ue,{value:_.toString(),children:[_," in"]},_))})]})]}),e.jsxs(J,{children:[e.jsx(ee,{children:"Sex"}),e.jsxs(F,{direction:"row",gap:2,children:[e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("bodyStats","sex","male"),"aria-label":"Male",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.bodyStats.sex==="male"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsxs(F,{direction:"column",align:"center",gap:1,children:[e.jsx(P,{symbol:"ðŸ™ŽðŸ»â€â™‚ï¸",size:32}),e.jsx(b,{children:"Male"})]})})}),e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("bodyStats","sex","female"),"aria-label":"Female",style:{borderRadius:"12px",backgroundColor:"var(--salt-palette-neutral-selection)",border:s.bodyStats.sex==="female"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsxs(F,{direction:"column",align:"center",gap:1,children:[e.jsx(P,{symbol:"ðŸ™ŽðŸ»â€â™€ï¸",size:32}),e.jsx(b,{children:"Female"})]})})})]})]}),e.jsxs(J,{children:[e.jsx(ee,{children:"Age (years)"}),e.jsx(ce,{value:s.bodyStats.age===0?"":s.bodyStats.age,onChange:p=>S(p,"bodyStats","age")})]})]}),o===1&&e.jsxs(H,{gap:2,children:[e.jsx(b,{styleAs:"h3",children:"Fitness Goals"}),e.jsxs(F,{direction:"row",gap:2,children:[e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("goal","goalType","weight_loss"),"aria-label":"Weight Loss",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.goal.goalType==="weight_loss"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(F,{direction:"column",align:"center",gap:1,children:e.jsxs(D,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(P,{symbol:"ðŸ”¥",size:24}),e.jsx(b,{children:"Weight Loss"})]})})})}),e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("goal","goalType","muscle_gain"),"aria-label":"Muscle Gain",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.goal.goalType==="muscle_gain"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(F,{direction:"column",align:"center",gap:1,children:e.jsxs(D,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(P,{symbol:s.bodyStats.sex==="male"?"ðŸ‹ï¸â€â™‚ï¸":"ðŸ‹ðŸ½â€â™€ï¸",size:24}),e.jsx(b,{children:"Muscle Gain"})]})})})}),e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("goal","goalType","maintenance"),"aria-label":"Maintenance",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.goal.goalType==="maintenance"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(F,{direction:"column",align:"center",gap:1,children:e.jsxs(D,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(P,{symbol:"ðŸ› ï¸",size:24}),e.jsx(b,{children:"Maintenance"})]})})})})]}),s.goal.goalType==="weight_loss"&&e.jsxs(J,{children:[e.jsx(b,{styleAs:"h3",children:"Weekly Weight Loss (lbs)"}),e.jsx($t,{max:2,min:.5,step:.25,value:f,onChange:(p,_)=>u(_),minLabel:"0.5",maxLabel:"2","aria-label":"Weekly weight loss slider"})]}),e.jsxs(H,{gap:1,children:[e.jsx(b,{styleAs:"h3",children:"Job Activity Level"}),e.jsx(b,{styleAs:"h4",style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Select the option that best describes your daily work activity"}),e.jsxs(F,{direction:"column",gap:1,children:[e.jsx($,{onClick:()=>l(1.2),"aria-label":"Sedentary - Desk Job",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:x===1.2?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ’»",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Sedentary - Desk Job"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Mostly sitting, minimal physical activity"})]})]})}),e.jsx($,{onClick:()=>l(1.375),"aria-label":"Lightly Active - Teacher",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:x===1.375?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ‘©â€ðŸ«",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Lightly Active - Teacher"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Some standing and walking throughout the day"})]})]})}),e.jsx($,{onClick:()=>l(1.55),"aria-label":"Moderately Active - Nurse/Waitress",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:x===1.55?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ‘©â€âš•ï¸",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Moderately Active - Nurse/Waitress"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Frequent walking, standing, and physical tasks"})]})]})}),e.jsx($,{onClick:()=>l(1.75),"aria-label":"Very Active - Construction Worker",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:x===1.75?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ‘·â€â™‚ï¸",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Very Active - Construction Worker"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Heavy physical labor and constant movement"})]})]})})]})]}),e.jsxs(H,{gap:1,children:[e.jsx(b,{styleAs:"h3",children:"Workout Activity Level"}),e.jsx(b,{styleAs:"h4",style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"How often do you exercise per week?"}),e.jsxs(F,{direction:"column",gap:1,children:[e.jsx($,{onClick:()=>y(0),"aria-label":"Sedentary - No Exercise",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===0?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ›‹ï¸",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Sedentary"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Little to no exercise"})]})]})}),e.jsx($,{onClick:()=>y(.05),"aria-label":"Lightly Active - 1-3 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===.05?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸš¶â€â™€ï¸",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Lightly Active"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Light exercise 1-3 days per week"})]})]})}),e.jsx($,{onClick:()=>y(.1),"aria-label":"Moderately Active - 3-5 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===.1?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸƒâ€â™‚ï¸",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Moderately Active"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Moderate exercise 3-5 days per week"})]})]})}),e.jsx($,{onClick:()=>y(.15),"aria-label":"Very Active - 6-7 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===.15?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ‹ï¸â€â™€ï¸",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Very Active"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Hard exercise 6-7 days per week"})]})]})}),e.jsx($,{onClick:()=>y(.2),"aria-label":"Extremely Active - 2x per day or intense training",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===.2?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(F,{direction:"row",align:"center",gap:2,children:[e.jsx(P,{symbol:"ðŸ’ª",size:30}),e.jsxs(H,{gap:0,children:[e.jsx(b,{styleAs:"h2",children:"Extremely Active"}),e.jsx(b,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Very hard exercise 2x/day or intense training"})]})]})})]})]})]}),o===2&&e.jsxs(H,{gap:2,children:[e.jsx(b,{styleAs:"h2",children:"Your Virtual Pet"}),e.jsxs(J,{children:[e.jsx(ee,{children:"Pet Name"}),e.jsx(ce,{value:s.pet.name,onChange:p=>S(p,"pet","name")})]}),e.jsxs(J,{children:[e.jsx(ee,{children:"Pet Type"}),e.jsxs(F,{direction:"row",gap:2,children:[e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("pet","currentPet","puppy"),"aria-label":"Dog",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.pet.currentPet==="puppy"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(F,{direction:"column",align:"center",gap:1,children:e.jsxs(D,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(P,{symbol:"ðŸ¶",size:24}),e.jsx(b,{children:"Dog"})]})})})}),e.jsx(D,{grow:1,children:e.jsx($,{onClick:()=>m("pet","currentPet","kitten"),style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.pet.currentPet==="kitten"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},"aria-label":"Cat",children:e.jsx(F,{direction:"column",align:"center",gap:1,children:e.jsxs(D,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(P,{symbol:"ðŸ±",size:24}),e.jsx(b,{children:"Cat"})]})})})})]})]})]}),e.jsx(D,{style:{paddingTop:"20px"},children:e.jsxs(F,{direction:"row",gap:2,justify:"center",className:"mt-6",children:[o>0&&e.jsx(se,{sentiment:"neutral",appearance:"solid",onClick:()=>r(o-1),children:"Previous"}),o<N.length-1&&e.jsx(se,{sentiment:"accented",appearance:"solid",disabled:!j(),onClick:()=>r(o+1),children:"Next"}),o===N.length-1&&e.jsx(se,{type:"submit",sentiment:"accented",appearance:"solid",disabled:!j(),onClick:c,children:"Start Your Adventure!"})]})})]})]})})})},Sr="_homePage_santw_1",br="_homePageTitle_santw_6",Cr="_statusSection_santw_24",wr="_levelText_santw_29",kr="_xpBarWrapper_santw_35",Nr="_xpBarFill_santw_44",Ir="_pixelBorder_santw_50",De={homePage:Sr,homePageTitle:br,"card-links":"_card-links_santw_10","card-image":"_card-image_santw_19",statusSection:Cr,levelText:wr,xpBarWrapper:kr,xpBarFill:Nr,pixelBorder:Ir},Tr="_xpBarWrapper_sqxxw_1",Lr="_xpBarFill_sqxxw_12",Br="_pixelGlow_sqxxw_1",Ar="_xpText_sqxxw_33",Fr="_levelText_sqxxw_59",le={xpBarWrapper:Tr,xpBarFill:Lr,pixelGlow:Br,xpText:Ar,levelText:Fr};function Mr(t){return Math.floor(1e3*Math.pow(1.5,t-1))}function ve(t,a){const o=Mr(a);return{progress:Math.min(Math.max(t/o*100,0),100),xpNeeded:o}}const Pr=({currentXp:t,level:a})=>{const[o,r]=n.useState(()=>ve(t,a).progress),s=n.useRef(t),{xpNeeded:i}=ve(t,a);return n.useEffect(()=>{const f=ve(t,a).progress,u=s.current;t>u,r(f),s.current=t},[t,a]),e.jsxs(e.Fragment,{children:[e.jsxs(b,{className:le.levelText,styleAs:"display4",children:["Level ",a]}),e.jsxs("div",{className:le.xpBarWrapper,children:[e.jsx("div",{className:le.xpBarFill,style:{width:`${o}%`}}),e.jsxs(b,{className:le.xpText,styleAs:"label",children:[" ",t," / ",i]})]})]})},Er=({consumed:t=!1,size:a=48,className:o})=>{const[r,s]=n.useState(!1);return n.useEffect(()=>{if(t){const i=setTimeout(()=>s(!0),20);return()=>clearTimeout(i)}else s(!1)},[t]),e.jsx("img",{src:"/bone.png",alt:"Bone",style:{width:"100%",height:"auto",maxWidth:"80px",transformOrigin:"center",transition:"transform 1s ease, opacity 1.5s ease",transform:r?"scale(0) rotate(360deg)":"scale(1) rotate(0deg)",display:"block",opacity:r?0:1}})},Rr=({consumed:t=!1,size:a=48,className:o})=>{const[r,s]=n.useState(!1);return n.useEffect(()=>{if(t){const i=setTimeout(()=>s(!0),20);return()=>clearTimeout(i)}else s(!1)},[t]),e.jsx("img",{src:"/fish.png",alt:"Fish",style:{width:"100%",height:"auto",maxWidth:"100x",transformOrigin:"center",transition:"transform 1s ease, opacity 1.5s ease",transform:r?"scale(0) rotate(450deg)":"scale(1) rotate(90deg)",display:"block",opacity:r?0:1}})},Or=({count:t,consumedCurrency:a,userArchetype:o})=>{const r=t-a.filter(Boolean).length;return e.jsxs("div",{style:{width:"100%"},children:[e.jsxs("div",{style:{textAlign:"center",marginTop:6,fontSize:14,color:"#ccc"},children:[r," / ",t," ",o==="puppy"?"bones left":"fish left"]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:8,width:"100%",overflow:"hidden",minHeight:0},children:[...Array(t)].map((s,i)=>e.jsx("div",{style:{width:32,height:32,display:"flex",justifyContent:"center"},children:o==="puppy"?e.jsx(Er,{consumed:a[i]??!1}):e.jsx(Rr,{consumed:a[i]??!1})},i))})]})},tt=({spriteSrc:t,backgroundSrc:a,frameWidth:o,frameHeight:r,frameCount:s=1,frameIndex:i=0,fps:f=8,scale:u=1,animated:x=!1,columns:l=4})=>{const h=n.useRef(null),[y,A]=n.useState({width:300,height:300}),[C,T]=n.useState(null),[M,E]=n.useState(i),[v]=Ht(a||"");n.useEffect(()=>{const O=new Image;O.src=t,O.onload=()=>T(O)},[t]),n.useEffect(()=>{if(!x||s<=1)return;const O=setInterval(()=>{E(Y=>(Y+1)%s)},1e3/f);return()=>clearInterval(O)},[x,s,f]),n.useEffect(()=>{const O=()=>{h.current&&A({width:h.current.clientWidth,height:h.current.clientHeight})};O();const Y=new ResizeObserver(O);return h.current&&Y.observe(h.current),()=>Y.disconnect()},[]);const c=x?M:i,S=c%l*o,m=Math.floor(c/l)*r,j=20,N=y.width-j*2,p=y.height-j*2,_=N/o,I=p/r,L=Math.min(u,_,I),k=o*L,B=r*L,z=(y.width-k)/2,X=(y.height-B)/2;return e.jsx("div",{ref:h,style:{width:"100%",height:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:e.jsx(Ut,{width:y.width,height:y.height,style:{imageRendering:"pixelated",position:"absolute",top:0,left:0},children:e.jsxs(Gt,{children:[v&&e.jsx(Oe,{image:v,x:0,y:0,width:y.width,height:y.height,listening:!1}),C&&e.jsx(Oe,{image:C,crop:{x:S,y:m,width:o,height:r},x:z,y:X,width:k,height:B,perfectDrawEnabled:!1,listening:!1,filters:[],shadowForStrokeEnabled:!1,globalCompositeOperation:"source-over"})]})})})},Se=[{name:"sit",spriteSrc:"/assets/sprites/canine/dog/HuskySitting.png",startFrame:0,frameCount:8,fps:5,columns:8,frameWidth:64,frameHeight:64},{name:"sit",spriteSrc:"/assets/sprites/canine/dog/HuskySitting.png",startFrame:0,frameCount:8,fps:5,columns:8,frameWidth:64,frameHeight:64},{name:"sit",spriteSrc:"/assets/sprites/canine/dog/HuskySitting.png",startFrame:0,frameCount:8,fps:4,columns:8,frameWidth:64,frameHeight:64},{name:"run",spriteSrc:"/assets/sprites/canine/dog/HuskyRun.png",startFrame:0,frameCount:6,fps:3,columns:6,frameWidth:64,frameHeight:64},{name:"sniff",spriteSrc:"/assets/sprites/canine/dog/HuskySniff.png",startFrame:0,frameCount:24,fps:12,columns:24,frameWidth:64,frameHeight:64},{name:"attack",spriteSrc:"/assets/sprites/canine/dog/HuskyAttack.png",startFrame:0,frameCount:15,fps:5,columns:15,frameWidth:64,frameHeight:64},{name:"bark",spriteSrc:"/assets/sprites/canine/dog/HuskyBark.png",startFrame:0,frameCount:10,fps:5,columns:10,frameWidth:64,frameHeight:64},{name:"die",spriteSrc:"/assets/sprites/canine/dog/HuskyDie.png",startFrame:0,frameCount:18,fps:5,columns:18,frameWidth:64,frameHeight:64},{name:"liedown",spriteSrc:"/assets/sprites/canine/dog/HuskyLieDown.png",startFrame:0,frameCount:12,fps:4,columns:12,frameWidth:64,frameHeight:64},{name:"sleep",spriteSrc:"/assets/sprites/canine/dog/HuskySleep.png",startFrame:0,frameCount:8,fps:4,columns:8,frameWidth:64,frameHeight:64},{name:"idle",spriteSrc:"/assets/sprites/canine/dog/HuskyIdle.png",startFrame:0,frameCount:6,fps:2,columns:6,frameWidth:64,frameHeight:64}],Dr=1e4,Wr=()=>{const[t,a]=n.useState(Se[0]);return n.useEffect(()=>{const o=setInterval(()=>{const r=Se[Math.floor(Math.random()*Se.length)];a(r)},Dr);return()=>clearInterval(o)},[]),e.jsx(tt,{spriteSrc:t.spriteSrc,backgroundSrc:"/assets/backgrounds/grass.png",frameWidth:t.frameWidth,frameHeight:t.frameHeight,frameCount:t.frameCount,fps:t.fps,animated:!0,columns:t.columns,scale:4})},be=[{name:"box",spriteSrc:"/assets/sprites/feline/cat/Box2.png",startFrame:0,frameCount:12,fps:2,columns:12,frameWidth:32,frameHeight:32},{name:"excited",spriteSrc:"/assets/sprites/feline/cat/Excited.png",startFrame:0,frameCount:12,fps:6,columns:12,frameWidth:32,frameHeight:32},{name:"dance",spriteSrc:"/assets/sprites/feline/cat/Dance.png",startFrame:0,frameCount:4,fps:2,columns:4,frameWidth:32,frameHeight:32},{name:"eating",spriteSrc:"/assets/sprites/feline/cat/Eating.png",startFrame:0,frameCount:15,fps:5,columns:15,frameWidth:32,frameHeight:32},{name:"sleepy",spriteSrc:"/assets/sprites/feline/cat/Sleepy.png",startFrame:0,frameCount:8,fps:2,columns:8,frameWidth:32,frameHeight:32},{name:"idle",spriteSrc:"/assets/sprites/feline/cat/Idle.png",startFrame:0,frameCount:10,fps:8,columns:10,frameWidth:32,frameHeight:32},{name:"idle",spriteSrc:"/assets/sprites/feline/cat/Idle.png",startFrame:0,frameCount:10,fps:1,columns:10,frameWidth:32,frameHeight:32},{name:"idle",spriteSrc:"/assets/sprites/feline/cat/Idle.png",startFrame:0,frameCount:10,fps:8,columns:10,frameWidth:32,frameHeight:32},{name:"idle",spriteSrc:"/assets/sprites/feline/cat/Idle.png",startFrame:0,frameCount:10,fps:8,columns:10,frameWidth:32,frameHeight:32},{name:"idle",spriteSrc:"/assets/sprites/feline/cat/Idle.png",startFrame:0,frameCount:10,fps:8,columns:10,frameWidth:32,frameHeight:32}],zr=1e4,qr=()=>{const[t,a]=n.useState(be[0]);return n.useEffect(()=>{const o=setInterval(()=>{const r=be[Math.floor(Math.random()*be.length)];a(r)},zr);return()=>clearInterval(o)},[]),e.jsx(tt,{spriteSrc:t.spriteSrc,backgroundSrc:"/assets/backgrounds/grass.png",frameWidth:t.frameWidth,frameHeight:t.frameHeight,frameCount:t.frameCount,fps:t.fps,animated:!0,columns:t.columns,scale:4})},We=()=>{var x,l;const{userData:t}=U(),[a,o]=n.useState(0),[r,s]=n.useState([]);n.useRef(null);const i={puppy:"/puppy/scene.gltf",kitten:"/kitten/scene.gltf"},f=((x=t==null?void 0:t.pet)==null?void 0:x.currentPet)??"puppy",u=n.useMemo(()=>i[f],[f]);return n.useMemo(()=>f==="kitten",[f]),n.useEffect(()=>{var E,v,c;const h=Intl.DateTimeFormat().resolvedOptions().timeZone,y=new Date().toLocaleDateString("sv-SE",{timeZone:h}),A=((E=t==null?void 0:t.goal)==null?void 0:E.dailyCurrencyTotal)??0,C=((c=(v=t==null?void 0:t.goal)==null?void 0:v.dailyCurrencyUsed)==null?void 0:c[y])??0,T=A-C;o(T);const M=Array(A).fill(!1).map((S,m)=>m>=T);s(M)},[t]),console.log("Model Path:",u),console.log("userData",t),e.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0,height:"100%"},children:e.jsxs(F,{gap:.5,style:{flex:1,display:"flex",height:"100%",minHeight:"100%"},justify:"center",direction:"column",children:[e.jsx(D,{align:"center",style:{flexShrink:0},children:e.jsx(b,{styleAs:"h1",className:De.homePageTitle,children:t==null?void 0:t.pet.name})}),e.jsx(D,{style:{maxWidth:"100%",padding:16},shrink:1,children:e.jsx(Or,{userArchetype:(t==null?void 0:t.pet.currentPet)??"puppy",count:((l=t==null?void 0:t.goal)==null?void 0:l.dailyCurrencyTotal)??0,consumedCurrency:r})}),e.jsx(D,{grow:1,style:{flex:1,minHeight:0,height:"100%",overflow:"hidden",padding:"16px 16px"},children:e.jsx("div",{style:{width:"100%",height:"100%",border:"4px solid #00ffff",imageRendering:"pixelated",boxShadow:"0 0 2px 2px #00ffff, 0 0 4px 2px #00ffff88, 0 0 8px 2px #00ffff88, 0 0 16px 2px #00ffff88"},children:(t==null?void 0:t.pet.currentPet)==="puppy"?e.jsx(Wr,{}):e.jsx(qr,{})})}),e.jsx(D,{className:De.statusSection,style:{flexShrink:0},children:e.jsx(Pr,{currentXp:(t==null?void 0:t.pet.xp)??0,level:(t==null?void 0:t.pet.level)??0})})]})})},$r=({content:t})=>{const[a,o]=n.useState(null),r=f=>{o(f.currentTarget)},s=()=>{o(null)},i=!!a;return e.jsxs(e.Fragment,{children:[e.jsx("span",{onClick:r,style:{cursor:"pointer",marginLeft:4},children:e.jsx(P,{symbol:"â„¹ï¸",label:"info",size:14})}),e.jsx(Vt,{open:i,anchorEl:a,onClose:s,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},slotProps:{paper:{sx:{bgcolor:"#1a1a1a",color:"#e0e0e0",fontFamily:"'Press Start 2P', cursive",fontSize:"0.65rem",px:2,py:1,maxWidth:200,borderRadius:1,border:"1px solid #333",boxShadow:"0 0 4px rgba(0, 255, 195, 0.3)"}}},children:t})]})},Hr=[{label:"Strength",key:"strength",emoji:"ðŸ’ª",description:"Weight workouts"},{label:"Defense",key:"defense",emoji:"ðŸ›¡ï¸",description:"Fiber intake"},{label:"Agility",key:"agility",emoji:"ðŸ¤¸",description:"Cardio workouts"},{label:"Intelligence",key:"intelligence",emoji:"ðŸ§ ",description:"Fruits and vegetables"},{label:"Armor",key:"armor",emoji:"ðŸª–",description:"Protein intake"},{label:"Speed",key:"speed",emoji:"ðŸ’¨",description:"Hydration"},{label:"Happiness",key:"happiness",emoji:"ðŸ¤—",description:"Calorie goal adherence"}],Ur=()=>{const{userData:t}=U();if(!t)return null;const{pet:a}=t;return e.jsxs(F,{direction:"column",gap:3,style:{padding:"1rem"},children:[e.jsxs(F,{direction:"row",gap:1,align:"center",style:{alignItems:"center"},children:[e.jsx(P,{style:{alignItems:"center"},symbol:"ðŸŽ®",size:30}),e.jsx(b,{styleAs:"h2",style:{fontFamily:"'Press Start 2P', Open Sans",margin:0,padding:0},children:"Pet Skills"})]}),Hr.map(o=>e.jsx(Ie,{style:{width:"100%",padding:"1rem",background:"#111",border:"1px solid #444",borderRadius:"12px",boxShadow:"0 0 8px #00ffc3"},children:e.jsxs(F,{justify:"space-between",align:"center",children:[e.jsxs(F,{align:"center",gap:1,children:[e.jsx(P,{symbol:o.emoji,size:20}),e.jsx(b,{style:{fontFamily:"'Press Start 2P', Open Sans",fontSize:"1.2rem",color:"#fff"},children:o.label}),e.jsx($r,{content:o.description})]}),e.jsxs(b,{style:{color:"#fff",fontSize:"1.2rem"},children:["Level ",a[o.key]]})]})},o.key))]})},Ce=[{name:"First Workout",description:"Complete your first workout",status:"completed",progress:100},{name:"Protein Power",description:"Log a high-protein meal",status:"inProgress",progress:60},{name:"Hydration Hero",description:"Drink 8 glasses of water",status:"notStarted",progress:0},{name:"Consistency Counts",description:"Log workouts 3 days in a row",status:"inProgress",progress:30},{name:"Fiber Fiend",description:"Log a high-fiber day",status:"notStarted",progress:0},{name:"Beast Mode",description:"Reach 100 strength XP",status:"completed",progress:100}],we=({name:t,description:a,progress:o})=>e.jsxs(Ie,{style:{width:"100%"},children:[e.jsx(b,{styleAs:"h4",children:t}),e.jsx(b,{style:{fontSize:"0.9rem",color:"#ccc",marginBottom:"0.5rem"},children:a}),e.jsx(Kt,{value:o}),e.jsxs(b,{style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:[o,"% complete"]})]}),Gr=()=>{const t=Ce.filter(r=>r.status==="inProgress"),a=Ce.filter(r=>r.status==="notStarted"),o=Ce.filter(r=>r.status==="completed");return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(b,{styleAs:"h2",style:{marginBottom:"1rem"},children:"Your Quests"}),e.jsxs(Xt,{children:[e.jsxs(xe,{value:"",children:[e.jsx(ge,{children:"In Progress"}),e.jsx(fe,{children:e.jsx(F,{direction:"column",gap:2,children:t.map(r=>e.jsx(we,{...r},r.name))})})]}),e.jsxs(xe,{value:"",children:[e.jsx(ge,{children:"Not Started"}),e.jsx(fe,{children:e.jsx(F,{direction:"column",gap:2,children:a.map(r=>e.jsx(we,{...r},r.name))})})]}),e.jsxs(xe,{value:"",children:[e.jsx(ge,{children:"Completed"}),e.jsx(fe,{children:e.jsx(F,{direction:"column",gap:2,children:o.map(r=>e.jsx(we,{...r},r.name))})})]})]})]})},Vr="_container_132oe_1",Xr="_tabList_132oe_11",Kr="_tabButton_132oe_18",Yr="_routineCreatedText_132oe_34",Qr="_active_132oe_39",Jr="_borderGlow_132oe_1",Zr="_form_132oe_55",eo="_heroSection_132oe_105",to="_heroList_132oe_112",so="_hero_132oe_105",ao="_selected_132oe_143",no="_disclosureButton_132oe_156",ro="_chevron_132oe_174",oo="_rotate_132oe_179",io="_equipmentSection_132oe_183",lo="_equipmentList_132oe_191",co="_equipment_132oe_183",q={container:Vr,tabList:Xr,tabButton:Kr,routineCreatedText:Yr,active:Qr,borderGlow:Jr,form:Zr,heroSection:eo,heroList:to,hero:so,selected:ao,disclosureButton:no,chevron:ro,rotate:oo,equipmentSection:io,equipmentList:lo,equipment:co},uo="_puppySpinner_qnb89_1",ho="_loadingText_qnb89_9",po="_puppy_qnb89_1",mo="_run_qnb89_1",_o="_treadmillBelt_qnb89_19",ke={puppySpinner:uo,loadingText:ho,puppy:po,run:mo,treadmillBelt:_o,"belt-move":"_belt-move_qnb89_1"};function me({scale:t=1}){const a=150*t;return e.jsxs("div",{className:ke.puppySpinner,style:{width:`${a}px`,height:`${a}px`},children:[e.jsx("div",{className:ke.loadingText,children:"LOADING..."}),e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[e.jsxs("g",{children:[e.jsx("rect",{x:"10",y:"60",width:"80",height:"10",fill:"#4b5563",rx:"2"}),e.jsx("rect",{className:"treadmill-belt",x:"15",y:"65",width:"70",height:"5",fill:"#1f2937"}),e.jsx("rect",{x:"10",y:"55",width:"5",height:"15",fill:"#6b7280"}),e.jsx("rect",{x:"85",y:"55",width:"5",height:"15",fill:"#6b7280"}),e.jsx("rect",{x:"80",y:"40",width:"15",height:"15",fill:"#374151",rx:"2"}),e.jsx("rect",{x:"82",y:"42",width:"5",height:"5",fill:"#dc2626",rx:"1"}),e.jsx("rect",{x:"88",y:"42",width:"5",height:"5",fill:"#22c55e",rx:"1"})]}),e.jsxs("g",{className:ke.puppy,fill:"#8B4513",children:[e.jsx("ellipse",{cx:"45",cy:"58",rx:"12",ry:"8"}),e.jsx("ellipse",{cx:"55",cy:"48",rx:"10",ry:"8"}),e.jsx("circle",{cx:"53",cy:"46",r:"1",fill:"#000"}),e.jsx("circle",{cx:"57",cy:"46",r:"1",fill:"#000"}),e.jsx("circle",{cx:"55",cy:"50",r:"1.5",fill:"#000"}),e.jsx("path",{d:"M50 42 Q48 38 46 42 Q48 40 50 42 Z"}),e.jsx("path",{d:"M60 42 Q62 38 64 42 Q62 40 60 42 Z"}),e.jsx("rect",{x:"40",y:"62",width:"3",height:"6",rx:"1"}),e.jsx("rect",{x:"47",y:"62",width:"3",height:"6",rx:"1"}),e.jsx("rect",{x:"38",y:"62",width:"3",height:"6",rx:"1",transform:"rotate(15 40 65)"}),e.jsx("rect",{x:"45",y:"62",width:"3",height:"6",rx:"1",transform:"rotate(-15 47 65)"}),e.jsx("path",{className:"tail",d:"M33 58 Q30 55 33 52"})]})]})]})}const xo=[{name:"Fenrir",color:"#3B6FFF"},{name:"Durgas Tiger",color:"#FF8C00"},{name:"Phoenix",color:"#D62828"},{name:"Leviathan",color:"#00B7EB"},{name:"Elder Dragon",color:"#00FF7F"},{name:"Primordial Tyrant",color:"#C71585"}],go=["None","Full Gym","Dumbbells","Barbell","Smith Machine","Resistance Bands"];function fo(){const{userData:t}=U(),[a,o]=n.useState("Max Muscle"),[r,s]=n.useState(""),[i,f]=n.useState("beginner"),[u,x]=n.useState(3),[l,h]=n.useState([]),[y,A]=n.useState(""),[C,T]=n.useState(""),[M,E]=n.useState(""),[v,c]=n.useState(""),[S,m]=n.useState(15),[j,N]=n.useState(!1),[p,_]=n.useState(!1),{addToast:I}=Te(),L=k=>{k.preventDefault(),N(!0);const B={goal:a,sport:a==="Sport Specific"?r:null,experience:i,days:u,equipment:l.join(", "),include:y,exclude:C,considerations:M,sessionDurationMinutes:S,petCoach:v,userId:t==null?void 0:t.uid};W.post("/workout/routine/createRoutine",B,{timeout:5e4}).then(z=>{console.log("Routine Created:",z.data),_(!0),setTimeout(()=>{_(!1)},3e3)}).catch(z=>{console.error(z)}).finally(()=>N(!1))};return p?e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,padding:"0 12px",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:22,textAlign:"center",padding:16,backgroundColor:"#1c1c1c",border:"3px solid #ffa640",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",fontSize:17,textTransform:"uppercase",boxShadow:"0 0 8px #ffa640",borderRadius:8},children:[e.jsx(P,{size:32,symbol:"âšâ–ˆâ•â•â–ˆâš"}),e.jsx("div",{className:q.routineCreatedText,children:"Routine Created!"}),e.jsx("div",{className:q.routineCreatedText,children:'Check it out in "My Routines"!'})]})}):j?e.jsx("div",{style:{width:"100%",height:"100%",justifyContent:"center",alignContent:"center"},children:e.jsx(me,{scale:2})}):e.jsxs("form",{className:q.form,onSubmit:L,children:[e.jsxs("label",{children:["Goal",e.jsxs("select",{value:a,onChange:k=>o(k.target.value),children:[e.jsx("option",{value:"Max Muscle",children:"Max Muscle"}),e.jsx("option",{value:"Max Strength",children:"Max Strength"}),e.jsx("option",{value:"Max Cardio",children:"Max Cardio"}),e.jsx("option",{value:"Sport Specific",children:"Sport Specific"})]})]}),a==="Sport Specific"&&e.jsxs("label",{children:["What sport?",e.jsx("input",{type:"text",value:r,onChange:k=>s(k.target.value),placeholder:"e.g. Basketball"})]}),e.jsxs("label",{children:["Experience Level",e.jsxs("select",{value:i,onChange:k=>f(k.target.value),children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("label",{children:["Days per Week",e.jsx("select",{value:u,onChange:k=>x(Number(k.target.value)),children:[...Array(7)].map((k,B)=>e.jsxs("option",{value:B+1,children:[B+1," ",B===0?"day":"days"]},B+1))})]}),e.jsxs("label",{children:["Max Session Duration",e.jsx("select",{value:S,onChange:k=>m(Number(k.target.value)),children:[...Array(12)].map((k,B)=>{const z=(B+1)*15,X=Math.floor(z/60),O=z%60,Y=X>0?`${X}h${O>0?` ${O}m`:""}`:`${O} minutes`;return e.jsx("option",{value:z,children:Y},z)})})]}),e.jsxs("div",{className:q.equipmentSection,children:[e.jsx("label",{children:"Equipment Available"}),e.jsx("div",{className:q.equipmentList,children:go.map(k=>e.jsx(V,{type:"button",onClick:()=>h(B=>B.includes(k)?B.filter(z=>z!==k):[...B,k]),className:`${q.equipment} ${l.includes(k)?q.selected:""}`,children:k},k))})]}),e.jsxs("label",{children:["Exercises to Include",e.jsx("input",{type:"text",value:y,onChange:k=>A(k.target.value),placeholder:"e.g. Squats, Pushups"})]}),e.jsxs("label",{children:["Exercises to Exclude",e.jsx("input",{type:"text",value:C,onChange:k=>T(k.target.value),placeholder:"e.g. Deadlifts"})]}),e.jsxs("label",{children:["Physical Considerations",e.jsx("input",{type:"text",value:M,onChange:k=>E(k.target.value),placeholder:"e.g. Bad knees"})]}),e.jsx(Ve,{children:({open:k})=>e.jsxs("div",{className:q.heroSection,children:[e.jsxs(Xe,{className:q.disclosureButton,children:["Let one of our XPets train you!",e.jsx(Ke,{className:`${q.chevron} ${k?q.rotate:""}`,"aria-hidden":"true"})]}),e.jsx(Ye,{className:q.heroList,children:xo.map(B=>e.jsx(V,{type:"button",onClick:()=>c(B.name),className:`${q.hero} ${v===B.name?q.selected:""}`,style:{borderColor:typeof B.color=="string"&&B.color.includes("linear")?void 0:B.color,borderImage:B.color.includes("linear")?B.color:void 0,borderWidth:"3px",borderStyle:"solid"},children:B.name},B.name))})]})}),e.jsx(V,{type:"submit",children:"Generate Routine"})]})}function st({routine:t,setRoutines:a,menuOptions:o,onStartWorkout:r}){const{userData:s}=U();if(!t||t.length===0)return null;const i=x=>{console.log("Delete",x),W.delete(`/routines/delete/${x}`).then(()=>{a(l=>l==null?void 0:l.filter(h=>h._id!==x))}).catch(l=>{console.error("Failed to delete routine: ",l)})},f=x=>{W.post(`/routines/share/${x._id}`).then(()=>{console.log("Routine shared to community.")}).catch(l=>{console.error("Failed to share routine: ",l)})},u=x=>{W.post(`/routines/copy/${x._id}`,{userId:s==null?void 0:s.uid}).then(l=>{console.log("Copied routine:",l.data.routine),a==null||a(h=>[...h||[],l.data.routine])}).catch(l=>{console.error("Failed to copy routine:",l)})};return e.jsx("div",{className:"routine-accordion-list",children:t.map((x,l)=>e.jsx("div",{className:"routine-accordion",children:e.jsx(Ve,{children:({open:h})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"accordion-header",children:[e.jsxs(Xe,{className:"accordion-trigger",children:[e.jsx(Ke,{size:32,className:`chevron ${h?"open":""}`}),e.jsx("span",{className:"routine-title",children:x.routineName})]}),e.jsxs(Yt,{as:"div",className:"menu-wrapper",children:[e.jsx(Qt,{className:"menu-button",onClick:y=>y.stopPropagation(),children:e.jsx(Jt,{size:20})}),e.jsxs(Zt,{className:"menu-dropdown",children:[o.includes("Share")&&e.jsx(ye,{children:e.jsx(V,{onClick:()=>f(x),className:"menu-item",children:"Share"})}),o.includes("Delete")&&e.jsx(ye,{children:e.jsx(V,{onClick:()=>i(x._id),className:"menu-item",children:"Delete"})}),o.includes("Copy")&&e.jsx(ye,{children:e.jsx(V,{onClick:()=>u(x),className:"menu-item",children:"Copy"})})]})]})]}),e.jsx(Ye,{className:"accordion-panel",children:e.jsx("div",{className:"carousel-container",children:x.weeklySchedule.map((y,A)=>e.jsxs("div",{className:"carousel-card",children:[e.jsx("div",{className:"day-title",children:y.dayName}),e.jsx("div",{className:"day-exercises",children:y.exercises.map(C=>C.exercise).join(", ")}),y.exercises.length>0&&e.jsx(V,{className:"start-button",onClick:()=>r!==void 0?r(y):void 0,children:"START WORKOUT"})]},y.dayName+A))})})]})})},x.routineName+l))})}const yo="_fullScreenWrapper_117p9_2",jo="_timer_117p9_18",vo="_deckContainer_117p9_28",So="_card_117p9_39",bo="_exerciseTitle_117p9_56",Co="_repRange_117p9_64",wo="_setGrid_117p9_72",ko="_setRow_117p9_80",No="_setLabel_117p9_85",Io="_inputLabel_117p9_93",To="_checkboxLabel_117p9_94",Lo="_compactInput_117p9_99",Bo="_setHeaderRow_117p9_124",Ao="_finishButton_117p9_151",Fo="_setCheckbox_117p9_170",Mo="_checked_117p9_192",Po="_cardSuitTop_117p9_197",Eo="_cardSuitBottom_117p9_198",R={fullScreenWrapper:yo,timer:jo,deckContainer:vo,card:So,exerciseTitle:bo,repRange:Co,setGrid:wo,setRow:ko,setLabel:No,inputLabel:Io,checkboxLabel:To,compactInput:Lo,setHeaderRow:Bo,finishButton:Ao,setCheckbox:Fo,checked:Mo,cardSuitTop:Po,cardSuitBottom:Eo},Ro=({startTime:t})=>{const[a,o]=n.useState(0);n.useEffect(()=>{const s=setInterval(()=>{o(Math.floor((Date.now()-t)/1e3))},1e3);return()=>clearInterval(s)},[t]);const r=s=>{const i=Math.floor(s/60),f=s%60;return`${String(i).padStart(2,"0")}:${String(f).padStart(2,"0")}`};return e.jsx("div",{style:{fontSize:"1.5rem"},children:r(a)})},Oo=({exercises:t,onFinish:a})=>{const[o]=n.useState(Date.now()),[r,s]=n.useState(t.map((m,j)=>({...m,cardId:`${m.exercise}-${j}`}))),[i,f]=n.useState(0),[u,x]=n.useState(0),[l,h]=n.useState(null),[y,A]=n.useState(.4),C=(m,j)=>{const p=Math.abs(m)/1e3,_=Math.abs(j)/300;return Math.max(.2,Math.min(.6,.4-p*.15+_*.1))},T=(m,j)=>{const N=E()[0];if(N){const p=C(m,j);A(p),h(N.cardId),setTimeout(()=>{s(_=>{const[I,...L]=_;return[...L,I]}),x(_=>_+1),h(null)},p*1e3)}},M=(m,j,N,p)=>{s(_=>_.map(L=>{if(L.cardId===m){const k=L.sets.map((B,z)=>z===j?{...B,[N]:p}:B);return{...L,sets:k}}return L}))},E=()=>{const m=r.length;if(m===0)return[];const j=u%m,N=[];for(let p=0;p<3;p++){const _=(j+p)%m;r[_]&&N.push({...r[_],displayIndex:p,originalIndex:_})}return N},v=[e.jsx(as,{size:32,color:"#ff4d4d"}),e.jsx(ns,{size:32,color:"#ff4d4d"}),e.jsx(rs,{size:32,color:"#ff4d4d"}),e.jsx(os,{size:32,color:"#ff4d4d"})],S=(()=>{const m=Math.floor(Math.random()*v.length);return v[m]})();return e.jsxs("div",{className:R.fullScreenWrapper,children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",fontSize:"19px",gap:"16px",alignItems:"center"},children:[e.jsx("div",{children:t[0].dayName}),e.jsx("div",{className:R.timer,children:e.jsx(Ro,{startTime:o})})]}),e.jsx("div",{className:R.deckContainer,children:e.jsx(es,{initial:!1,children:E().map((m,j)=>{const N=j===0,p=m.cardId===l;return e.jsxs(ts.div,{className:R.card,initial:{x:0,y:j*20,zIndex:100-j},animate:{x:0,scale:1-j*.02,y:j*20,zIndex:100-j},exit:{y:-400,opacity:0,zIndex:100-j,transition:{duration:y,ease:"easeOut"}},transition:{duration:.3},drag:N&&!p?"y":!1,dragElastic:.2,whileTap:{scale:.98},dragConstraints:{top:-400,bottom:0},onDragEnd:(_,I)=>{I.offset.y<-100&&!p&&T(I.velocity.y,I.offset.y)},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("div",{children:e.jsx("span",{className:R.cardSuitTop,children:S})}),e.jsx("div",{className:R.exerciseTitle,children:m.exercise}),e.jsxs("div",{className:R.repRange,children:["Target: ",m.repRange," reps"]})]}),e.jsxs("div",{className:R.setGrid,children:[e.jsxs("div",{className:R.setHeaderRow,children:[e.jsx("span",{className:R.setLabel,children:"Set"}),e.jsx("span",{className:R.inputLabel,children:"Weight"}),e.jsx("span",{className:R.inputLabel,children:"Reps"}),e.jsx("span",{className:R.checkboxLabel,children:"âœ”"})]}),m.sets.map((_,I)=>e.jsxs("div",{className:R.setRow,children:[e.jsx("span",{className:R.setLabel,children:I+1}),e.jsx(he,{type:"number",value:_.weight===0?"":_.weight,placeholder:"Weight",className:R.compactInput,onChange:L=>M(m.cardId,I,"weight",Number(L.target.value))}),e.jsx(he,{type:"number",value:_.reps===0?"":_.reps,placeholder:"Reps",className:R.compactInput,onChange:L=>M(m.cardId,I,"reps",Number(L.target.value))}),e.jsx(ss,{checked:_.completed??!1,onChange:L=>{M(m.cardId,I,"completed",L)},className:({checked:L})=>`${R.setCheckbox} ${L?R.checked:""}`,children:e.jsx("span",{"aria-hidden":"true",children:_.completed?"âœ”":""})})]},I)),e.jsx("span",{className:R.cardSuitBottom,children:S})]})]},`${m.cardId}-cycle-${u}-${j}`)})})}),e.jsx("button",{className:R.finishButton,onClick:()=>a({duration:i,exercises:r}),children:"Finish Workout"})]})};function Do(){const[t,a]=n.useState(),[o,r]=n.useState(!0),{userData:s}=U(),[i,f]=n.useState(null),u=l=>{const h=l.exercises.map(y=>({dayName:l.dayName,exercise:y.exercise,repRange:y.repRange,sets:Array(Number(y.sets)).fill({weight:0,reps:0})}));f(h)},x=l=>{console.log("Workout complete:",l),f(null)};return n.useEffect(()=>{W.get(`/routines?uid=${s==null?void 0:s.uid}`).then(l=>{a(l.data.routines)}).catch(l=>{console.error(l)}).finally(()=>r(!1))},[]),!t||t.length===0?e.jsx("p",{style:{padding:"1rem"},children:"You havn't created a routine yet!."}):o?e.jsx("div",{style:{width:"100%",height:"100%",justifyContent:"center",alignContent:"center"},children:e.jsx(me,{scale:2})}):e.jsxs("div",{style:{display:"flex",width:"100%"},children:[i&&e.jsx(Oo,{exercises:i,onFinish:x}),e.jsx(st,{routine:t,setRoutines:a,menuOptions:["Share","Delete"],onStartWorkout:u})]})}function Wo(){return e.jsx("div",{style:{width:"100%",height:"100%",justifyContent:"center",alignContent:"center"},children:e.jsx(me,{scale:2})})}function zo(){const[t,a]=n.useState(),[o,r]=n.useState(!0);return U(),n.useEffect(()=>{W.get("/routines?communityRoutine=true").then(s=>{a(s.data.routines)}).catch(s=>{console.error(s)}).finally(()=>r(!1))},[]),!t||t.length===0?e.jsx("p",{style:{padding:"1rem"},children:"You havn't created a routine yet!."}):o?e.jsx("div",{style:{width:"100%",height:"100%",justifyContent:"center",alignContent:"center"},children:e.jsx(me,{scale:2})}):e.jsx("div",{style:{display:"flex",width:"100%"},children:e.jsx(st,{routine:t,setRoutines:a,menuOptions:["Copy"]})})}function qo(){return e.jsx("div",{className:q.container,children:e.jsxs(He,{children:[e.jsx(Ue,{className:q.tabList,children:["My Routines","Create","Update","Community Routines"].map(t=>e.jsx(Ge,{className:({selected:a})=>`${q.tabButton} ${a?q.active:""}`,children:t},t))}),e.jsxs(is,{children:[e.jsx(oe,{children:e.jsx(Do,{})}),e.jsx(oe,{children:e.jsx(fo,{})}),e.jsx(oe,{children:e.jsx(Wo,{})}),e.jsx(oe,{children:e.jsx(zo,{})})]})]})})}const $o="_prompt_1kskd_1",Ho="_fadeInUp_1kskd_1",Uo="_text_1kskd_21",Go="_shareIcon_1kskd_26",Vo="_dismiss_1kskd_31",Ne={prompt:$o,fadeInUp:Ho,text:Uo,shareIcon:Go,dismiss:Vo},Xo=()=>/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase()),Ko=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;function Yo(){const[t,a]=n.useState(!1);n.useEffect(()=>{const r=localStorage.getItem("pwaPromptSeen");Xo()&&!Ko()&&!r&&a(!0)},[]);const o=()=>{a(!1),localStorage.setItem("pwaPromptSeen","true")};return t?e.jsxs("div",{className:Ne.prompt,children:[e.jsxs("div",{className:Ne.text,children:[e.jsx("strong",{children:"XPets is best when used as an app!"}),e.jsx("br",{}),e.jsx("strong",{children:"Install XPets: HealthQuest"}),e.jsx("br",{}),"On Safari, tap the â€œShareâ€ button (square with arrow â†‘) then â€œAdd to Home Screenâ€ to install the app."]}),e.jsx("button",{className:Ne.dismiss,onClick:o,children:"âœ•"})]}):null}const Qo=["Pet","Skills","Quests","Routines"];function Jo(){const[t,a]=n.useState(null),[o,r]=n.useState(!0),{userData:s,setUserData:i}=U(),[f,u]=n.useState(0),x=l=>{switch(Qo[l]){case"Pet":return e.jsx(We,{});case"Skills":return e.jsx(Ur,{});case"Quests":return e.jsx(Gr,{});case"Routines":return e.jsx(qo,{});default:return e.jsx(We,{})}};return n.useEffect(()=>{const l=ls.throttle(()=>{console.log("Fetching user object..."),W.get(`/users/${s==null?void 0:s.uid}`).then(y=>{i(y.data),console.log("User data synced:",y.data)}).catch(y=>{console.error("Failed to fetch user:",y)})},1e4),h=()=>{console.log("User came back!"),l()};return s&&window.addEventListener("focus",h),()=>{s&&(window.removeEventListener("focus",h),l.cancel())}},[]),n.useEffect(()=>{const l=cs(pe,h=>{console.log("Auth state changed:",h),console.log("User Data in App useEffect:",s),a(h),r(!1);const y=localStorage.getItem("userData");y&&i(JSON.parse(y))});return()=>l()},[]),console.log("App render - Loading:",o,"User:",t,"UserData:",s),o?e.jsx(ie,{mode:"dark",children:e.jsx("div",{children:"Loading in app.tsx..."})}):!t||!s?e.jsx(ie,{mode:"dark",children:e.jsx(jr,{})}):s.bodyStats.weight===0?e.jsx(ie,{mode:"dark",children:e.jsx(vr,{})}):e.jsxs(ie,{mode:"dark",children:[e.jsx(Yo,{}),e.jsxs("div",{style:{background:"var(--salt-palette-background-primary)",backgroundSize:"8px 8px",maxHeight:"100dvh",minHeight:"100dvh",height:"100dvh",position:"relative",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{padding:"env(safe-area-inset-top) env(safe-area-inset-right) 0 env(safe-area-inset-left)"}}),e.jsx("div",{style:{flex:1,maxHeight:"calc(100dvh - 76px - env(safe-area-inset-bottom))",minHeight:"calc(100dvh - 76px - env(safe-area-inset-bottom))",height:"calc(100dvh - 76px - env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",paddingBottom:"14px",overflow:"hidden"},children:x(f)}),e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,minHeight:"76px"},children:e.jsx(mr,{selectedIndex:f,setSelectedIndex:u})})]})]})}ds.createRoot(document.getElementById("root")).render(e.jsx(us.StrictMode,{children:e.jsx(hs,{children:e.jsx(xs,{children:e.jsx(Ss,{children:e.jsx(As,{children:e.jsx(Jo,{})})})})})}));
