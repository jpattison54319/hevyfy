import{r as o,j as e,T as l,F as c,a as x,C as ne,B as le,O as oe,u as ie,b as Z,L as ee,A as ce,c as H,d as U,e as E,i as de,g as pe,f as ue,s as xe,G as ge,h as he,k as me,l as ye,P as je,m as T,S as te,n as fe,o as ve,N as be,p as Se,M as we,q as Ce,t as ke,v as Ae,w as K,x as b,y as _e,U as Le,D as Pe,z as Te,E as Be,H as Ie,I as P,J as I,K as D,Q as f,R as Fe,V as Me,W as O,X as Re,Y as Ne,Z as De,_ as We,$ as ze}from"./vendor-BEb5hv8g.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const He="_homePage_rxrt2_1",Ue="_homePageTitle_rxrt2_6",Ee="_statusSection_rxrt2_24",Oe="_levelText_rxrt2_29",$e="_xpBarWrapper_rxrt2_35",Ge="_xpBarFill_rxrt2_44",Q={homePage:He,homePageTitle:Ue,"card-links":"_card-links_rxrt2_10","card-image":"_card-image_rxrt2_19",statusSection:Ee,levelText:Oe,xpBarWrapper:$e,xpBarFill:Ge},re=o.createContext(void 0),Ve=({children:t})=>{const[a,n]=o.useState(()=>{const r=localStorage.getItem("userData");return r?JSON.parse(r):null}),s=r=>{n(r),r?localStorage.setItem("userData",JSON.stringify(r)):localStorage.removeItem("userData")};return e.jsx(re.Provider,{value:{userData:a,setUserData:s},children:t})},N=()=>{const t=o.useContext(re);if(!t)throw new Error("useUser must be used within a UserProvider");const{userData:a,setUserData:n}=t,s=o.useMemo(()=>{if(a)return Math.floor(a.goal.dailyCalorieGoal/100)},[a]);return{userData:a,setUserData:n,dailyCurrency:s}},Ye="_xpBarWrapper_rtmpn_1",Je="_xpBarFill_rtmpn_11",Xe="_xpText_rtmpn_18",$={xpBarWrapper:Ye,xpBarFill:Je,xpText:Xe};function q(t){return 100+t*50}function G(t,a){let n=0;for(let u=1;u<a;u++)n+=q(u);const s=t-n,r=q(a);return{progress:Math.min(Math.max(s/r*100,0),100),currentLevelXp:s,xpNeeded:r}}const Ke=({currentXp:t,level:a})=>{const[n,s]=o.useState(()=>G(t,a).progress),r=o.useRef(t),{currentLevelXp:i,xpNeeded:u}=G(t,a);return o.useEffect(()=>{const y=G(t,a).progress,g=r.current;t>g,s(y),r.current=t},[t,a]),e.jsxs(e.Fragment,{children:[e.jsxs(l,{styleAs:"display4",children:["Level ",a]}),e.jsxs("div",{className:$.xpBarWrapper,children:[e.jsx("div",{className:$.xpBarFill,style:{width:`${n}%`}}),e.jsxs(l,{className:$.xpText,styleAs:"label",children:[" ",i," / ",u]})]})]})},Qe=({consumed:t=!1,size:a=48,className:n})=>{const[s,r]=o.useState(!1);return o.useEffect(()=>{if(t){const i=setTimeout(()=>r(!0),20);return()=>clearTimeout(i)}else r(!1)},[t]),e.jsx("img",{src:"/bone.png",alt:"Bone",style:{width:"100%",height:"auto",maxWidth:"80px",transformOrigin:"center",transition:"transform 1s ease, opacity 1.5s ease",transform:s?"scale(0) rotate(360deg)":"scale(1) rotate(0deg)",display:"block",opacity:s?0:1}})},qe=({count:t,consumedCurrency:a})=>e.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:8,width:"100%",overflow:"hidden"},children:[...Array(t)].map((n,s)=>e.jsx("div",{style:{flex:`1 0 ${100/t}%`,maxWidth:`${100/t}%`,display:"flex",justifyContent:"center"},children:e.jsx(Qe,{consumed:a[s]??!1})},s))}),Ze=()=>{var S;const{userData:t}=N(),[a,n]=o.useState(""),[s,r]=o.useState(0),[i,u]=o.useState([]);let y=!1;const g={puppy:"/puppy/scene.gltf",kitten:"/kitten/scene.gltf"};o.useEffect(()=>{var j;n(g[((j=t==null?void 0:t.pet)==null?void 0:j.currentPet)??"puppy"]),y=a==null?void 0:a.includes("kitten")},[t]),o.useEffect(()=>{var m,F,B;const j=new Date().toISOString().slice(0,10),A=((m=t==null?void 0:t.goal)==null?void 0:m.dailyCurrencyTotal)??0,L=((B=(F=t==null?void 0:t.goal)==null?void 0:F.dailyCurrencyUsed)==null?void 0:B[j])??0,h=A-L;r(h);const w=Array(A).fill(!1).map((d,p)=>p>=h);u(w)},[t]),console.log("Model Path:",a);function k({url:j,scale:A=2,position:L=[0,-2,0],rotation:h=[0,0,0]}){const w=ie(j);if(!w||!w.scene)return null;const m=o.useMemo(()=>w.scene.clone(),[w.scene]);return e.jsx("primitive",{object:m,scale:A,position:L,rotation:h})}return console.log("userData",t),e.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0,height:"100%"},children:e.jsxs(c,{style:{flex:1,display:"flex",height:"100%",minHeight:"100%"},justify:"center",direction:"column",children:[e.jsx(x,{align:"center",style:{flexShrink:0},children:e.jsx(l,{styleAs:"h1",className:Q.homePageTitle,children:t==null?void 0:t.pet.name})}),e.jsx(x,{style:{maxWidth:"100%",padding:16},shrink:1,children:e.jsx(qe,{count:((S=t==null?void 0:t.goal)==null?void 0:S.dailyCurrencyTotal)??0,consumedCurrency:i})}),e.jsx(x,{grow:1,style:{flex:1,minHeight:0,height:"100%",overflow:"hidden"},children:e.jsx("div",{style:{width:"100%",height:"100%"},children:e.jsxs(ne,{resize:{polyfill:ResizeObserver},camera:{position:[5,4,5],fov:50},children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("directionalLight",{position:[0,5,5]}),e.jsx(o.Suspense,{children:e.jsx(le,{fit:!0,clip:!0,observe:!0,margin:1.2,children:e.jsx(k,{url:a,scale:.8,position:y?[0,-3,0]:[0,-2,0],rotation:y?[0,Math.PI,0]:[0,0,0]})})}),e.jsx(oe,{})]})})}),e.jsx(x,{className:Q.statusSection,style:{flexShrink:0},children:e.jsx(Ke,{currentXp:(t==null?void 0:t.pet.xp)??0,level:(t==null?void 0:t.pet.level)??0})})]})})},et=[{name:"Strength",level:3,xp:60,xpNeeded:100},{name:"Endurance",level:2,xp:30,xpNeeded:80},{name:"Speed",level:4,xp:90,xpNeeded:120}],tt=()=>e.jsxs(c,{direction:"column",gap:2,style:{padding:"1rem"},children:[e.jsx(l,{styleAs:"h2",style:{marginBottom:"1rem"},children:"Your Skills"}),et.map(t=>{const a=t.xp/t.xpNeeded*100;return e.jsxs(Z,{style:{width:"100%"},children:[e.jsxs(c,{justify:"space-between",align:"center",children:[e.jsx(l,{styleAs:"h4",children:t.name}),e.jsxs(l,{children:["Level ",t.level]})]}),e.jsx(ee,{value:a,style:{marginTop:"0.5rem"}}),e.jsxs(l,{style:{fontSize:"0.8rem",marginTop:"0.25rem"},children:[t.xp," / ",t.xpNeeded," XP"]})]},t.name)})]}),V=[{name:"First Workout",description:"Complete your first workout",status:"completed",progress:100},{name:"Protein Power",description:"Log a high-protein meal",status:"inProgress",progress:60},{name:"Hydration Hero",description:"Drink 8 glasses of water",status:"notStarted",progress:0},{name:"Consistency Counts",description:"Log workouts 3 days in a row",status:"inProgress",progress:30},{name:"Fiber Fiend",description:"Log a high-fiber day",status:"notStarted",progress:0},{name:"Beast Mode",description:"Reach 100 strength XP",status:"completed",progress:100}],Y=({name:t,description:a,progress:n})=>e.jsxs(Z,{style:{width:"100%"},children:[e.jsx(l,{styleAs:"h4",children:t}),e.jsx(l,{style:{fontSize:"0.9rem",color:"#ccc",marginBottom:"0.5rem"},children:a}),e.jsx(ee,{value:n}),e.jsxs(l,{style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:[n,"% complete"]})]}),rt=()=>{const t=V.filter(s=>s.status==="inProgress"),a=V.filter(s=>s.status==="notStarted"),n=V.filter(s=>s.status==="completed");return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(l,{styleAs:"h2",style:{marginBottom:"1rem"},children:"Your Quests"}),e.jsxs(ce,{children:[e.jsxs(H,{value:"",children:[e.jsx(U,{children:"In Progress"}),e.jsx(E,{children:e.jsx(c,{direction:"column",gap:2,children:t.map(s=>e.jsx(Y,{...s},s.name))})})]}),e.jsxs(H,{value:"",children:[e.jsx(U,{children:"Not Started"}),e.jsx(E,{children:e.jsx(c,{direction:"column",gap:2,children:a.map(s=>e.jsx(Y,{...s},s.name))})})]}),e.jsxs(H,{value:"",children:[e.jsx(U,{children:"Completed"}),e.jsx(E,{children:e.jsx(c,{direction:"column",gap:2,children:n.map(s=>e.jsx(Y,{...s},s.name))})})]})]})]})},se=[{path:"/",name:"Character",element:e.jsx(Ze,{})},{path:"/skills",name:"Skills",element:e.jsx(tt,{})},{path:"/quests",name:"Quests",element:e.jsx(rt,{})}],st={apiKey:"AIzaSyBSPzfe-fIq_T5YiH_K3CGFjkXuVtXh_s4",authDomain:"xpetshealth.quest",projectId:"workoutrpg-14ea8",storageBucket:"workoutrpg-14ea8.firebasestorage.app",messagingSenderId:"365189784249",appId:"1:365189784249:web:711c00340542c7b238f168",measurementId:"G-YMB052NVCF"},ae=de(st);pe(ae);const W=ue(ae);xe(W,he).then(()=>{}).catch(t=>{console.error("Failed to set persistence:",t)});const at=new ge;function nt(){me(W).then(()=>{console.log("Signed out!")}).catch(t=>{console.error("Sign out error:",t)})}const R=ye.create({baseURL:"https://api-wosc6bjdaa-uc.a.run.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),lt=()=>{const{userData:t,setUserData:a}=N(),[n,s]=o.useState(""),[r,i]=o.useState(null),[u,y]=o.useState(!1),[g,k]=o.useState(null),S=async()=>{if(n.trim()){y(!0),k(null),i(null);try{const{data:j}=await R.post("/chatnutrition",{message:n});console.log("Received data from API:",j);const A={...j,description:n};console.log("Meal Data:",A);const L=await R.post(`/chatnutrition/${t==null?void 0:t.uid}/addMeal`,A),{mealAffects:h,updatedUser:w}=L.data;a(w),console.log("Meal Affects:",h);const m=[];h.currency&&m.push(`🦴 This meal cost ${h.currency} bone${h.currency>1?"s":""}!`),h.armorIncrease&&m.push(`🛡️ +${h.armorIncrease.toFixed(1)} Armor from protein`),h.defenseIncrease&&m.push(`🧱 +${h.defenseIncrease.toFixed(1)} Defense from fiber`),h.speedIncrease&&m.push(`💨 +${h.speedIncrease.toFixed(1)} Speed from hydration`),h.intelligenceIncrease&&m.push(`🧠 +${h.intelligenceIncrease} Intelligence from fruits & vegetables`),i(m.join(`
`))}catch{k("Failed to get nutrition info. Try again.")}finally{y(!1),s("")}}};return e.jsxs(je,{style:{maxWidth:480,margin:"auto",padding:16},children:[e.jsx(l,{styleAs:"h2",style:{marginBottom:12},children:"Log Your Food"}),e.jsx("textarea",{value:n,onChange:j=>s(j.target.value),placeholder:"Describe what you ate today...",onBlur:()=>{window.scrollTo(0,window.scrollY)},rows:5,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid var(--salt-palette-neutral-300)",fontSize:"17px",fontFamily:"inherit",backgroundColor:"var(--salt-container-primary-background)",color:"var(--salt-content-primary-foreground)",resize:"vertical"}}),e.jsx(T,{appearance:"solid",sentiment:"accented",onClick:S,disabled:u||!n.trim(),style:{marginTop:12},children:u?e.jsx(te,{size:"small"}):"Send"}),g&&e.jsx(l,{styleAs:"display2",style:{color:"var(--salt-error-text-color)",marginTop:12},children:g}),r&&e.jsx("pre",{style:{marginTop:16,backgroundColor:"var(--salt-gray-50)",padding:12,borderRadius:6,whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:14},children:e.jsxs(l,{style:{lineHeight:"33px"},styleAs:"h3",children:[" ",r]})})]})},ot=o.forwardRef(function({onClick:a,to:n,...s},r){const i=fe(n),u=ve(n);return e.jsx(be,{...s,href:i,onClick:y=>{a==null||a(y),y.defaultPrevented||u(y)},ref:r})}),it=()=>{const[t,a]=o.useState("none"),{pathname:n}=Se();return e.jsxs(c,{as:"header",justify:"space-between",align:"center",className:"app-header",children:[e.jsx(x,{children:e.jsxs(we,{children:[e.jsx(Ce,{children:e.jsx(T,{appearance:"bordered",sentiment:"accented","aria-label":"Open Menu",children:e.jsx(ke,{"aria-hidden":!0})})}),e.jsxs(Ae,{children:[e.jsx(K,{onClick:()=>a("logFood"),children:"Log Food"}),e.jsx(K,{children:"Log Manual Workout"})]})]})}),e.jsx(x,{children:e.jsx("nav",{children:e.jsx(b,{direction:"row",gap:1,role:"list",children:se.map(s=>e.jsx("div",{role:"listitem",children:e.jsx(ot,{active:n===s.path,to:s.path,children:s.name})},s.name))})})}),e.jsx(x,{children:e.jsx(_e,{placement:"top",content:"User Settings",children:e.jsx(T,{appearance:"bordered",sentiment:"accented","aria-label":"User Settings",onClick:nt,children:e.jsx(Le,{})})})}),e.jsxs(Pe,{open:t!=="none",onOpenChange:()=>a("none"),position:"bottom",children:[t==="logFood"&&e.jsx(lt,{}),t==="logWorkout"&&e.jsx(e.Fragment,{})]})]})},ct="_myBackground_1pm88_1",dt="_loginScreen_1pm88_13",pt="_overlay_1pm88_29",ut="_loginContainer_1pm88_39",xt="_googleButton_1pm88_49",J={myBackground:ct,loginScreen:dt,overlay:pt,loginContainer:ut,googleButton:xt};function gt(){const{setUserData:t}=N(),[a,n]=o.useState(!1),s=async()=>{n(!0),console.log("Attempting to log in with Google...");try{const i=await(await Te(W,at)).user.getIdToken(),{data:u}=await R.post("/auth/google",{token:i}),g=(await R.get(`/users/${u.uid}`)).data;t(g),console.log("User saved or retrieved from DB:",u)}catch(r){console.error(r)}n(!0)};return e.jsx("div",{className:J.loginScreen,children:e.jsx("div",{className:J.loginContainer,children:a?e.jsx(te,{size:"large","aria-label":"loading",role:"status"}):e.jsx(T,{className:J.googleButton,onClick:s,children:"Embark with Google"})})})}const v=({symbol:t,label:a="",className:n="",style:s={},size:r=24})=>e.jsx("span",{role:"img","aria-label":a||void 0,"aria-hidden":a?"false":"true",className:n,style:{fontSize:typeof r=="number"?`${r}px`:r,lineHeight:1,...s},children:t}),ht=()=>{const{userData:t,setUserData:a}=N();if(!t)return e.jsx(l,{children:"Loading..."});const[n,s]=o.useState(0),[r,i]=o.useState(t),[u,y]=o.useState(1),[g,k]=o.useState(1.2),[S,j]=o.useState(0);if(!t||!r)return e.jsx(l,{children:"Loading..."});const A=d=>{const{weight:p,height:C,age:_,sex:M}=d;return M==="male"?10*(p/2.205)+6.25*(C*2.54)-5*_+5:10*(p/2.205)+6.25*(C*2.54)-5*_-161},L=d=>{const p=g+S;return d*p},h=async d=>{d.preventDefault();const p=A(r.bodyStats),C=L(p),_=r.goal.goalType==="weight_loss"?C-u*3500/7:r.goal.goalType==="muscle_gain"?C+300:C,M=Math.round(_/100),X={...r,bodyStats:{...r.bodyStats,bmr:p,tdee:C},goal:{...r.goal,dailyCalorieGoal:_,dailyCurrencyTotal:M,dailyCurrencyUsed:{}}};console.log("Submitted User Data:",X);try{const{data:z}=await R.post("/users/update",{...X});a(z)}catch(z){console.error("Error updating user data:",z)}},w=(d,p,C)=>{const{name:_,value:M}=d.target;i({...r,[p]:{...r[p],[C||_]:M}})},m=(d,p,C)=>{i({...r,[d]:{...r[d],[p]:C}})},F=()=>{if(n===0){const{weight:d,height:p,age:C,sex:_}=r.bodyStats;return d>0&&p>0&&C>0&&["male","female"].includes(_)}if(n===1)return["weight_loss","muscle_gain","maintenance"].includes(r.goal.goalType);if(n===2){const{name:d,currentPet:p}=r.pet;return d.trim()!==""&&["puppy","kitten","bird"].includes(p)}return!0},B=["Body Stats","Fitness Goals","Virtual Pet"];return e.jsx(c,{direction:"column",align:"stretch",style:{display:"flex",minHeight:"100vh",width:"100%",overflow:"hidden",padding:"14px"},children:e.jsx(x,{grow:1,children:e.jsxs(b,{align:"stretch",gap:3,style:{display:"flex",minHeight:"100%",width:"100%"},children:[e.jsx(x,{children:e.jsx(l,{styleAs:"h1",children:"Welcome to Your Journey"})}),e.jsx(x,{children:e.jsx(Be,{children:B.map((d,p)=>e.jsx(Ie,{label:d,stage:n===p?"active":p<n?"completed":"pending"},p))})}),e.jsxs("form",{onSubmit:h,children:[n===0&&e.jsxs(b,{align:"stretch",gap:2,children:[e.jsx(l,{styleAs:"h2",children:"Body Stats"}),e.jsxs(P,{children:[e.jsx(I,{children:"Weight (lbs)"}),e.jsx(D,{value:r.bodyStats.weight,onChange:d=>w(d,"bodyStats","weight")})]}),e.jsxs(P,{children:[e.jsx(I,{children:"Height (inches)"}),e.jsx(D,{value:r.bodyStats.height,onChange:d=>w(d,"bodyStats","height")})]}),e.jsxs(P,{children:[e.jsx(I,{children:"Sex"}),e.jsxs(c,{direction:"row",gap:2,children:[e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("bodyStats","sex","male"),"aria-label":"Male",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:r.bodyStats.sex==="male"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsxs(c,{direction:"column",align:"center",gap:1,children:[e.jsx(v,{symbol:"🙎🏻‍♂️",size:32}),e.jsx(l,{children:"Male"})]})})}),e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("bodyStats","sex","female"),"aria-label":"Female",style:{borderRadius:"12px",backgroundColor:"var(--salt-palette-neutral-selection)",border:r.bodyStats.sex==="female"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsxs(c,{direction:"column",align:"center",gap:1,children:[e.jsx(v,{symbol:"🙎🏻‍♀️",size:32}),e.jsx(l,{children:"Female"})]})})})]})]}),e.jsxs(P,{children:[e.jsx(I,{children:"Age (years)"}),e.jsx(D,{value:r.bodyStats.age,onChange:d=>w(d,"bodyStats","age")})]})]}),n===1&&e.jsxs(b,{gap:2,children:[e.jsx(l,{styleAs:"h3",children:"Fitness Goals"}),e.jsxs(c,{direction:"row",gap:2,children:[e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("goal","goalType","weight_loss"),"aria-label":"Weight Loss",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:r.goal.goalType==="weight_loss"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(c,{direction:"column",align:"center",gap:1,children:e.jsxs(x,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(v,{symbol:"🔥",size:24}),e.jsx(l,{children:"Weight Loss"})]})})})}),e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("goal","goalType","muscle_gain"),"aria-label":"Muscle Gain",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:r.goal.goalType==="muscle_gain"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(c,{direction:"column",align:"center",gap:1,children:e.jsxs(x,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(v,{symbol:r.bodyStats.sex==="male"?"🏋️‍♂️":"🏋🏽‍♀️",size:24}),e.jsx(l,{children:"Muscle Gain"})]})})})}),e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("goal","goalType","maintenance"),"aria-label":"Maintenance",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:r.goal.goalType==="maintenance"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(c,{direction:"column",align:"center",gap:1,children:e.jsxs(x,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(v,{symbol:"🛠️",size:24}),e.jsx(l,{children:"Maintenance"})]})})})})]}),r.goal.goalType==="weight_loss"&&e.jsxs(P,{children:[e.jsx(l,{styleAs:"h3",children:"Weekly Weight Loss (lbs)"}),e.jsx(Fe,{max:2,min:.5,step:.25,value:u,onChange:(d,p)=>y(p),minLabel:"0.5",maxLabel:"2","aria-label":"Weekly weight loss slider"})]}),e.jsxs(b,{gap:1,children:[e.jsx(l,{styleAs:"h3",children:"Job Activity Level"}),e.jsx(l,{styleAs:"h4",style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Select the option that best describes your daily work activity"}),e.jsxs(c,{direction:"column",gap:1,children:[e.jsx(f,{onClick:()=>k(1.2),"aria-label":"Sedentary - Desk Job",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:g===1.2?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"💻",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Sedentary - Desk Job"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Mostly sitting, minimal physical activity"})]})]})}),e.jsx(f,{onClick:()=>k(1.375),"aria-label":"Lightly Active - Teacher",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:g===1.375?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"👩‍🏫",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Lightly Active - Teacher"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Some standing and walking throughout the day"})]})]})}),e.jsx(f,{onClick:()=>k(1.55),"aria-label":"Moderately Active - Nurse/Waitress",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:g===1.55?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"👩‍⚕️",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Moderately Active - Nurse/Waitress"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Frequent walking, standing, and physical tasks"})]})]})}),e.jsx(f,{onClick:()=>k(1.75),"aria-label":"Very Active - Construction Worker",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:g===1.75?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"👷‍♂️",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Very Active - Construction Worker"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Heavy physical labor and constant movement"})]})]})})]})]}),e.jsxs(b,{gap:1,children:[e.jsx(l,{styleAs:"h3",children:"Workout Activity Level"}),e.jsx(l,{styleAs:"h4",style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"How often do you exercise per week?"}),e.jsxs(c,{direction:"column",gap:1,children:[e.jsx(f,{onClick:()=>j(0),"aria-label":"Sedentary - No Exercise",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:S===0?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"🛋️",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Sedentary"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Little to no exercise"})]})]})}),e.jsx(f,{onClick:()=>j(.05),"aria-label":"Lightly Active - 1-3 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:S===.05?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"🚶‍♀️",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Lightly Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Light exercise 1-3 days per week"})]})]})}),e.jsx(f,{onClick:()=>j(.1),"aria-label":"Moderately Active - 3-5 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:S===.1?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"🏃‍♂️",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Moderately Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Moderate exercise 3-5 days per week"})]})]})}),e.jsx(f,{onClick:()=>j(.15),"aria-label":"Very Active - 6-7 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:S===.15?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"🏋️‍♀️",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Very Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Hard exercise 6-7 days per week"})]})]})}),e.jsx(f,{onClick:()=>j(.2),"aria-label":"Extremely Active - 2x per day or intense training",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:S===.2?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(c,{direction:"row",align:"center",gap:2,children:[e.jsx(v,{symbol:"💪",size:30}),e.jsxs(b,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Extremely Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Very hard exercise 2x/day or intense training"})]})]})})]})]})]}),n===2&&e.jsxs(b,{gap:2,children:[e.jsx(l,{styleAs:"h2",children:"Your Virtual Pet"}),e.jsxs(P,{children:[e.jsx(I,{children:"Pet Name"}),e.jsx(D,{value:r.pet.name,onChange:d=>w(d,"pet","name")})]}),e.jsxs(P,{children:[e.jsx(I,{children:"Pet Type"}),e.jsxs(c,{direction:"row",gap:2,children:[e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("pet","currentPet","puppy"),"aria-label":"Dog",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:r.pet.currentPet==="puppy"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(c,{direction:"column",align:"center",gap:1,children:e.jsxs(x,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(v,{symbol:"🐶",size:24}),e.jsx(l,{children:"Dog"})]})})})}),e.jsx(x,{grow:1,children:e.jsx(f,{onClick:()=>m("pet","currentPet","kitten"),style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:r.pet.currentPet==="kitten"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},"aria-label":"Cat",children:e.jsx(c,{direction:"column",align:"center",gap:1,children:e.jsxs(x,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(v,{symbol:"🐱",size:24}),e.jsx(l,{children:"Cat"})]})})})})]})]})]}),e.jsx(x,{style:{paddingTop:"20px"},children:e.jsxs(c,{direction:"row",gap:2,justify:"center",className:"mt-6",children:[n>0&&e.jsx(T,{sentiment:"neutral",appearance:"solid",onClick:()=>s(n-1),children:"Previous"}),n<B.length-1&&e.jsx(T,{sentiment:"accented",appearance:"solid",disabled:!F(),onClick:()=>s(n+1),children:"Next"}),n===B.length-1&&e.jsx(T,{type:"submit",sentiment:"accented",appearance:"solid",disabled:!F(),onClick:h,children:"Start Your Adventure!"})]})})]})]})})})};function mt(){const[t,a]=o.useState(null),[n,s]=o.useState(!0),{userData:r,setUserData:i}=N(),[u,y]=o.useState(0);return o.useEffect(()=>{const g=Me(W,k=>{console.log("Auth state changed:",k),console.log("User Data in App useEffect:",r),a(k),s(!1);const S=localStorage.getItem("userData");S&&i(JSON.parse(S))});return()=>g()},[]),console.log("App render - Loading:",n,"User:",t,"UserData:",r),n?e.jsx("div",{children:"Loading in app.tsx..."}):!t||!r?e.jsx(O,{mode:"dark",children:e.jsx(gt,{})}):r.bodyStats.weight===0?e.jsx(O,{mode:"dark",children:e.jsx(ht,{})}):e.jsx(O,{mode:"dark",children:e.jsxs("div",{style:{maxHeight:"100dvh",minHeight:"100dvh",height:"100dvh",position:"relative",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{flex:1,maxHeight:"calc(100dvh - 76px)",minHeight:"calc(100dvh - 76px)",height:"calc(100dvh - 76px)",display:"flex",flexDirection:"column",paddingBottom:"14px"},children:e.jsx(Re,{children:se.map(g=>e.jsx(Ne,{path:g.path,element:g.element},g.name))})}),e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"76px"},children:e.jsx(it,{})})]})})}De.createRoot(document.getElementById("root")).render(e.jsx(We.StrictMode,{children:e.jsx(ze,{children:e.jsx(Ve,{children:e.jsx(mt,{})})})}));
