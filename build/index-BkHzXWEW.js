import{j as e,F as d,a as p,T as i,C as T,r as l,O as N,u as A,b as L,L as _,A as I,c as g,d as j,e as f,i as R,g as M,f as O,G as z,s as H,h as W,P as E,B as m,S as D,k as G,l as U,N as Y,m as K,M as Q,n as V,o as X,p as q,q as w,t as J,v as $,U as Z,D as ee,w as te,x as se,y as P,z as re,E as b,R as ne,H as ae,I as oe,J as ie,K as le}from"./vendor-DNOPv9Xb.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const ce="_homePage_rxrt2_1",de="_homePageTitle_rxrt2_6",ue="_statusSection_rxrt2_24",pe="_levelText_rxrt2_29",he="_xpBarWrapper_rxrt2_35",me="_xpBarFill_rxrt2_44",h={homePage:ce,homePageTitle:de,"card-links":"_card-links_rxrt2_10","card-image":"_card-image_rxrt2_19",statusSection:ue,levelText:pe,xpBarWrapper:he,xpBarFill:me},xe=()=>{function r({url:n,scale:a=2,position:t=[0,-2,0]}){const{scene:s}=A(n);return s.scale.set(a,a,a),e.jsx("group",{scale:[a,a,a],position:t,children:e.jsx("primitive",{object:s})})}return e.jsxs(d,{style:{height:"100%"},justify:"center",direction:"column",children:[e.jsx(p,{align:"center",children:e.jsx(i,{styleAs:"h1",className:h.homePageTitle,children:"Your Pet!"})}),e.jsx(p,{grow:1,children:e.jsxs(T,{camera:{position:[5,4,5],fov:50},children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("directionalLight",{position:[0,5,5]}),e.jsx(l.Suspense,{children:e.jsxs("group",{rotation:[0,Math.PI,0],children:[" ",e.jsx(r,{url:"/dog/scene.gltf"})]})}),e.jsx(N,{})]})}),e.jsxs(p,{className:h.statusSection,children:[e.jsx("div",{className:h.levelText,children:"Level 2"}),e.jsxs("div",{className:h.xpBarWrapper,children:[e.jsx("div",{className:h.xpBarFill,style:{width:"80%"}})," "]})]})]})},ge=[{name:"Strength",level:3,xp:60,xpNeeded:100},{name:"Endurance",level:2,xp:30,xpNeeded:80},{name:"Speed",level:4,xp:90,xpNeeded:120}],je=()=>e.jsxs(d,{direction:"column",gap:2,style:{padding:"1rem"},children:[e.jsx(i,{styleAs:"h2",style:{marginBottom:"1rem"},children:"Your Skills"}),ge.map(r=>{const n=r.xp/r.xpNeeded*100;return e.jsxs(L,{style:{width:"100%"},children:[e.jsxs(d,{justify:"space-between",align:"center",children:[e.jsx(i,{styleAs:"h4",children:r.name}),e.jsxs(i,{children:["Level ",r.level]})]}),e.jsx(_,{value:n,style:{marginTop:"0.5rem"}}),e.jsxs(i,{style:{fontSize:"0.8rem",marginTop:"0.25rem"},children:[r.xp," / ",r.xpNeeded," XP"]})]},r.name)})]}),y=[{name:"First Workout",description:"Complete your first workout",status:"completed",progress:100},{name:"Protein Power",description:"Log a high-protein meal",status:"inProgress",progress:60},{name:"Hydration Hero",description:"Drink 8 glasses of water",status:"notStarted",progress:0},{name:"Consistency Counts",description:"Log workouts 3 days in a row",status:"inProgress",progress:30},{name:"Fiber Fiend",description:"Log a high-fiber day",status:"notStarted",progress:0},{name:"Beast Mode",description:"Reach 100 strength XP",status:"completed",progress:100}],v=({name:r,description:n,progress:a})=>e.jsxs(L,{style:{width:"100%"},children:[e.jsx(i,{styleAs:"h4",children:r}),e.jsx(i,{style:{fontSize:"0.9rem",color:"#ccc",marginBottom:"0.5rem"},children:n}),e.jsx(_,{value:a}),e.jsxs(i,{style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:[a,"% complete"]})]}),fe=()=>{const r=y.filter(t=>t.status==="inProgress"),n=y.filter(t=>t.status==="notStarted"),a=y.filter(t=>t.status==="completed");return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(i,{styleAs:"h2",style:{marginBottom:"1rem"},children:"Your Quests"}),e.jsxs(I,{children:[e.jsxs(g,{value:"",children:[e.jsx(j,{children:"In Progress"}),e.jsx(f,{children:e.jsx(d,{direction:"column",gap:2,children:r.map(t=>e.jsx(v,{...t},t.name))})})]}),e.jsxs(g,{value:"",children:[e.jsx(j,{children:"Not Started"}),e.jsx(f,{children:e.jsx(d,{direction:"column",gap:2,children:n.map(t=>e.jsx(v,{...t},t.name))})})]}),e.jsxs(g,{value:"",children:[e.jsx(j,{children:"Completed"}),e.jsx(f,{children:e.jsx(d,{direction:"column",gap:2,children:a.map(t=>e.jsx(v,{...t},t.name))})})]})]})]})},k=[{path:"/",name:"Character",element:e.jsx(xe,{})},{path:"/skills",name:"Skills",element:e.jsx(je,{})},{path:"/quests",name:"Quests",element:e.jsx(fe,{})}],ye={apiKey:"AIzaSyBSPzfe-fIq_T5YiH_K3CGFjkXuVtXh_s4",authDomain:"workoutrpg-14ea8.firebaseapp.com",projectId:"workoutrpg-14ea8",storageBucket:"workoutrpg-14ea8.firebasestorage.app",messagingSenderId:"365189784249",appId:"1:365189784249:web:711c00340542c7b238f168",measurementId:"G-YMB052NVCF"},B=R(ye);M(B);const S=O(B),ve=new z;function Se(){H(S).then(()=>{console.log("Signed out!")})}const C=W.create({baseURL:"https://api-wosc6bjdaa-uc.a.run.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),we=()=>{const[r,n]=l.useState(""),[a,t]=l.useState(null),[s,o]=l.useState(!1),[c,u]=l.useState(null),F=async()=>{if(r.trim()){o(!0),u(null),t(null);try{const{data:x}=await C.post("/chatnutrition",{message:r});t(JSON.stringify(x,null,2))}catch{u("Failed to get nutrition info. Try again.")}finally{o(!1),n("")}}};return e.jsxs(E,{style:{maxWidth:480,margin:"auto",padding:16},children:[e.jsx(i,{styleAs:"h2",style:{marginBottom:12},children:"Log Your Food"}),e.jsx("textarea",{value:r,onChange:x=>n(x.target.value),placeholder:"Describe what you ate today...",rows:5,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid var(--salt-palette-neutral-300)",fontSize:"1rem",fontFamily:"inherit",backgroundColor:"var(--salt-container-primary-background)",color:"var(--salt-content-primary-foreground)",resize:"vertical"}}),e.jsx(m,{appearance:"solid",sentiment:"accented",onClick:F,disabled:s||!r.trim(),style:{marginTop:12},children:s?e.jsx(D,{size:"small"}):"Send"}),c&&e.jsx(i,{styleAs:"display2",style:{color:"var(--salt-error-text-color)",marginTop:12},children:c}),a&&e.jsx("pre",{style:{marginTop:16,backgroundColor:"var(--salt-gray-50)",padding:12,borderRadius:6,whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:14},children:a})]})},Pe=l.forwardRef(function({onClick:n,to:a,...t},s){const o=G(a),c=U(a);return e.jsx(Y,{...t,href:o,onClick:u=>{n==null||n(u),u.defaultPrevented||c(u)},ref:s})}),be=()=>{const[r,n]=l.useState("none"),{pathname:a}=K();return e.jsxs(d,{as:"header",justify:"space-between",align:"center",className:"app-header",children:[e.jsx(p,{children:e.jsxs(Q,{children:[e.jsx(V,{children:e.jsx(m,{appearance:"bordered",sentiment:"accented","aria-label":"Open Menu",children:e.jsx(X,{"aria-hidden":!0})})}),e.jsxs(q,{children:[e.jsx(w,{onClick:()=>n("logFood"),children:"Log Food"}),e.jsx(w,{children:"Log Manual Workout"})]})]})}),e.jsx(p,{children:e.jsx("nav",{children:e.jsx(J,{direction:"row",gap:1,role:"list",children:k.map(t=>e.jsx("div",{role:"listitem",children:e.jsx(Pe,{active:a===t.path,to:t.path,children:t.name})},t.name))})})}),e.jsx(p,{children:e.jsx($,{placement:"top",content:"User Settings",children:e.jsx(m,{appearance:"bordered",sentiment:"accented","aria-label":"User Settings",onClick:Se,children:e.jsx(Z,{})})})}),e.jsxs(ee,{open:r!=="none",onOpenChange:()=>n("none"),position:"bottom",children:[r==="logFood"&&e.jsx(we,{}),r==="logWorkout"&&e.jsx(e.Fragment,{})]})]})},Le="_myBackground_ca27r_1",_e={myBackground:Le};function ke(){const r=async()=>{try{const a=await(await te(S,ve)).user.getIdToken(),{data:t}=await C.post("/auth/google",{token:a});console.log("User saved or retrieved from DB:",t)}catch(n){console.error(n)}};return e.jsx("div",{className:_e.myBackground,children:e.jsx(m,{style:{borderRadius:"16px"},appearance:"solid",sentiment:"positive",onClick:r,children:"Sign in with Google"})})}function Be(){const[r,n]=l.useState(null),[a,t]=l.useState(!0);return l.useEffect(()=>{const s=se(S,o=>{n(o),t(!1)});return()=>s()},[]),a?e.jsx("div",{children:"Loading..."}):r?e.jsx(P,{mode:"dark",children:e.jsxs(re,{style:{height:"100vh"},children:[e.jsx(b,{position:"center",style:{flex:1,width:"100%",height:"100%",overflowY:"auto"},children:e.jsx(ne,{children:k.map(s=>e.jsx(ae,{path:s.path,element:s.element},s.name))})}),e.jsx(b,{sticky:!0,position:"south",children:e.jsx(be,{})})]})}):e.jsx(P,{mode:"dark",children:e.jsx(ke,{})})}oe.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(le,{children:e.jsx(Be,{})})}));
