var CV=Object.defineProperty;var TV=(n,e,t)=>e in n?CV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var eb=(n,e,t)=>(TV(n,typeof e!="symbol"?e+"":e,t),t);function MV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var LN={exports:{}},cS={},kN={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=Symbol.for("react.element"),RV=Symbol.for("react.portal"),IV=Symbol.for("react.fragment"),PV=Symbol.for("react.strict_mode"),BV=Symbol.for("react.profiler"),LV=Symbol.for("react.provider"),kV=Symbol.for("react.context"),DV=Symbol.for("react.forward_ref"),OV=Symbol.for("react.suspense"),NV=Symbol.for("react.memo"),FV=Symbol.for("react.lazy"),X2=Symbol.iterator;function UV(n){return n===null||typeof n!="object"?null:(n=X2&&n[X2]||n["@@iterator"],typeof n=="function"?n:null)}var DN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ON=Object.assign,NN={};function Qm(n,e,t){this.props=n,this.context=e,this.refs=NN,this.updater=t||DN}Qm.prototype.isReactComponent={};Qm.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Qm.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FN(){}FN.prototype=Qm.prototype;function oR(n,e,t){this.props=n,this.context=e,this.refs=NN,this.updater=t||DN}var aR=oR.prototype=new FN;aR.constructor=oR;ON(aR,Qm.prototype);aR.isPureReactComponent=!0;var J2=Array.isArray,UN=Object.prototype.hasOwnProperty,lR={current:null},zN={key:!0,ref:!0,__self:!0,__source:!0};function HN(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)UN.call(e,r)&&!zN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ry,type:n,key:s,ref:o,props:i,_owner:lR.current}}function zV(n,e){return{$$typeof:ry,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function cR(n){return typeof n=="object"&&n!==null&&n.$$typeof===ry}function HV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var K2=/\/+/g;function RA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?HV(""+n.key):e.toString(36)}function T_(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ry:case RV:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+RA(o,0):r,J2(i)?(t="",n!=null&&(t=n.replace(K2,"$&/")+"/"),T_(i,e,t,"",function(c){return c})):i!=null&&(cR(i)&&(i=zV(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K2,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",J2(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+RA(s,a);o+=T_(s,e,t,l,i)}else if(l=UV(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+RA(s,a++),o+=T_(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tb(n,e,t){if(n==null)return n;var r=[],i=0;return T_(n,r,"","",function(s){return e.call(t,s,i++)}),r}function GV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ps={current:null},M_={transition:null},WV={ReactCurrentDispatcher:ps,ReactCurrentBatchConfig:M_,ReactCurrentOwner:lR};vn.Children={map:tb,forEach:function(n,e,t){tb(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return tb(n,function(){e++}),e},toArray:function(n){return tb(n,function(e){return e})||[]},only:function(n){if(!cR(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vn.Component=Qm;vn.Fragment=IV;vn.Profiler=BV;vn.PureComponent=oR;vn.StrictMode=PV;vn.Suspense=OV;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;vn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=ON({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=lR.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)UN.call(e,l)&&!zN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ry,type:n.type,key:i,ref:s,props:r,_owner:o}};vn.createContext=function(n){return n={$$typeof:kV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:LV,_context:n},n.Consumer=n};vn.createElement=HN;vn.createFactory=function(n){var e=HN.bind(null,n);return e.type=n,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(n){return{$$typeof:DV,render:n}};vn.isValidElement=cR;vn.lazy=function(n){return{$$typeof:FV,_payload:{_status:-1,_result:n},_init:GV}};vn.memo=function(n,e){return{$$typeof:NV,type:n,compare:e===void 0?null:e}};vn.startTransition=function(n){var e=M_.transition;M_.transition={};try{n()}finally{M_.transition=e}};vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vn.useCallback=function(n,e){return ps.current.useCallback(n,e)};vn.useContext=function(n){return ps.current.useContext(n)};vn.useDebugValue=function(){};vn.useDeferredValue=function(n){return ps.current.useDeferredValue(n)};vn.useEffect=function(n,e){return ps.current.useEffect(n,e)};vn.useId=function(){return ps.current.useId()};vn.useImperativeHandle=function(n,e,t){return ps.current.useImperativeHandle(n,e,t)};vn.useInsertionEffect=function(n,e){return ps.current.useInsertionEffect(n,e)};vn.useLayoutEffect=function(n,e){return ps.current.useLayoutEffect(n,e)};vn.useMemo=function(n,e){return ps.current.useMemo(n,e)};vn.useReducer=function(n,e,t){return ps.current.useReducer(n,e,t)};vn.useRef=function(n){return ps.current.useRef(n)};vn.useState=function(n){return ps.current.useState(n)};vn.useSyncExternalStore=function(n,e,t){return ps.current.useSyncExternalStore(n,e,t)};vn.useTransition=function(){return ps.current.useTransition()};vn.version="18.2.0";kN.exports=vn;var k=kN.exports;const $p=sR(k),v0=MV({__proto__:null,default:$p},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV=k,jV=Symbol.for("react.element"),XV=Symbol.for("react.fragment"),JV=Object.prototype.hasOwnProperty,KV=VV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$V={key:!0,ref:!0,__self:!0,__source:!0};function GN(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JV.call(e,r)&&!$V.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jV,type:n,key:s,ref:o,props:i,_owner:KV.current}}cS.Fragment=XV;cS.jsx=GN;cS.jsxs=GN;LN.exports=cS;var te=LN.exports,$2={},WN={exports:{}},bo={},VN={exports:{}},jN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,G){var Y=z.length;z.push(G);e:for(;0<Y;){var le=Y-1>>>1,ge=z[le];if(0<i(ge,G))z[le]=G,z[Y]=ge,Y=le;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],Y=z.pop();if(Y!==G){z[0]=Y;e:for(var le=0,ge=z.length,ie=ge>>>1;le<ie;){var oe=2*(le+1)-1,he=z[oe],pe=oe+1,q=z[pe];if(0>i(he,Y))pe<ge&&0>i(q,he)?(z[le]=q,z[pe]=Y,le=pe):(z[le]=he,z[oe]=Y,le=oe);else if(pe<ge&&0>i(q,Y))z[le]=q,z[pe]=Y,le=pe;else break e}}return G}function i(z,G){var Y=z.sortIndex-G.sortIndex;return Y!==0?Y:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,p=null,m=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=z)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function T(z){if(b=!1,_(z),!y)if(t(l)!==null)y=!0,ee(R);else{var G=t(c);G!==null&&ne(T,G.startTime-z)}}function R(z,G){y=!1,b&&(b=!1,x(N),N=-1),v=!0;var Y=m;try{for(_(G),p=t(l);p!==null&&(!(p.expirationTime>G)||z&&!U());){var le=p.callback;if(typeof le=="function"){p.callback=null,m=p.priorityLevel;var ge=le(p.expirationTime<=G);G=n.unstable_now(),typeof ge=="function"?p.callback=ge:p===t(l)&&r(l),_(G)}else r(l);p=t(l)}if(p!==null)var ie=!0;else{var oe=t(c);oe!==null&&ne(T,oe.startTime-G),ie=!1}return ie}finally{p=null,m=Y,v=!1}}var P=!1,D=null,N=-1,L=5,M=-1;function U(){return!(n.unstable_now()-M<L)}function V(){if(D!==null){var z=n.unstable_now();M=z;var G=!0;try{G=D(!0,z)}finally{G?H():(P=!1,D=null)}}else P=!1}var H;if(typeof A=="function")H=function(){A(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=V,H=function(){K.postMessage(null)}}else H=function(){w(V,0)};function ee(z){D=z,P||(P=!0,H())}function ne(z,G){N=w(function(){z(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,ee(R))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(z){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Y=m;m=G;try{return z()}finally{m=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=m;m=z;try{return G()}finally{m=Y}},n.unstable_scheduleCallback=function(z,G,Y){var le=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,z={id:d++,callback:G,priorityLevel:z,startTime:Y,expirationTime:ge,sortIndex:-1},Y>le?(z.sortIndex=Y,e(c,z),t(l)===null&&z===t(c)&&(b?(x(N),N=-1):b=!0,ne(T,Y-le))):(z.sortIndex=ge,e(l,z),y||v||(y=!0,ee(R))),z},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(z){var G=m;return function(){var Y=m;m=G;try{return z.apply(this,arguments)}finally{m=Y}}}})(jN);VN.exports=jN;var YV=VN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN=k,vo=YV;function Ze(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JN=new Set,y0={};function xh(n,e){Bm(n,e),Bm(n+"Capture",e)}function Bm(n,e){for(y0[n]=e,n=0;n<e.length;n++)JN.add(e[n])}var vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RC=Object.prototype.hasOwnProperty,qV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y2={},q2={};function QV(n){return RC.call(q2,n)?!0:RC.call(Y2,n)?!1:qV.test(n)?q2[n]=!0:(Y2[n]=!0,!1)}function ZV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function e7(n,e,t,r){if(e===null||typeof e>"u"||ZV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ms(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Di[n]=new ms(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Di[e]=new ms(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Di[n]=new ms(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Di[n]=new ms(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Di[n]=new ms(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Di[n]=new ms(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Di[n]=new ms(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Di[n]=new ms(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Di[n]=new ms(n,5,!1,n.toLowerCase(),null,!1,!1)});var uR=/[\-:]([a-z])/g;function dR(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(uR,dR);Di[e]=new ms(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(uR,dR);Di[e]=new ms(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(uR,dR);Di[e]=new ms(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Di[n]=new ms(n,1,!1,n.toLowerCase(),null,!1,!1)});Di.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Di[n]=new ms(n,1,!1,n.toLowerCase(),null,!0,!0)});function fR(n,e,t,r){var i=Di.hasOwnProperty(e)?Di[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e7(e,t,i,r)&&(t=null),r||i===null?QV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Pc=XN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nb=Symbol.for("react.element"),Yp=Symbol.for("react.portal"),qp=Symbol.for("react.fragment"),hR=Symbol.for("react.strict_mode"),IC=Symbol.for("react.profiler"),KN=Symbol.for("react.provider"),$N=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),BC=Symbol.for("react.suspense_list"),mR=Symbol.for("react.memo"),bu=Symbol.for("react.lazy"),YN=Symbol.for("react.offscreen"),Q2=Symbol.iterator;function hv(n){return n===null||typeof n!="object"?null:(n=Q2&&n[Q2]||n["@@iterator"],typeof n=="function"?n:null)}var vr=Object.assign,IA;function zv(n){if(IA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);IA=e&&e[1]||""}return`
`+IA+n}var PA=!1;function BA(n,e){if(!n||PA)return"";PA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{PA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?zv(n):""}function t7(n){switch(n.tag){case 5:return zv(n.type);case 16:return zv("Lazy");case 13:return zv("Suspense");case 19:return zv("SuspenseList");case 0:case 2:case 15:return n=BA(n.type,!1),n;case 11:return n=BA(n.type.render,!1),n;case 1:return n=BA(n.type,!0),n;default:return""}}function LC(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case qp:return"Fragment";case Yp:return"Portal";case IC:return"Profiler";case hR:return"StrictMode";case PC:return"Suspense";case BC:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $N:return(n.displayName||"Context")+".Consumer";case KN:return(n._context.displayName||"Context")+".Provider";case pR:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case mR:return e=n.displayName||null,e!==null?e:LC(n.type)||"Memo";case bu:e=n._payload,n=n._init;try{return LC(n(e))}catch{}}return null}function n7(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LC(e);case 8:return e===hR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qN(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r7(n){var e=qN(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function rb(n){n._valueTracker||(n._valueTracker=r7(n))}function QN(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=qN(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function aw(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kC(n,e){var t=e.checked;return vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Z2(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=qu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZN(n,e){e=e.checked,e!=null&&fR(n,"checked",e,!1)}function DC(n,e){ZN(n,e);var t=qu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?OC(n,e.type,t):e.hasOwnProperty("defaultValue")&&OC(n,e.type,qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function eB(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function OC(n,e,t){(e!=="number"||aw(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Hv=Array.isArray;function gm(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+qu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function NC(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return vr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tB(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ze(92));if(Hv(t)){if(1<t.length)throw Error(Ze(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:qu(t)}}function eF(n,e){var t=qu(e.value),r=qu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function nB(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tF(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FC(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tF(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ib,nF=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ib=ib||document.createElement("div"),ib.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ib.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function x0(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $v={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i7=["Webkit","ms","Moz","O"];Object.keys($v).forEach(function(n){i7.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$v[e]=$v[n]})});function rF(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$v.hasOwnProperty(n)&&$v[n]?(""+e).trim():e+"px"}function iF(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=rF(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var s7=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UC(n,e){if(e){if(s7[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ze(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ze(62))}}function zC(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HC=null;function gR(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var GC=null,vm=null,ym=null;function rB(n){if(n=oy(n)){if(typeof GC!="function")throw Error(Ze(280));var e=n.stateNode;e&&(e=pS(e),GC(n.stateNode,n.type,e))}}function sF(n){vm?ym?ym.push(n):ym=[n]:vm=n}function oF(){if(vm){var n=vm,e=ym;if(ym=vm=null,rB(n),e)for(n=0;n<e.length;n++)rB(e[n])}}function aF(n,e){return n(e)}function lF(){}var LA=!1;function cF(n,e,t){if(LA)return n(e,t);LA=!0;try{return aF(n,e,t)}finally{LA=!1,(vm!==null||ym!==null)&&(lF(),oF())}}function b0(n,e){var t=n.stateNode;if(t===null)return null;var r=pS(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ze(231,e,typeof t));return t}var WC=!1;if(vc)try{var pv={};Object.defineProperty(pv,"passive",{get:function(){WC=!0}}),window.addEventListener("test",pv,pv),window.removeEventListener("test",pv,pv)}catch{WC=!1}function o7(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Yv=!1,lw=null,cw=!1,VC=null,a7={onError:function(n){Yv=!0,lw=n}};function l7(n,e,t,r,i,s,o,a,l){Yv=!1,lw=null,o7.apply(a7,arguments)}function c7(n,e,t,r,i,s,o,a,l){if(l7.apply(this,arguments),Yv){if(Yv){var c=lw;Yv=!1,lw=null}else throw Error(Ze(198));cw||(cw=!0,VC=c)}}function bh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function uF(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function iB(n){if(bh(n)!==n)throw Error(Ze(188))}function u7(n){var e=n.alternate;if(!e){if(e=bh(n),e===null)throw Error(Ze(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return iB(i),n;if(s===r)return iB(i),e;s=s.sibling}throw Error(Ze(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ze(189))}}if(t.alternate!==r)throw Error(Ze(190))}if(t.tag!==3)throw Error(Ze(188));return t.stateNode.current===t?n:e}function dF(n){return n=u7(n),n!==null?fF(n):null}function fF(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=fF(n);if(e!==null)return e;n=n.sibling}return null}var hF=vo.unstable_scheduleCallback,sB=vo.unstable_cancelCallback,d7=vo.unstable_shouldYield,f7=vo.unstable_requestPaint,Hr=vo.unstable_now,h7=vo.unstable_getCurrentPriorityLevel,vR=vo.unstable_ImmediatePriority,pF=vo.unstable_UserBlockingPriority,uw=vo.unstable_NormalPriority,p7=vo.unstable_LowPriority,mF=vo.unstable_IdlePriority,uS=null,fl=null;function m7(n){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(uS,n,void 0,(n.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:y7,g7=Math.log,v7=Math.LN2;function y7(n){return n>>>=0,n===0?32:31-(g7(n)/v7|0)|0}var sb=64,ob=4194304;function Gv(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function dw(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Gv(a):(s&=o,s!==0&&(r=Gv(s)))}else o=t&~i,o!==0?r=Gv(o):s!==0&&(r=Gv(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ta(e),i=1<<t,r|=n[t],e&=~i;return r}function x7(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b7(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ta(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=x7(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function jC(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gF(){var n=sb;return sb<<=1,!(sb&4194240)&&(sb=64),n}function kA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function iy(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ta(e),n[e]=t}function _7(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ta(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function yR(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ta(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Dn=0;function vF(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yF,xR,xF,bF,_F,XC=!1,ab=[],Lu=null,ku=null,Du=null,_0=new Map,w0=new Map,Su=[],w7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oB(n,e){switch(n){case"focusin":case"focusout":Lu=null;break;case"dragenter":case"dragleave":ku=null;break;case"mouseover":case"mouseout":Du=null;break;case"pointerover":case"pointerout":_0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":w0.delete(e.pointerId)}}function mv(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oy(e),e!==null&&xR(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function S7(n,e,t,r,i){switch(e){case"focusin":return Lu=mv(Lu,n,e,t,r,i),!0;case"dragenter":return ku=mv(ku,n,e,t,r,i),!0;case"mouseover":return Du=mv(Du,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return _0.set(s,mv(_0.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,w0.set(s,mv(w0.get(s)||null,n,e,t,r,i)),!0}return!1}function wF(n){var e=Mf(n.target);if(e!==null){var t=bh(e);if(t!==null){if(e=t.tag,e===13){if(e=uF(t),e!==null){n.blockedOn=e,_F(n.priority,function(){xF(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function R_(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=JC(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);HC=r,t.target.dispatchEvent(r),HC=null}else return e=oy(t),e!==null&&xR(e),n.blockedOn=t,!1;e.shift()}return!0}function aB(n,e,t){R_(n)&&t.delete(e)}function A7(){XC=!1,Lu!==null&&R_(Lu)&&(Lu=null),ku!==null&&R_(ku)&&(ku=null),Du!==null&&R_(Du)&&(Du=null),_0.forEach(aB),w0.forEach(aB)}function gv(n,e){n.blockedOn===e&&(n.blockedOn=null,XC||(XC=!0,vo.unstable_scheduleCallback(vo.unstable_NormalPriority,A7)))}function S0(n){function e(i){return gv(i,n)}if(0<ab.length){gv(ab[0],n);for(var t=1;t<ab.length;t++){var r=ab[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Lu!==null&&gv(Lu,n),ku!==null&&gv(ku,n),Du!==null&&gv(Du,n),_0.forEach(e),w0.forEach(e),t=0;t<Su.length;t++)r=Su[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Su.length&&(t=Su[0],t.blockedOn===null);)wF(t),t.blockedOn===null&&Su.shift()}var xm=Pc.ReactCurrentBatchConfig,fw=!0;function E7(n,e,t,r){var i=Dn,s=xm.transition;xm.transition=null;try{Dn=1,bR(n,e,t,r)}finally{Dn=i,xm.transition=s}}function C7(n,e,t,r){var i=Dn,s=xm.transition;xm.transition=null;try{Dn=4,bR(n,e,t,r)}finally{Dn=i,xm.transition=s}}function bR(n,e,t,r){if(fw){var i=JC(n,e,t,r);if(i===null)VA(n,e,r,hw,t),oB(n,r);else if(S7(i,n,e,t,r))r.stopPropagation();else if(oB(n,r),e&4&&-1<w7.indexOf(n)){for(;i!==null;){var s=oy(i);if(s!==null&&yF(s),s=JC(n,e,t,r),s===null&&VA(n,e,r,hw,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else VA(n,e,r,null,t)}}var hw=null;function JC(n,e,t,r){if(hw=null,n=gR(r),n=Mf(n),n!==null)if(e=bh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=uF(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return hw=n,null}function SF(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h7()){case vR:return 1;case pF:return 4;case uw:case p7:return 16;case mF:return 536870912;default:return 16}default:return 16}}var Ru=null,_R=null,I_=null;function AF(){if(I_)return I_;var n,e=_R,t=e.length,r,i="value"in Ru?Ru.value:Ru.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return I_=i.slice(n,1<r?1-r:void 0)}function P_(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function lb(){return!0}function lB(){return!1}function _o(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lb:lB,this.isPropagationStopped=lB,this}return vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=lb)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=lb)},persist:function(){},isPersistent:lb}),e}var Zm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wR=_o(Zm),sy=vr({},Zm,{view:0,detail:0}),T7=_o(sy),DA,OA,vv,dS=vr({},sy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SR,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vv&&(vv&&n.type==="mousemove"?(DA=n.screenX-vv.screenX,OA=n.screenY-vv.screenY):OA=DA=0,vv=n),DA)},movementY:function(n){return"movementY"in n?n.movementY:OA}}),cB=_o(dS),M7=vr({},dS,{dataTransfer:0}),R7=_o(M7),I7=vr({},sy,{relatedTarget:0}),NA=_o(I7),P7=vr({},Zm,{animationName:0,elapsedTime:0,pseudoElement:0}),B7=_o(P7),L7=vr({},Zm,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),k7=_o(L7),D7=vr({},Zm,{data:0}),uB=_o(D7),O7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U7(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=F7[n])?!!e[n]:!1}function SR(){return U7}var z7=vr({},sy,{key:function(n){if(n.key){var e=O7[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=P_(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?N7[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SR,charCode:function(n){return n.type==="keypress"?P_(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?P_(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),H7=_o(z7),G7=vr({},dS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dB=_o(G7),W7=vr({},sy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SR}),V7=_o(W7),j7=vr({},Zm,{propertyName:0,elapsedTime:0,pseudoElement:0}),X7=_o(j7),J7=vr({},dS,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K7=_o(J7),$7=[9,13,27,32],AR=vc&&"CompositionEvent"in window,qv=null;vc&&"documentMode"in document&&(qv=document.documentMode);var Y7=vc&&"TextEvent"in window&&!qv,EF=vc&&(!AR||qv&&8<qv&&11>=qv),fB=" ",hB=!1;function CF(n,e){switch(n){case"keyup":return $7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TF(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qp=!1;function q7(n,e){switch(n){case"compositionend":return TF(e);case"keypress":return e.which!==32?null:(hB=!0,fB);case"textInput":return n=e.data,n===fB&&hB?null:n;default:return null}}function Q7(n,e){if(Qp)return n==="compositionend"||!AR&&CF(n,e)?(n=AF(),I_=_R=Ru=null,Qp=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EF&&e.locale!=="ko"?null:e.data;default:return null}}var Z7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pB(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Z7[n.type]:e==="textarea"}function MF(n,e,t,r){sF(r),e=pw(e,"onChange"),0<e.length&&(t=new wR("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Qv=null,A0=null;function ej(n){UF(n,0)}function fS(n){var e=tm(n);if(QN(e))return n}function tj(n,e){if(n==="change")return e}var RF=!1;if(vc){var FA;if(vc){var UA="oninput"in document;if(!UA){var mB=document.createElement("div");mB.setAttribute("oninput","return;"),UA=typeof mB.oninput=="function"}FA=UA}else FA=!1;RF=FA&&(!document.documentMode||9<document.documentMode)}function gB(){Qv&&(Qv.detachEvent("onpropertychange",IF),A0=Qv=null)}function IF(n){if(n.propertyName==="value"&&fS(A0)){var e=[];MF(e,A0,n,gR(n)),cF(ej,e)}}function nj(n,e,t){n==="focusin"?(gB(),Qv=e,A0=t,Qv.attachEvent("onpropertychange",IF)):n==="focusout"&&gB()}function rj(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fS(A0)}function ij(n,e){if(n==="click")return fS(e)}function sj(n,e){if(n==="input"||n==="change")return fS(e)}function oj(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Pa=typeof Object.is=="function"?Object.is:oj;function E0(n,e){if(Pa(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!RC.call(e,i)||!Pa(n[i],e[i]))return!1}return!0}function vB(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yB(n,e){var t=vB(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=vB(t)}}function PF(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?PF(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function BF(){for(var n=window,e=aw();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=aw(n.document)}return e}function ER(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function aj(n){var e=BF(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&PF(t.ownerDocument.documentElement,t)){if(r!==null&&ER(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=yB(t,s);var o=yB(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lj=vc&&"documentMode"in document&&11>=document.documentMode,Zp=null,KC=null,Zv=null,$C=!1;function xB(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;$C||Zp==null||Zp!==aw(r)||(r=Zp,"selectionStart"in r&&ER(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zv&&E0(Zv,r)||(Zv=r,r=pw(KC,"onSelect"),0<r.length&&(e=new wR("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Zp)))}function cb(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var em={animationend:cb("Animation","AnimationEnd"),animationiteration:cb("Animation","AnimationIteration"),animationstart:cb("Animation","AnimationStart"),transitionend:cb("Transition","TransitionEnd")},zA={},LF={};vc&&(LF=document.createElement("div").style,"AnimationEvent"in window||(delete em.animationend.animation,delete em.animationiteration.animation,delete em.animationstart.animation),"TransitionEvent"in window||delete em.transitionend.transition);function hS(n){if(zA[n])return zA[n];if(!em[n])return n;var e=em[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in LF)return zA[n]=e[t];return n}var kF=hS("animationend"),DF=hS("animationiteration"),OF=hS("animationstart"),NF=hS("transitionend"),FF=new Map,bB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ld(n,e){FF.set(n,e),xh(e,[n])}for(var HA=0;HA<bB.length;HA++){var GA=bB[HA],cj=GA.toLowerCase(),uj=GA[0].toUpperCase()+GA.slice(1);ld(cj,"on"+uj)}ld(kF,"onAnimationEnd");ld(DF,"onAnimationIteration");ld(OF,"onAnimationStart");ld("dblclick","onDoubleClick");ld("focusin","onFocus");ld("focusout","onBlur");ld(NF,"onTransitionEnd");Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wv));function _B(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,c7(r,e,void 0,n),n.currentTarget=null}function UF(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_B(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_B(i,a,c),s=l}}}if(cw)throw n=VC,cw=!1,VC=null,n}function tr(n,e){var t=e[eT];t===void 0&&(t=e[eT]=new Set);var r=n+"__bubble";t.has(r)||(zF(e,n,2,!1),t.add(r))}function WA(n,e,t){var r=0;e&&(r|=4),zF(t,n,r,e)}var ub="_reactListening"+Math.random().toString(36).slice(2);function C0(n){if(!n[ub]){n[ub]=!0,JN.forEach(function(t){t!=="selectionchange"&&(dj.has(t)||WA(t,!1,n),WA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ub]||(e[ub]=!0,WA("selectionchange",!1,e))}}function zF(n,e,t,r){switch(SF(e)){case 1:var i=E7;break;case 4:i=C7;break;default:i=bR}t=i.bind(null,e,t,n),i=void 0,!WC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function VA(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mf(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cF(function(){var c=s,d=gR(t),p=[];e:{var m=FF.get(n);if(m!==void 0){var v=wR,y=n;switch(n){case"keypress":if(P_(t)===0)break e;case"keydown":case"keyup":v=H7;break;case"focusin":y="focus",v=NA;break;case"focusout":y="blur",v=NA;break;case"beforeblur":case"afterblur":v=NA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=cB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=R7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=V7;break;case kF:case DF:case OF:v=B7;break;case NF:v=X7;break;case"scroll":v=T7;break;case"wheel":v=K7;break;case"copy":case"cut":case"paste":v=k7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=dB}var b=(e&4)!==0,w=!b&&n==="scroll",x=b?m!==null?m+"Capture":null:m;b=[];for(var A=c,_;A!==null;){_=A;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,x!==null&&(T=b0(A,x),T!=null&&b.push(T0(A,T,_)))),w)break;A=A.return}0<b.length&&(m=new v(m,y,null,t,d),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&t!==HC&&(y=t.relatedTarget||t.fromElement)&&(Mf(y)||y[yc]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=t.relatedTarget||t.toElement,v=c,y=y?Mf(y):null,y!==null&&(w=bh(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(b=cB,T="onMouseLeave",x="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(b=dB,T="onPointerLeave",x="onPointerEnter",A="pointer"),w=v==null?m:tm(v),_=y==null?m:tm(y),m=new b(T,A+"leave",v,t,d),m.target=w,m.relatedTarget=_,T=null,Mf(d)===c&&(b=new b(x,A+"enter",y,t,d),b.target=_,b.relatedTarget=w,T=b),w=T,v&&y)t:{for(b=v,x=y,A=0,_=b;_;_=fp(_))A++;for(_=0,T=x;T;T=fp(T))_++;for(;0<A-_;)b=fp(b),A--;for(;0<_-A;)x=fp(x),_--;for(;A--;){if(b===x||x!==null&&b===x.alternate)break t;b=fp(b),x=fp(x)}b=null}else b=null;v!==null&&wB(p,m,v,b,!1),y!==null&&w!==null&&wB(p,w,y,b,!0)}}e:{if(m=c?tm(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var R=tj;else if(pB(m))if(RF)R=sj;else{R=rj;var P=nj}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=ij);if(R&&(R=R(n,c))){MF(p,R,t,d);break e}P&&P(n,m,c),n==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&OC(m,"number",m.value)}switch(P=c?tm(c):window,n){case"focusin":(pB(P)||P.contentEditable==="true")&&(Zp=P,KC=c,Zv=null);break;case"focusout":Zv=KC=Zp=null;break;case"mousedown":$C=!0;break;case"contextmenu":case"mouseup":case"dragend":$C=!1,xB(p,t,d);break;case"selectionchange":if(lj)break;case"keydown":case"keyup":xB(p,t,d)}var D;if(AR)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Qp?CF(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(EF&&t.locale!=="ko"&&(Qp||N!=="onCompositionStart"?N==="onCompositionEnd"&&Qp&&(D=AF()):(Ru=d,_R="value"in Ru?Ru.value:Ru.textContent,Qp=!0)),P=pw(c,N),0<P.length&&(N=new uB(N,n,null,t,d),p.push({event:N,listeners:P}),D?N.data=D:(D=TF(t),D!==null&&(N.data=D)))),(D=Y7?q7(n,t):Q7(n,t))&&(c=pw(c,"onBeforeInput"),0<c.length&&(d=new uB("onBeforeInput","beforeinput",null,t,d),p.push({event:d,listeners:c}),d.data=D))}UF(p,e)})}function T0(n,e,t){return{instance:n,listener:e,currentTarget:t}}function pw(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=b0(n,t),s!=null&&r.unshift(T0(n,s,i)),s=b0(n,e),s!=null&&r.push(T0(n,s,i))),n=n.return}return r}function fp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function wB(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=b0(t,s),l!=null&&o.unshift(T0(t,l,a))):i||(l=b0(t,s),l!=null&&o.push(T0(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var fj=/\r\n?/g,hj=/\u0000|\uFFFD/g;function SB(n){return(typeof n=="string"?n:""+n).replace(fj,`
`).replace(hj,"")}function db(n,e,t){if(e=SB(e),SB(n)!==e&&t)throw Error(Ze(425))}function mw(){}var YC=null,qC=null;function QC(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZC=typeof setTimeout=="function"?setTimeout:void 0,pj=typeof clearTimeout=="function"?clearTimeout:void 0,AB=typeof Promise=="function"?Promise:void 0,mj=typeof queueMicrotask=="function"?queueMicrotask:typeof AB<"u"?function(n){return AB.resolve(null).then(n).catch(gj)}:ZC;function gj(n){setTimeout(function(){throw n})}function jA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),S0(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);S0(e)}function Ou(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function EB(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var eg=Math.random().toString(36).slice(2),cl="__reactFiber$"+eg,M0="__reactProps$"+eg,yc="__reactContainer$"+eg,eT="__reactEvents$"+eg,vj="__reactListeners$"+eg,yj="__reactHandles$"+eg;function Mf(n){var e=n[cl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[yc]||t[cl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=EB(n);n!==null;){if(t=n[cl])return t;n=EB(n)}return e}n=t,t=n.parentNode}return null}function oy(n){return n=n[cl]||n[yc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function tm(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ze(33))}function pS(n){return n[M0]||null}var tT=[],nm=-1;function cd(n){return{current:n}}function nr(n){0>nm||(n.current=tT[nm],tT[nm]=null,nm--)}function Zn(n,e){nm++,tT[nm]=n.current,n.current=e}var Qu={},$i=cd(Qu),Ls=cd(!1),Zf=Qu;function Lm(n,e){var t=n.type.contextTypes;if(!t)return Qu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ks(n){return n=n.childContextTypes,n!=null}function gw(){nr(Ls),nr($i)}function CB(n,e,t){if($i.current!==Qu)throw Error(Ze(168));Zn($i,e),Zn(Ls,t)}function HF(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ze(108,n7(n)||"Unknown",i));return vr({},t,r)}function vw(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Qu,Zf=$i.current,Zn($i,n),Zn(Ls,Ls.current),!0}function TB(n,e,t){var r=n.stateNode;if(!r)throw Error(Ze(169));t?(n=HF(n,e,Zf),r.__reactInternalMemoizedMergedChildContext=n,nr(Ls),nr($i),Zn($i,n)):nr(Ls),Zn(Ls,t)}var nc=null,mS=!1,XA=!1;function GF(n){nc===null?nc=[n]:nc.push(n)}function xj(n){mS=!0,GF(n)}function ud(){if(!XA&&nc!==null){XA=!0;var n=0,e=Dn;try{var t=nc;for(Dn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}nc=null,mS=!1}catch(i){throw nc!==null&&(nc=nc.slice(n+1)),hF(vR,ud),i}finally{Dn=e,XA=!1}}return null}var rm=[],im=0,yw=null,xw=0,Wo=[],Vo=0,eh=null,ac=1,lc="";function vf(n,e){rm[im++]=xw,rm[im++]=yw,yw=n,xw=e}function WF(n,e,t){Wo[Vo++]=ac,Wo[Vo++]=lc,Wo[Vo++]=eh,eh=n;var r=ac;n=lc;var i=32-Ta(r)-1;r&=~(1<<i),t+=1;var s=32-Ta(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ac=1<<32-Ta(e)+i|t<<i|r,lc=s+n}else ac=1<<s|t<<i|r,lc=n}function CR(n){n.return!==null&&(vf(n,1),WF(n,1,0))}function TR(n){for(;n===yw;)yw=rm[--im],rm[im]=null,xw=rm[--im],rm[im]=null;for(;n===eh;)eh=Wo[--Vo],Wo[Vo]=null,lc=Wo[--Vo],Wo[Vo]=null,ac=Wo[--Vo],Wo[Vo]=null}var fo=null,lo=null,sr=!1,_a=null;function VF(n,e){var t=Jo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function MB(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fo=n,lo=Ou(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fo=n,lo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=eh!==null?{id:ac,overflow:lc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Jo(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fo=n,lo=null,!0):!1;default:return!1}}function nT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function rT(n){if(sr){var e=lo;if(e){var t=e;if(!MB(n,e)){if(nT(n))throw Error(Ze(418));e=Ou(t.nextSibling);var r=fo;e&&MB(n,e)?VF(r,t):(n.flags=n.flags&-4097|2,sr=!1,fo=n)}}else{if(nT(n))throw Error(Ze(418));n.flags=n.flags&-4097|2,sr=!1,fo=n}}}function RB(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fo=n}function fb(n){if(n!==fo)return!1;if(!sr)return RB(n),sr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!QC(n.type,n.memoizedProps)),e&&(e=lo)){if(nT(n))throw jF(),Error(Ze(418));for(;e;)VF(n,e),e=Ou(e.nextSibling)}if(RB(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ze(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){lo=Ou(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}lo=null}}else lo=fo?Ou(n.stateNode.nextSibling):null;return!0}function jF(){for(var n=lo;n;)n=Ou(n.nextSibling)}function km(){lo=fo=null,sr=!1}function MR(n){_a===null?_a=[n]:_a.push(n)}var bj=Pc.ReactCurrentBatchConfig;function ya(n,e){if(n&&n.defaultProps){e=vr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var bw=cd(null),_w=null,sm=null,RR=null;function IR(){RR=sm=_w=null}function PR(n){var e=bw.current;nr(bw),n._currentValue=e}function iT(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function bm(n,e){_w=n,RR=sm=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bs=!0),n.firstContext=null)}function Yo(n){var e=n._currentValue;if(RR!==n)if(n={context:n,memoizedValue:e,next:null},sm===null){if(_w===null)throw Error(Ze(308));sm=n,_w.dependencies={lanes:0,firstContext:n}}else sm=sm.next=n;return e}var Rf=null;function BR(n){Rf===null?Rf=[n]:Rf.push(n)}function XF(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,BR(e)):(t.next=i.next,i.next=t),e.interleaved=t,xc(n,r)}function xc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var _u=!1;function LR(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Nu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,An&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xc(n,t)}return i=r.interleaved,i===null?(e.next=e,BR(r)):(e.next=i.next,i.next=e),r.interleaved=e,xc(n,t)}function B_(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,yR(n,t)}}function IB(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ww(n,e,t,r){var i=n.updateQueue;_u=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=c=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,b=a;switch(m=e,v=t,b.tag){case 1:if(y=b.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=vr({},p,m);break e;case 2:_u=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=p):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nh|=o,n.lanes=o,n.memoizedState=p}}function PB(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ze(191,i));i.call(r)}}}var KF=new XN.Component().refs;function sT(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:vr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var gS={isMounted:function(n){return(n=n._reactInternals)?bh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ds(),i=Uu(n),s=hc(r,i);s.payload=e,t!=null&&(s.callback=t),e=Nu(n,s,i),e!==null&&(Ma(e,n,i,r),B_(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ds(),i=Uu(n),s=hc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Nu(n,s,i),e!==null&&(Ma(e,n,i,r),B_(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ds(),r=Uu(n),i=hc(t,r);i.tag=2,e!=null&&(i.callback=e),e=Nu(n,i,r),e!==null&&(Ma(e,n,r,t),B_(e,n,r))}};function BB(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!E0(t,r)||!E0(i,s):!0}function $F(n,e,t){var r=!1,i=Qu,s=e.contextType;return typeof s=="object"&&s!==null?s=Yo(s):(i=ks(e)?Zf:$i.current,r=e.contextTypes,s=(r=r!=null)?Lm(n,i):Qu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gS,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function LB(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&gS.enqueueReplaceState(e,e.state,null)}function oT(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=KF,LR(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yo(s):(s=ks(e)?Zf:$i.current,i.context=Lm(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sT(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gS.enqueueReplaceState(i,i.state,null),ww(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function yv(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ze(309));var r=t.stateNode}if(!r)throw Error(Ze(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===KF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ze(284));if(!t._owner)throw Error(Ze(290,n))}return n}function hb(n,e){throw n=Object.prototype.toString.call(e),Error(Ze(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function kB(n){var e=n._init;return e(n._payload)}function YF(n){function e(x,A){if(n){var _=x.deletions;_===null?(x.deletions=[A],x.flags|=16):_.push(A)}}function t(x,A){if(!n)return null;for(;A!==null;)e(x,A),A=A.sibling;return null}function r(x,A){for(x=new Map;A!==null;)A.key!==null?x.set(A.key,A):x.set(A.index,A),A=A.sibling;return x}function i(x,A){return x=zu(x,A),x.index=0,x.sibling=null,x}function s(x,A,_){return x.index=_,n?(_=x.alternate,_!==null?(_=_.index,_<A?(x.flags|=2,A):_):(x.flags|=2,A)):(x.flags|=1048576,A)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,A,_,T){return A===null||A.tag!==6?(A=ZA(_,x.mode,T),A.return=x,A):(A=i(A,_),A.return=x,A)}function l(x,A,_,T){var R=_.type;return R===qp?d(x,A,_.props.children,T,_.key):A!==null&&(A.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===bu&&kB(R)===A.type)?(T=i(A,_.props),T.ref=yv(x,A,_),T.return=x,T):(T=F_(_.type,_.key,_.props,null,x.mode,T),T.ref=yv(x,A,_),T.return=x,T)}function c(x,A,_,T){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=eE(_,x.mode,T),A.return=x,A):(A=i(A,_.children||[]),A.return=x,A)}function d(x,A,_,T,R){return A===null||A.tag!==7?(A=Gf(_,x.mode,T,R),A.return=x,A):(A=i(A,_),A.return=x,A)}function p(x,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=ZA(""+A,x.mode,_),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case nb:return _=F_(A.type,A.key,A.props,null,x.mode,_),_.ref=yv(x,null,A),_.return=x,_;case Yp:return A=eE(A,x.mode,_),A.return=x,A;case bu:var T=A._init;return p(x,T(A._payload),_)}if(Hv(A)||hv(A))return A=Gf(A,x.mode,_,null),A.return=x,A;hb(x,A)}return null}function m(x,A,_,T){var R=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:a(x,A,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nb:return _.key===R?l(x,A,_,T):null;case Yp:return _.key===R?c(x,A,_,T):null;case bu:return R=_._init,m(x,A,R(_._payload),T)}if(Hv(_)||hv(_))return R!==null?null:d(x,A,_,T,null);hb(x,_)}return null}function v(x,A,_,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(_)||null,a(A,x,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nb:return x=x.get(T.key===null?_:T.key)||null,l(A,x,T,R);case Yp:return x=x.get(T.key===null?_:T.key)||null,c(A,x,T,R);case bu:var P=T._init;return v(x,A,_,P(T._payload),R)}if(Hv(T)||hv(T))return x=x.get(_)||null,d(A,x,T,R,null);hb(A,T)}return null}function y(x,A,_,T){for(var R=null,P=null,D=A,N=A=0,L=null;D!==null&&N<_.length;N++){D.index>N?(L=D,D=null):L=D.sibling;var M=m(x,D,_[N],T);if(M===null){D===null&&(D=L);break}n&&D&&M.alternate===null&&e(x,D),A=s(M,A,N),P===null?R=M:P.sibling=M,P=M,D=L}if(N===_.length)return t(x,D),sr&&vf(x,N),R;if(D===null){for(;N<_.length;N++)D=p(x,_[N],T),D!==null&&(A=s(D,A,N),P===null?R=D:P.sibling=D,P=D);return sr&&vf(x,N),R}for(D=r(x,D);N<_.length;N++)L=v(D,x,N,_[N],T),L!==null&&(n&&L.alternate!==null&&D.delete(L.key===null?N:L.key),A=s(L,A,N),P===null?R=L:P.sibling=L,P=L);return n&&D.forEach(function(U){return e(x,U)}),sr&&vf(x,N),R}function b(x,A,_,T){var R=hv(_);if(typeof R!="function")throw Error(Ze(150));if(_=R.call(_),_==null)throw Error(Ze(151));for(var P=R=null,D=A,N=A=0,L=null,M=_.next();D!==null&&!M.done;N++,M=_.next()){D.index>N?(L=D,D=null):L=D.sibling;var U=m(x,D,M.value,T);if(U===null){D===null&&(D=L);break}n&&D&&U.alternate===null&&e(x,D),A=s(U,A,N),P===null?R=U:P.sibling=U,P=U,D=L}if(M.done)return t(x,D),sr&&vf(x,N),R;if(D===null){for(;!M.done;N++,M=_.next())M=p(x,M.value,T),M!==null&&(A=s(M,A,N),P===null?R=M:P.sibling=M,P=M);return sr&&vf(x,N),R}for(D=r(x,D);!M.done;N++,M=_.next())M=v(D,x,N,M.value,T),M!==null&&(n&&M.alternate!==null&&D.delete(M.key===null?N:M.key),A=s(M,A,N),P===null?R=M:P.sibling=M,P=M);return n&&D.forEach(function(V){return e(x,V)}),sr&&vf(x,N),R}function w(x,A,_,T){if(typeof _=="object"&&_!==null&&_.type===qp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case nb:e:{for(var R=_.key,P=A;P!==null;){if(P.key===R){if(R=_.type,R===qp){if(P.tag===7){t(x,P.sibling),A=i(P,_.props.children),A.return=x,x=A;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===bu&&kB(R)===P.type){t(x,P.sibling),A=i(P,_.props),A.ref=yv(x,P,_),A.return=x,x=A;break e}t(x,P);break}else e(x,P);P=P.sibling}_.type===qp?(A=Gf(_.props.children,x.mode,T,_.key),A.return=x,x=A):(T=F_(_.type,_.key,_.props,null,x.mode,T),T.ref=yv(x,A,_),T.return=x,x=T)}return o(x);case Yp:e:{for(P=_.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){t(x,A.sibling),A=i(A,_.children||[]),A.return=x,x=A;break e}else{t(x,A);break}else e(x,A);A=A.sibling}A=eE(_,x.mode,T),A.return=x,x=A}return o(x);case bu:return P=_._init,w(x,A,P(_._payload),T)}if(Hv(_))return y(x,A,_,T);if(hv(_))return b(x,A,_,T);hb(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(t(x,A.sibling),A=i(A,_),A.return=x,x=A):(t(x,A),A=ZA(_,x.mode,T),A.return=x,x=A),o(x)):t(x,A)}return w}var Dm=YF(!0),qF=YF(!1),ay={},hl=cd(ay),R0=cd(ay),I0=cd(ay);function If(n){if(n===ay)throw Error(Ze(174));return n}function kR(n,e){switch(Zn(I0,e),Zn(R0,n),Zn(hl,ay),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FC(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=FC(e,n)}nr(hl),Zn(hl,e)}function Om(){nr(hl),nr(R0),nr(I0)}function QF(n){If(I0.current);var e=If(hl.current),t=FC(e,n.type);e!==t&&(Zn(R0,n),Zn(hl,t))}function DR(n){R0.current===n&&(nr(hl),nr(R0))}var fr=cd(0);function Sw(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var JA=[];function OR(){for(var n=0;n<JA.length;n++)JA[n]._workInProgressVersionPrimary=null;JA.length=0}var L_=Pc.ReactCurrentDispatcher,KA=Pc.ReactCurrentBatchConfig,th=0,mr=null,ii=null,wi=null,Aw=!1,e0=!1,P0=0,_j=0;function Hi(){throw Error(Ze(321))}function NR(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Pa(n[t],e[t]))return!1;return!0}function FR(n,e,t,r,i,s){if(th=s,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L_.current=n===null||n.memoizedState===null?Ej:Cj,n=t(r,i),e0){s=0;do{if(e0=!1,P0=0,25<=s)throw Error(Ze(301));s+=1,wi=ii=null,e.updateQueue=null,L_.current=Tj,n=t(r,i)}while(e0)}if(L_.current=Ew,e=ii!==null&&ii.next!==null,th=0,wi=ii=mr=null,Aw=!1,e)throw Error(Ze(300));return n}function UR(){var n=P0!==0;return P0=0,n}function ol(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wi===null?mr.memoizedState=wi=n:wi=wi.next=n,wi}function qo(){if(ii===null){var n=mr.alternate;n=n!==null?n.memoizedState:null}else n=ii.next;var e=wi===null?mr.memoizedState:wi.next;if(e!==null)wi=e,ii=n;else{if(n===null)throw Error(Ze(310));ii=n,n={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},wi===null?mr.memoizedState=wi=n:wi=wi.next=n}return wi}function B0(n,e){return typeof e=="function"?e(n):e}function $A(n){var e=qo(),t=e.queue;if(t===null)throw Error(Ze(311));t.lastRenderedReducer=n;var r=ii,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((th&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,mr.lanes|=d,nh|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Pa(r,e.memoizedState)||(Bs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,mr.lanes|=s,nh|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function YA(n){var e=qo(),t=e.queue;if(t===null)throw Error(Ze(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Pa(s,e.memoizedState)||(Bs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function ZF(){}function e3(n,e){var t=mr,r=qo(),i=e(),s=!Pa(r.memoizedState,i);if(s&&(r.memoizedState=i,Bs=!0),r=r.queue,zR(r3.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||wi!==null&&wi.memoizedState.tag&1){if(t.flags|=2048,L0(9,n3.bind(null,t,r,i,e),void 0,null),Ai===null)throw Error(Ze(349));th&30||t3(t,e,i)}return i}function t3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function n3(n,e,t,r){e.value=t,e.getSnapshot=r,i3(e)&&s3(n)}function r3(n,e,t){return t(function(){i3(e)&&s3(n)})}function i3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Pa(n,t)}catch{return!0}}function s3(n){var e=xc(n,1);e!==null&&Ma(e,n,1,-1)}function DB(n){var e=ol();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:B0,lastRenderedState:n},e.queue=n,n=n.dispatch=Aj.bind(null,mr,n),[e.memoizedState,n]}function L0(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function o3(){return qo().memoizedState}function k_(n,e,t,r){var i=ol();mr.flags|=n,i.memoizedState=L0(1|e,t,void 0,r===void 0?null:r)}function vS(n,e,t,r){var i=qo();r=r===void 0?null:r;var s=void 0;if(ii!==null){var o=ii.memoizedState;if(s=o.destroy,r!==null&&NR(r,o.deps)){i.memoizedState=L0(e,t,s,r);return}}mr.flags|=n,i.memoizedState=L0(1|e,t,s,r)}function OB(n,e){return k_(8390656,8,n,e)}function zR(n,e){return vS(2048,8,n,e)}function a3(n,e){return vS(4,2,n,e)}function l3(n,e){return vS(4,4,n,e)}function c3(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function u3(n,e,t){return t=t!=null?t.concat([n]):null,vS(4,4,c3.bind(null,e,n),t)}function HR(){}function d3(n,e){var t=qo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&NR(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function f3(n,e){var t=qo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&NR(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function h3(n,e,t){return th&21?(Pa(t,e)||(t=gF(),mr.lanes|=t,nh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bs=!0),n.memoizedState=t)}function wj(n,e){var t=Dn;Dn=t!==0&&4>t?t:4,n(!0);var r=KA.transition;KA.transition={};try{n(!1),e()}finally{Dn=t,KA.transition=r}}function p3(){return qo().memoizedState}function Sj(n,e,t){var r=Uu(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},m3(n))g3(e,t);else if(t=XF(n,e,t,r),t!==null){var i=ds();Ma(t,n,r,i),v3(t,e,r)}}function Aj(n,e,t){var r=Uu(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(m3(n))g3(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Pa(a,o)){var l=e.interleaved;l===null?(i.next=i,BR(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=XF(n,e,i,r),t!==null&&(i=ds(),Ma(t,n,r,i),v3(t,e,r))}}function m3(n){var e=n.alternate;return n===mr||e!==null&&e===mr}function g3(n,e){e0=Aw=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function v3(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,yR(n,t)}}var Ew={readContext:Yo,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},Ej={readContext:Yo,useCallback:function(n,e){return ol().memoizedState=[n,e===void 0?null:e],n},useContext:Yo,useEffect:OB,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,k_(4194308,4,c3.bind(null,e,n),t)},useLayoutEffect:function(n,e){return k_(4194308,4,n,e)},useInsertionEffect:function(n,e){return k_(4,2,n,e)},useMemo:function(n,e){var t=ol();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ol();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Sj.bind(null,mr,n),[r.memoizedState,n]},useRef:function(n){var e=ol();return n={current:n},e.memoizedState=n},useState:DB,useDebugValue:HR,useDeferredValue:function(n){return ol().memoizedState=n},useTransition:function(){var n=DB(!1),e=n[0];return n=wj.bind(null,n[1]),ol().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=mr,i=ol();if(sr){if(t===void 0)throw Error(Ze(407));t=t()}else{if(t=e(),Ai===null)throw Error(Ze(349));th&30||t3(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,OB(r3.bind(null,r,s,n),[n]),r.flags|=2048,L0(9,n3.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ol(),e=Ai.identifierPrefix;if(sr){var t=lc,r=ac;t=(r&~(1<<32-Ta(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=P0++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=_j++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Cj={readContext:Yo,useCallback:d3,useContext:Yo,useEffect:zR,useImperativeHandle:u3,useInsertionEffect:a3,useLayoutEffect:l3,useMemo:f3,useReducer:$A,useRef:o3,useState:function(){return $A(B0)},useDebugValue:HR,useDeferredValue:function(n){var e=qo();return h3(e,ii.memoizedState,n)},useTransition:function(){var n=$A(B0)[0],e=qo().memoizedState;return[n,e]},useMutableSource:ZF,useSyncExternalStore:e3,useId:p3,unstable_isNewReconciler:!1},Tj={readContext:Yo,useCallback:d3,useContext:Yo,useEffect:zR,useImperativeHandle:u3,useInsertionEffect:a3,useLayoutEffect:l3,useMemo:f3,useReducer:YA,useRef:o3,useState:function(){return YA(B0)},useDebugValue:HR,useDeferredValue:function(n){var e=qo();return ii===null?e.memoizedState=n:h3(e,ii.memoizedState,n)},useTransition:function(){var n=YA(B0)[0],e=qo().memoizedState;return[n,e]},useMutableSource:ZF,useSyncExternalStore:e3,useId:p3,unstable_isNewReconciler:!1};function Nm(n,e){try{var t="",r=e;do t+=t7(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function qA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function aT(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Mj=typeof WeakMap=="function"?WeakMap:Map;function y3(n,e,t){t=hc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Tw||(Tw=!0,vT=r),aT(n,e)},t}function x3(n,e,t){t=hc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){aT(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){aT(n,e),typeof r!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function NB(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Mj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Gj.bind(null,n,e,t),e.then(n,n))}function FB(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function UB(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hc(-1,1),e.tag=2,Nu(t,e,1))),t.lanes|=1),n)}var Rj=Pc.ReactCurrentOwner,Bs=!1;function cs(n,e,t,r){e.child=n===null?qF(e,null,t,r):Dm(e,n.child,t,r)}function zB(n,e,t,r,i){t=t.render;var s=e.ref;return bm(e,i),r=FR(n,e,t,r,s,i),t=UR(),n!==null&&!Bs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,bc(n,e,i)):(sr&&t&&CR(e),e.flags|=1,cs(n,e,r,i),e.child)}function HB(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!$R(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,b3(n,e,s,r,i)):(n=F_(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:E0,t(o,r)&&n.ref===e.ref)return bc(n,e,i)}return e.flags|=1,n=zu(s,r),n.ref=e.ref,n.return=e,e.child=n}function b3(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(E0(s,r)&&n.ref===e.ref)if(Bs=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Bs=!0);else return e.lanes=n.lanes,bc(n,e,i)}return lT(n,e,t,r,i)}function _3(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(am,so),so|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zn(am,so),so|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Zn(am,so),so|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Zn(am,so),so|=r;return cs(n,e,i,t),e.child}function w3(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function lT(n,e,t,r,i){var s=ks(t)?Zf:$i.current;return s=Lm(e,s),bm(e,i),t=FR(n,e,t,r,s,i),r=UR(),n!==null&&!Bs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,bc(n,e,i)):(sr&&r&&CR(e),e.flags|=1,cs(n,e,t,i),e.child)}function GB(n,e,t,r,i){if(ks(t)){var s=!0;vw(e)}else s=!1;if(bm(e,i),e.stateNode===null)D_(n,e),$F(e,t,r),oT(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Yo(c):(c=ks(t)?Zf:$i.current,c=Lm(e,c));var d=t.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&LB(e,o,r,c),_u=!1;var m=e.memoizedState;o.state=m,ww(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Ls.current||_u?(typeof d=="function"&&(sT(e,t,d,r),l=e.memoizedState),(a=_u||BB(e,t,a,r,m,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ya(e.type,a),o.props=c,p=e.pendingProps,m=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Yo(l):(l=ks(t)?Zf:$i.current,l=Lm(e,l));var v=t.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&LB(e,o,r,l),_u=!1,m=e.memoizedState,o.state=m,ww(e,r,o,i);var y=e.memoizedState;a!==p||m!==y||Ls.current||_u?(typeof v=="function"&&(sT(e,t,v,r),y=e.memoizedState),(c=_u||BB(e,t,c,r,m,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),r=!1)}return cT(n,e,t,r,s,i)}function cT(n,e,t,r,i,s){w3(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&TB(e,t,!1),bc(n,e,s);r=e.stateNode,Rj.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Dm(e,n.child,null,s),e.child=Dm(e,null,a,s)):cs(n,e,a,s),e.memoizedState=r.state,i&&TB(e,t,!0),e.child}function S3(n){var e=n.stateNode;e.pendingContext?CB(n,e.pendingContext,e.pendingContext!==e.context):e.context&&CB(n,e.context,!1),kR(n,e.containerInfo)}function WB(n,e,t,r,i){return km(),MR(i),e.flags|=256,cs(n,e,t,r),e.child}var uT={dehydrated:null,treeContext:null,retryLane:0};function dT(n){return{baseLanes:n,cachePool:null,transitions:null}}function A3(n,e,t){var r=e.pendingProps,i=fr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Zn(fr,i&1),n===null)return rT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bS(o,r,0,null),n=Gf(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=dT(t),e.memoizedState=uT,n):GR(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ij(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zu(a,s):(s=Gf(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?dT(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=uT,r}return s=n.child,n=s.sibling,r=zu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function GR(n,e){return e=bS({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function pb(n,e,t,r){return r!==null&&MR(r),Dm(e,n.child,null,t),n=GR(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Ij(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=qA(Error(Ze(422))),pb(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bS({mode:"visible",children:r.children},i,0,null),s=Gf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Dm(e,n.child,null,o),e.child.memoizedState=dT(o),e.memoizedState=uT,s);if(!(e.mode&1))return pb(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ze(419)),r=qA(s,r,void 0),pb(n,e,o,r)}if(a=(o&n.childLanes)!==0,Bs||a){if(r=Ai,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xc(n,i),Ma(r,n,i,-1))}return KR(),r=qA(Error(Ze(421))),pb(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Wj.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,lo=Ou(i.nextSibling),fo=e,sr=!0,_a=null,n!==null&&(Wo[Vo++]=ac,Wo[Vo++]=lc,Wo[Vo++]=eh,ac=n.id,lc=n.overflow,eh=e),e=GR(e,r.children),e.flags|=4096,e)}function VB(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),iT(n.return,e,t)}function QA(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function E3(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(cs(n,e,r.children,t),r=fr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&VB(n,t,e);else if(n.tag===19)VB(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Zn(fr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Sw(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),QA(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Sw(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}QA(e,!0,t,null,s);break;case"together":QA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function D_(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function bc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),nh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ze(153));if(e.child!==null){for(n=e.child,t=zu(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=zu(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Pj(n,e,t){switch(e.tag){case 3:S3(e),km();break;case 5:QF(e);break;case 1:ks(e.type)&&vw(e);break;case 4:kR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zn(bw,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zn(fr,fr.current&1),e.flags|=128,null):t&e.child.childLanes?A3(n,e,t):(Zn(fr,fr.current&1),n=bc(n,e,t),n!==null?n.sibling:null);Zn(fr,fr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return E3(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zn(fr,fr.current),r)break;return null;case 22:case 23:return e.lanes=0,_3(n,e,t)}return bc(n,e,t)}var C3,fT,T3,M3;C3=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};fT=function(){};T3=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,If(hl.current);var s=null;switch(t){case"input":i=kC(n,i),r=kC(n,r),s=[];break;case"select":i=vr({},i,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":i=NC(n,i),r=NC(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=mw)}UC(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(y0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(y0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};M3=function(n,e,t,r){t!==r&&(e.flags|=4)};function xv(n,e){if(!sr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Gi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Bj(n,e,t){var r=e.pendingProps;switch(TR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(e),null;case 1:return ks(e.type)&&gw(),Gi(e),null;case 3:return r=e.stateNode,Om(),nr(Ls),nr($i),OR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(fb(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_a!==null&&(bT(_a),_a=null))),fT(n,e),Gi(e),null;case 5:DR(e);var i=If(I0.current);if(t=e.type,n!==null&&e.stateNode!=null)T3(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ze(166));return Gi(e),null}if(n=If(hl.current),fb(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[cl]=e,r[M0]=s,n=(e.mode&1)!==0,t){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<Wv.length;i++)tr(Wv[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":Z2(r,s),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tr("invalid",r);break;case"textarea":tB(r,s),tr("invalid",r)}UC(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&db(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&db(r.textContent,a,n),i=["children",""+a]):y0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",r)}switch(t){case"input":rb(r),eB(r,s,!0);break;case"textarea":rb(r),nB(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mw)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tF(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[cl]=e,n[M0]=r,C3(n,e,!1,!1),e.stateNode=n;e:{switch(o=zC(t,r),t){case"dialog":tr("cancel",n),tr("close",n),i=r;break;case"iframe":case"object":case"embed":tr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Wv.length;i++)tr(Wv[i],n);i=r;break;case"source":tr("error",n),i=r;break;case"img":case"image":case"link":tr("error",n),tr("load",n),i=r;break;case"details":tr("toggle",n),i=r;break;case"input":Z2(n,r),i=kC(n,r),tr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=vr({},r,{value:void 0}),tr("invalid",n);break;case"textarea":tB(n,r),i=NC(n,r),tr("invalid",n);break;default:i=r}UC(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iF(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nF(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&x0(n,l):typeof l=="number"&&x0(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(y0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tr("scroll",n):l!=null&&fR(n,s,l,o))}switch(t){case"input":rb(n),eB(n,r,!1);break;case"textarea":rb(n),nB(n);break;case"option":r.value!=null&&n.setAttribute("value",""+qu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?gm(n,!!r.multiple,s,!1):r.defaultValue!=null&&gm(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=mw)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gi(e),null;case 6:if(n&&e.stateNode!=null)M3(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ze(166));if(t=If(I0.current),If(hl.current),fb(e)){if(r=e.stateNode,t=e.memoizedProps,r[cl]=e,(s=r.nodeValue!==t)&&(n=fo,n!==null))switch(n.tag){case 3:db(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&db(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[cl]=e,e.stateNode=r}return Gi(e),null;case 13:if(nr(fr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(sr&&lo!==null&&e.mode&1&&!(e.flags&128))jF(),km(),e.flags|=98560,s=!1;else if(s=fb(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ze(317));s[cl]=e}else km(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gi(e),s=!1}else _a!==null&&(bT(_a),_a=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||fr.current&1?si===0&&(si=3):KR())),e.updateQueue!==null&&(e.flags|=4),Gi(e),null);case 4:return Om(),fT(n,e),n===null&&C0(e.stateNode.containerInfo),Gi(e),null;case 10:return PR(e.type._context),Gi(e),null;case 17:return ks(e.type)&&gw(),Gi(e),null;case 19:if(nr(fr),s=e.memoizedState,s===null)return Gi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xv(s,!1);else{if(si!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Sw(n),o!==null){for(e.flags|=128,xv(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zn(fr,fr.current&1|2),e.child}n=n.sibling}s.tail!==null&&Hr()>Fm&&(e.flags|=128,r=!0,xv(s,!1),e.lanes=4194304)}else{if(!r)if(n=Sw(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),xv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sr)return Gi(e),null}else 2*Hr()-s.renderingStartTime>Fm&&t!==1073741824&&(e.flags|=128,r=!0,xv(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Hr(),e.sibling=null,t=fr.current,Zn(fr,r?t&1|2:t&1),e):(Gi(e),null);case 22:case 23:return JR(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?so&1073741824&&(Gi(e),e.subtreeFlags&6&&(e.flags|=8192)):Gi(e),null;case 24:return null;case 25:return null}throw Error(Ze(156,e.tag))}function Lj(n,e){switch(TR(e),e.tag){case 1:return ks(e.type)&&gw(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Om(),nr(Ls),nr($i),OR(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return DR(e),null;case 13:if(nr(fr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ze(340));km()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nr(fr),null;case 4:return Om(),null;case 10:return PR(e.type._context),null;case 22:case 23:return JR(),null;case 24:return null;default:return null}}var mb=!1,Ji=!1,kj=typeof WeakSet=="function"?WeakSet:Set,bt=null;function om(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Rr(n,e,r)}else t.current=null}function hT(n,e,t){try{t()}catch(r){Rr(n,e,r)}}var jB=!1;function Dj(n,e){if(YC=fw,n=BF(),ER(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,p=n,m=null;t:for(;;){for(var v;p!==t||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===n)break t;if(m===t&&++c===i&&(a=o),m===s&&++d===r&&(l=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(qC={focusedElem:n,selectionRange:t},fw=!1,bt=e;bt!==null;)if(e=bt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,bt=n;else for(;bt!==null;){e=bt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,x=e.stateNode,A=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:ya(e.type,b),w);x.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(T){Rr(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,bt=n;break}bt=e.return}return y=jB,jB=!1,y}function t0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&hT(e,t,s)}i=i.next}while(i!==r)}}function yS(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function pT(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function R3(n){var e=n.alternate;e!==null&&(n.alternate=null,R3(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[cl],delete e[M0],delete e[eT],delete e[vj],delete e[yj])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function I3(n){return n.tag===5||n.tag===3||n.tag===4}function XB(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||I3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=mw));else if(r!==4&&(n=n.child,n!==null))for(mT(n,e,t),n=n.sibling;n!==null;)mT(n,e,t),n=n.sibling}function gT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(gT(n,e,t),n=n.sibling;n!==null;)gT(n,e,t),n=n.sibling}var Ii=null,ba=!1;function du(n,e,t){for(t=t.child;t!==null;)P3(n,e,t),t=t.sibling}function P3(n,e,t){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(uS,t)}catch{}switch(t.tag){case 5:Ji||om(t,e);case 6:var r=Ii,i=ba;Ii=null,du(n,e,t),Ii=r,ba=i,Ii!==null&&(ba?(n=Ii,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ii.removeChild(t.stateNode));break;case 18:Ii!==null&&(ba?(n=Ii,t=t.stateNode,n.nodeType===8?jA(n.parentNode,t):n.nodeType===1&&jA(n,t),S0(n)):jA(Ii,t.stateNode));break;case 4:r=Ii,i=ba,Ii=t.stateNode.containerInfo,ba=!0,du(n,e,t),Ii=r,ba=i;break;case 0:case 11:case 14:case 15:if(!Ji&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hT(t,e,o),i=i.next}while(i!==r)}du(n,e,t);break;case 1:if(!Ji&&(om(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Rr(t,e,a)}du(n,e,t);break;case 21:du(n,e,t);break;case 22:t.mode&1?(Ji=(r=Ji)||t.memoizedState!==null,du(n,e,t),Ji=r):du(n,e,t);break;default:du(n,e,t)}}function JB(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new kj),e.forEach(function(r){var i=Vj.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function fa(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ii=a.stateNode,ba=!1;break e;case 3:Ii=a.stateNode.containerInfo,ba=!0;break e;case 4:Ii=a.stateNode.containerInfo,ba=!0;break e}a=a.return}if(Ii===null)throw Error(Ze(160));P3(s,o,i),Ii=null,ba=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B3(e,n),e=e.sibling}function B3(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fa(e,n),nl(n),r&4){try{t0(3,n,n.return),yS(3,n)}catch(b){Rr(n,n.return,b)}try{t0(5,n,n.return)}catch(b){Rr(n,n.return,b)}}break;case 1:fa(e,n),nl(n),r&512&&t!==null&&om(t,t.return);break;case 5:if(fa(e,n),nl(n),r&512&&t!==null&&om(t,t.return),n.flags&32){var i=n.stateNode;try{x0(i,"")}catch(b){Rr(n,n.return,b)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ZN(i,s),zC(a,o);var c=zC(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?iF(i,p):d==="dangerouslySetInnerHTML"?nF(i,p):d==="children"?x0(i,p):fR(i,d,p,c)}switch(a){case"input":DC(i,s);break;case"textarea":eF(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?gm(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?gm(i,!!s.multiple,s.defaultValue,!0):gm(i,!!s.multiple,s.multiple?[]:"",!1))}i[M0]=s}catch(b){Rr(n,n.return,b)}}break;case 6:if(fa(e,n),nl(n),r&4){if(n.stateNode===null)throw Error(Ze(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(b){Rr(n,n.return,b)}}break;case 3:if(fa(e,n),nl(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{S0(e.containerInfo)}catch(b){Rr(n,n.return,b)}break;case 4:fa(e,n),nl(n);break;case 13:fa(e,n),nl(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jR=Hr())),r&4&&JB(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ji=(c=Ji)||d,fa(e,n),Ji=c):fa(e,n),nl(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(bt=n,d=n.child;d!==null;){for(p=bt=d;bt!==null;){switch(m=bt,v=m.child,m.tag){case 0:case 11:case 14:case 15:t0(4,m,m.return);break;case 1:om(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,t=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){Rr(r,t,b)}}break;case 5:om(m,m.return);break;case 22:if(m.memoizedState!==null){$B(p);continue}}v!==null?(v.return=m,bt=v):$B(p)}d=d.sibling}e:for(d=null,p=n;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rF("display",o))}catch(b){Rr(n,n.return,b)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){Rr(n,n.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fa(e,n),nl(n),r&4&&JB(n);break;case 21:break;default:fa(e,n),nl(n)}}function nl(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(I3(t)){var r=t;break e}t=t.return}throw Error(Ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(x0(i,""),r.flags&=-33);var s=XB(n);gT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XB(n);mT(n,a,o);break;default:throw Error(Ze(161))}}catch(l){Rr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Oj(n,e,t){bt=n,L3(n)}function L3(n,e,t){for(var r=(n.mode&1)!==0;bt!==null;){var i=bt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mb;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ji;a=mb;var c=Ji;if(mb=o,(Ji=l)&&!c)for(bt=i;bt!==null;)o=bt,l=o.child,o.tag===22&&o.memoizedState!==null?YB(i):l!==null?(l.return=o,bt=l):YB(i);for(;s!==null;)bt=s,L3(s),s=s.sibling;bt=i,mb=a,Ji=c}KB(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,bt=s):KB(n)}}function KB(n){for(;bt!==null;){var e=bt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ji||yS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ji)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ya(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&PB(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}PB(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&S0(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}Ji||e.flags&512&&pT(e)}catch(m){Rr(e,e.return,m)}}if(e===n){bt=null;break}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function $B(n){for(;bt!==null;){var e=bt;if(e===n){bt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,bt=t;break}bt=e.return}}function YB(n){for(;bt!==null;){var e=bt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{yS(4,e)}catch(l){Rr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rr(e,i,l)}}var s=e.return;try{pT(e)}catch(l){Rr(e,s,l)}break;case 5:var o=e.return;try{pT(e)}catch(l){Rr(e,o,l)}}}catch(l){Rr(e,e.return,l)}if(e===n){bt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,bt=a;break}bt=e.return}}var Nj=Math.ceil,Cw=Pc.ReactCurrentDispatcher,WR=Pc.ReactCurrentOwner,Ko=Pc.ReactCurrentBatchConfig,An=0,Ai=null,Yr=null,ki=0,so=0,am=cd(0),si=0,k0=null,nh=0,xS=0,VR=0,n0=null,Ms=null,jR=0,Fm=1/0,ec=null,Tw=!1,vT=null,Fu=null,gb=!1,Iu=null,Mw=0,r0=0,yT=null,O_=-1,N_=0;function ds(){return An&6?Hr():O_!==-1?O_:O_=Hr()}function Uu(n){return n.mode&1?An&2&&ki!==0?ki&-ki:bj.transition!==null?(N_===0&&(N_=gF()),N_):(n=Dn,n!==0||(n=window.event,n=n===void 0?16:SF(n.type)),n):1}function Ma(n,e,t,r){if(50<r0)throw r0=0,yT=null,Error(Ze(185));iy(n,t,r),(!(An&2)||n!==Ai)&&(n===Ai&&(!(An&2)&&(xS|=t),si===4&&Au(n,ki)),Ds(n,r),t===1&&An===0&&!(e.mode&1)&&(Fm=Hr()+500,mS&&ud()))}function Ds(n,e){var t=n.callbackNode;b7(n,e);var r=dw(n,n===Ai?ki:0);if(r===0)t!==null&&sB(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&sB(t),e===1)n.tag===0?xj(qB.bind(null,n)):GF(qB.bind(null,n)),mj(function(){!(An&6)&&ud()}),t=null;else{switch(vF(r)){case 1:t=vR;break;case 4:t=pF;break;case 16:t=uw;break;case 536870912:t=mF;break;default:t=uw}t=H3(t,k3.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function k3(n,e){if(O_=-1,N_=0,An&6)throw Error(Ze(327));var t=n.callbackNode;if(_m()&&n.callbackNode!==t)return null;var r=dw(n,n===Ai?ki:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Rw(n,r);else{e=r;var i=An;An|=2;var s=O3();(Ai!==n||ki!==e)&&(ec=null,Fm=Hr()+500,Hf(n,e));do try{zj();break}catch(a){D3(n,a)}while(!0);IR(),Cw.current=s,An=i,Yr!==null?e=0:(Ai=null,ki=0,e=si)}if(e!==0){if(e===2&&(i=jC(n),i!==0&&(r=i,e=xT(n,i))),e===1)throw t=k0,Hf(n,0),Au(n,r),Ds(n,Hr()),t;if(e===6)Au(n,r);else{if(i=n.current.alternate,!(r&30)&&!Fj(i)&&(e=Rw(n,r),e===2&&(s=jC(n),s!==0&&(r=s,e=xT(n,s))),e===1))throw t=k0,Hf(n,0),Au(n,r),Ds(n,Hr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ze(345));case 2:yf(n,Ms,ec);break;case 3:if(Au(n,r),(r&130023424)===r&&(e=jR+500-Hr(),10<e)){if(dw(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ds(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ZC(yf.bind(null,n,Ms,ec),e);break}yf(n,Ms,ec);break;case 4:if(Au(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ta(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Hr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nj(r/1960))-r,10<r){n.timeoutHandle=ZC(yf.bind(null,n,Ms,ec),r);break}yf(n,Ms,ec);break;case 5:yf(n,Ms,ec);break;default:throw Error(Ze(329))}}}return Ds(n,Hr()),n.callbackNode===t?k3.bind(null,n):null}function xT(n,e){var t=n0;return n.current.memoizedState.isDehydrated&&(Hf(n,e).flags|=256),n=Rw(n,e),n!==2&&(e=Ms,Ms=t,e!==null&&bT(e)),n}function bT(n){Ms===null?Ms=n:Ms.push.apply(Ms,n)}function Fj(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Pa(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Au(n,e){for(e&=~VR,e&=~xS,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ta(e),r=1<<t;n[t]=-1,e&=~r}}function qB(n){if(An&6)throw Error(Ze(327));_m();var e=dw(n,0);if(!(e&1))return Ds(n,Hr()),null;var t=Rw(n,e);if(n.tag!==0&&t===2){var r=jC(n);r!==0&&(e=r,t=xT(n,r))}if(t===1)throw t=k0,Hf(n,0),Au(n,e),Ds(n,Hr()),t;if(t===6)throw Error(Ze(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yf(n,Ms,ec),Ds(n,Hr()),null}function XR(n,e){var t=An;An|=1;try{return n(e)}finally{An=t,An===0&&(Fm=Hr()+500,mS&&ud())}}function rh(n){Iu!==null&&Iu.tag===0&&!(An&6)&&_m();var e=An;An|=1;var t=Ko.transition,r=Dn;try{if(Ko.transition=null,Dn=1,n)return n()}finally{Dn=r,Ko.transition=t,An=e,!(An&6)&&ud()}}function JR(){so=am.current,nr(am)}function Hf(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,pj(t)),Yr!==null)for(t=Yr.return;t!==null;){var r=t;switch(TR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gw();break;case 3:Om(),nr(Ls),nr($i),OR();break;case 5:DR(r);break;case 4:Om();break;case 13:nr(fr);break;case 19:nr(fr);break;case 10:PR(r.type._context);break;case 22:case 23:JR()}t=t.return}if(Ai=n,Yr=n=zu(n.current,null),ki=so=e,si=0,k0=null,VR=xS=nh=0,Ms=n0=null,Rf!==null){for(e=0;e<Rf.length;e++)if(t=Rf[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Rf=null}return n}function D3(n,e){do{var t=Yr;try{if(IR(),L_.current=Ew,Aw){for(var r=mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Aw=!1}if(th=0,wi=ii=mr=null,e0=!1,P0=0,WR.current=null,t===null||t.return===null){si=1,k0=e,Yr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ki,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=FB(o);if(v!==null){v.flags&=-257,UB(v,o,a,s,e),v.mode&1&&NB(s,c,e),e=v,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){NB(s,c,e),KR();break e}l=Error(Ze(426))}}else if(sr&&a.mode&1){var w=FB(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),UB(w,o,a,s,e),MR(Nm(l,a));break e}}s=l=Nm(l,a),si!==4&&(si=2),n0===null?n0=[s]:n0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=y3(s,l,e);IB(s,x);break e;case 1:a=l;var A=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fu===null||!Fu.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=x3(s,a,e);IB(s,T);break e}}s=s.return}while(s!==null)}F3(t)}catch(R){e=R,Yr===t&&t!==null&&(Yr=t=t.return);continue}break}while(!0)}function O3(){var n=Cw.current;return Cw.current=Ew,n===null?Ew:n}function KR(){(si===0||si===3||si===2)&&(si=4),Ai===null||!(nh&268435455)&&!(xS&268435455)||Au(Ai,ki)}function Rw(n,e){var t=An;An|=2;var r=O3();(Ai!==n||ki!==e)&&(ec=null,Hf(n,e));do try{Uj();break}catch(i){D3(n,i)}while(!0);if(IR(),An=t,Cw.current=r,Yr!==null)throw Error(Ze(261));return Ai=null,ki=0,si}function Uj(){for(;Yr!==null;)N3(Yr)}function zj(){for(;Yr!==null&&!d7();)N3(Yr)}function N3(n){var e=z3(n.alternate,n,so);n.memoizedProps=n.pendingProps,e===null?F3(n):Yr=e,WR.current=null}function F3(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Lj(t,e),t!==null){t.flags&=32767,Yr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{si=6,Yr=null;return}}else if(t=Bj(t,e,so),t!==null){Yr=t;return}if(e=e.sibling,e!==null){Yr=e;return}Yr=e=n}while(e!==null);si===0&&(si=5)}function yf(n,e,t){var r=Dn,i=Ko.transition;try{Ko.transition=null,Dn=1,Hj(n,e,t,r)}finally{Ko.transition=i,Dn=r}return null}function Hj(n,e,t,r){do _m();while(Iu!==null);if(An&6)throw Error(Ze(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ze(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(_7(n,s),n===Ai&&(Yr=Ai=null,ki=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||gb||(gb=!0,H3(uw,function(){return _m(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ko.transition,Ko.transition=null;var o=Dn;Dn=1;var a=An;An|=4,WR.current=null,Dj(n,t),B3(t,n),aj(qC),fw=!!YC,qC=YC=null,n.current=t,Oj(t),f7(),An=a,Dn=o,Ko.transition=s}else n.current=t;if(gb&&(gb=!1,Iu=n,Mw=i),s=n.pendingLanes,s===0&&(Fu=null),m7(t.stateNode),Ds(n,Hr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tw)throw Tw=!1,n=vT,vT=null,n;return Mw&1&&n.tag!==0&&_m(),s=n.pendingLanes,s&1?n===yT?r0++:(r0=0,yT=n):r0=0,ud(),null}function _m(){if(Iu!==null){var n=vF(Mw),e=Ko.transition,t=Dn;try{if(Ko.transition=null,Dn=16>n?16:n,Iu===null)var r=!1;else{if(n=Iu,Iu=null,Mw=0,An&6)throw Error(Ze(331));var i=An;for(An|=4,bt=n.current;bt!==null;){var s=bt,o=s.child;if(bt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(bt=c;bt!==null;){var d=bt;switch(d.tag){case 0:case 11:case 15:t0(8,d,s)}var p=d.child;if(p!==null)p.return=d,bt=p;else for(;bt!==null;){d=bt;var m=d.sibling,v=d.return;if(R3(d),d===c){bt=null;break}if(m!==null){m.return=v,bt=m;break}bt=v}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}bt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,bt=o;else e:for(;bt!==null;){if(s=bt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:t0(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,bt=x;break e}bt=s.return}}var A=n.current;for(bt=A;bt!==null;){o=bt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,bt=_;else e:for(o=A;bt!==null;){if(a=bt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yS(9,a)}}catch(R){Rr(a,a.return,R)}if(a===o){bt=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,bt=T;break e}bt=a.return}}if(An=i,ud(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(uS,n)}catch{}r=!0}return r}finally{Dn=t,Ko.transition=e}}return!1}function QB(n,e,t){e=Nm(t,e),e=y3(n,e,1),n=Nu(n,e,1),e=ds(),n!==null&&(iy(n,1,e),Ds(n,e))}function Rr(n,e,t){if(n.tag===3)QB(n,n,t);else for(;e!==null;){if(e.tag===3){QB(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fu===null||!Fu.has(r))){n=Nm(t,n),n=x3(e,n,1),e=Nu(e,n,1),n=ds(),e!==null&&(iy(e,1,n),Ds(e,n));break}}e=e.return}}function Gj(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ds(),n.pingedLanes|=n.suspendedLanes&t,Ai===n&&(ki&t)===t&&(si===4||si===3&&(ki&130023424)===ki&&500>Hr()-jR?Hf(n,0):VR|=t),Ds(n,e)}function U3(n,e){e===0&&(n.mode&1?(e=ob,ob<<=1,!(ob&130023424)&&(ob=4194304)):e=1);var t=ds();n=xc(n,e),n!==null&&(iy(n,e,t),Ds(n,t))}function Wj(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),U3(n,t)}function Vj(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ze(314))}r!==null&&r.delete(e),U3(n,t)}var z3;z3=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ls.current)Bs=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bs=!1,Pj(n,e,t);Bs=!!(n.flags&131072)}else Bs=!1,sr&&e.flags&1048576&&WF(e,xw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;D_(n,e),n=e.pendingProps;var i=Lm(e,$i.current);bm(e,t),i=FR(null,e,r,n,i,t);var s=UR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ks(r)?(s=!0,vw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LR(e),i.updater=gS,e.stateNode=i,i._reactInternals=e,oT(e,r,n,t),e=cT(null,e,r,!0,s,t)):(e.tag=0,sr&&s&&CR(e),cs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(D_(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Xj(r),n=ya(r,n),i){case 0:e=lT(null,e,r,n,t);break e;case 1:e=GB(null,e,r,n,t);break e;case 11:e=zB(null,e,r,n,t);break e;case 14:e=HB(null,e,r,ya(r.type,n),t);break e}throw Error(Ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),lT(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),GB(n,e,r,i,t);case 3:e:{if(S3(e),n===null)throw Error(Ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,JF(n,e),ww(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nm(Error(Ze(423)),e),e=WB(n,e,r,t,i);break e}else if(r!==i){i=Nm(Error(Ze(424)),e),e=WB(n,e,r,t,i);break e}else for(lo=Ou(e.stateNode.containerInfo.firstChild),fo=e,sr=!0,_a=null,t=qF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(km(),r===i){e=bc(n,e,t);break e}cs(n,e,r,t)}e=e.child}return e;case 5:return QF(e),n===null&&rT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,QC(r,i)?o=null:s!==null&&QC(r,s)&&(e.flags|=32),w3(n,e),cs(n,e,o,t),e.child;case 6:return n===null&&rT(e),null;case 13:return A3(n,e,t);case 4:return kR(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Dm(e,null,r,t):cs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),zB(n,e,r,i,t);case 7:return cs(n,e,e.pendingProps,t),e.child;case 8:return cs(n,e,e.pendingProps.children,t),e.child;case 12:return cs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zn(bw,r._currentValue),r._currentValue=o,s!==null)if(Pa(s.value,o)){if(s.children===i.children&&!Ls.current){e=bc(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hc(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),iT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ze(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),iT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bm(e,t),i=Yo(i),r=r(i),e.flags|=1,cs(n,e,r,t),e.child;case 14:return r=e.type,i=ya(r,e.pendingProps),i=ya(r.type,i),HB(n,e,r,i,t);case 15:return b3(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),D_(n,e),e.tag=1,ks(r)?(n=!0,vw(e)):n=!1,bm(e,t),$F(e,r,i),oT(e,r,i,t),cT(null,e,r,!0,n,t);case 19:return E3(n,e,t);case 22:return _3(n,e,t)}throw Error(Ze(156,e.tag))};function H3(n,e){return hF(n,e)}function jj(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(n,e,t,r){return new jj(n,e,t,r)}function $R(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xj(n){if(typeof n=="function")return $R(n)?1:0;if(n!=null){if(n=n.$$typeof,n===pR)return 11;if(n===mR)return 14}return 2}function zu(n,e){var t=n.alternate;return t===null?(t=Jo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function F_(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")$R(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case qp:return Gf(t.children,i,s,e);case hR:o=8,i|=8;break;case IC:return n=Jo(12,t,e,i|2),n.elementType=IC,n.lanes=s,n;case PC:return n=Jo(13,t,e,i),n.elementType=PC,n.lanes=s,n;case BC:return n=Jo(19,t,e,i),n.elementType=BC,n.lanes=s,n;case YN:return bS(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case KN:o=10;break e;case $N:o=9;break e;case pR:o=11;break e;case mR:o=14;break e;case bu:o=16,r=null;break e}throw Error(Ze(130,n==null?n:typeof n,""))}return e=Jo(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Gf(n,e,t,r){return n=Jo(7,n,r,e),n.lanes=t,n}function bS(n,e,t,r){return n=Jo(22,n,r,e),n.elementType=YN,n.lanes=t,n.stateNode={isHidden:!1},n}function ZA(n,e,t){return n=Jo(6,n,null,e),n.lanes=t,n}function eE(n,e,t){return e=Jo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Jj(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kA(0),this.expirationTimes=kA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YR(n,e,t,r,i,s,o,a,l){return n=new Jj(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jo(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},LR(s),n}function Kj(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yp,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function G3(n){if(!n)return Qu;n=n._reactInternals;e:{if(bh(n)!==n||n.tag!==1)throw Error(Ze(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ks(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ze(171))}if(n.tag===1){var t=n.type;if(ks(t))return HF(n,t,e)}return e}function W3(n,e,t,r,i,s,o,a,l){return n=YR(t,r,!0,n,i,s,o,a,l),n.context=G3(null),t=n.current,r=ds(),i=Uu(t),s=hc(r,i),s.callback=e??null,Nu(t,s,i),n.current.lanes=i,iy(n,i,r),Ds(n,r),n}function _S(n,e,t,r){var i=e.current,s=ds(),o=Uu(i);return t=G3(t),e.context===null?e.context=t:e.pendingContext=t,e=hc(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Nu(i,e,o),n!==null&&(Ma(n,i,o,s),B_(n,i,o)),o}function Iw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ZB(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function qR(n,e){ZB(n,e),(n=n.alternate)&&ZB(n,e)}function $j(){return null}var V3=typeof reportError=="function"?reportError:function(n){console.error(n)};function QR(n){this._internalRoot=n}wS.prototype.render=QR.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ze(409));_S(n,e,null,null)};wS.prototype.unmount=QR.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;rh(function(){_S(null,n,null,null)}),e[yc]=null}};function wS(n){this._internalRoot=n}wS.prototype.unstable_scheduleHydration=function(n){if(n){var e=bF();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Su.length&&e!==0&&e<Su[t].priority;t++);Su.splice(t,0,n),t===0&&wF(n)}};function ZR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function SS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function eL(){}function Yj(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Iw(o);s.call(c)}}var o=W3(e,r,n,0,null,!1,!1,"",eL);return n._reactRootContainer=o,n[yc]=o.current,C0(n.nodeType===8?n.parentNode:n),rh(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Iw(l);a.call(c)}}var l=YR(n,0,!1,null,null,!1,!1,"",eL);return n._reactRootContainer=l,n[yc]=l.current,C0(n.nodeType===8?n.parentNode:n),rh(function(){_S(e,l,t,r)}),l}function AS(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Iw(o);a.call(l)}}_S(e,o,n,i)}else o=Yj(t,e,n,i,r);return Iw(o)}yF=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gv(e.pendingLanes);t!==0&&(yR(e,t|1),Ds(e,Hr()),!(An&6)&&(Fm=Hr()+500,ud()))}break;case 13:rh(function(){var r=xc(n,1);if(r!==null){var i=ds();Ma(r,n,1,i)}}),qR(n,1)}};xR=function(n){if(n.tag===13){var e=xc(n,134217728);if(e!==null){var t=ds();Ma(e,n,134217728,t)}qR(n,134217728)}};xF=function(n){if(n.tag===13){var e=Uu(n),t=xc(n,e);if(t!==null){var r=ds();Ma(t,n,e,r)}qR(n,e)}};bF=function(){return Dn};_F=function(n,e){var t=Dn;try{return Dn=n,e()}finally{Dn=t}};GC=function(n,e,t){switch(e){case"input":if(DC(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=pS(r);if(!i)throw Error(Ze(90));QN(r),DC(r,i)}}}break;case"textarea":eF(n,t);break;case"select":e=t.value,e!=null&&gm(n,!!t.multiple,e,!1)}};aF=XR;lF=rh;var qj={usingClientEntryPoint:!1,Events:[oy,tm,pS,sF,oF,XR]},bv={findFiberByHostInstance:Mf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qj={bundleType:bv.bundleType,version:bv.version,rendererPackageName:bv.rendererPackageName,rendererConfig:bv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dF(n),n===null?null:n.stateNode},findFiberByHostInstance:bv.findFiberByHostInstance||$j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vb.isDisabled&&vb.supportsFiber)try{uS=vb.inject(Qj),fl=vb}catch{}}bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;bo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZR(e))throw Error(Ze(200));return Kj(n,e,null,t)};bo.createRoot=function(n,e){if(!ZR(n))throw Error(Ze(299));var t=!1,r="",i=V3;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YR(n,1,!1,null,null,t,!1,r,i),n[yc]=e.current,C0(n.nodeType===8?n.parentNode:n),new QR(e)};bo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ze(188)):(n=Object.keys(n).join(","),Error(Ze(268,n)));return n=dF(e),n=n===null?null:n.stateNode,n};bo.flushSync=function(n){return rh(n)};bo.hydrate=function(n,e,t){if(!SS(e))throw Error(Ze(200));return AS(null,n,e,!0,t)};bo.hydrateRoot=function(n,e,t){if(!ZR(n))throw Error(Ze(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=V3;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=W3(e,null,n,1,t??null,i,!1,s,o),n[yc]=e.current,C0(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new wS(e)};bo.render=function(n,e,t){if(!SS(e))throw Error(Ze(200));return AS(null,n,e,!1,t)};bo.unmountComponentAtNode=function(n){if(!SS(n))throw Error(Ze(40));return n._reactRootContainer?(rh(function(){AS(null,null,n,!1,function(){n._reactRootContainer=null,n[yc]=null})}),!0):!1};bo.unstable_batchedUpdates=XR;bo.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!SS(t))throw Error(Ze(200));if(n==null||n._reactInternals===void 0)throw Error(Ze(38));return AS(n,e,t,!1,r)};bo.version="18.2.0-next-9e3b772b8-20220608";function j3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j3)}catch(n){console.error(n)}}j3(),WN.exports=bo;var ly=WN.exports;const yb=sR(ly);var tL=ly;$2.createRoot=tL.createRoot,$2.hydrateRoot=tL.hydrateRoot;/**
 * @remix-run/router v1.0.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pw(){return Pw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pw.apply(this,arguments)}var Pu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Pu||(Pu={}));const nL="popstate";function Zj(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return _T("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:D0(i)}return nX(e,t,null,n)}function oi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eX(){return Math.random().toString(36).substr(2,8)}function rL(n){return{usr:n.state,key:n.key}}function _T(n,e,t,r){return t===void 0&&(t=null),Pw({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?tg(e):e,{state:t,key:e&&e.key||r||eX()})}function D0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function tX(n){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,t=typeof n=="string"?n:D0(n);return oi(e,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,e)}function nX(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pu.Pop,l=null;function c(){a=Pu.Pop,l&&l({action:a,location:m.location})}function d(v,y){a=Pu.Push;let b=_T(m.location,v,y),w=rL(b),x=m.createHref(b);try{o.pushState(w,"",x)}catch{i.location.assign(x)}s&&l&&l({action:a,location:m.location})}function p(v,y){a=Pu.Replace;let b=_T(m.location,v,y),w=rL(b),x=m.createHref(b);o.replaceState(w,"",x),s&&l&&l({action:a,location:m.location})}let m={get action(){return a},get location(){return n(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nL,c),l=v,()=>{i.removeEventListener(nL,c),l=null}},createHref(v){return e(i,v)},encodeLocation(v){let y=tX(typeof v=="string"?v:D0(v));return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(v){return o.go(v)}};return m}var iL;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(iL||(iL={}));function rX(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?tg(e):e,i=J3(r.pathname||"/",t);if(i==null)return null;let s=X3(n);iX(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=hX(s[a],gX(i));return o}function X3(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(oi(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=Hu([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(oi(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),X3(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:dX(a,i.index),routesMeta:l})}),e}function iX(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fX(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const sX=/^:\w+$/,oX=3,aX=2,lX=1,cX=10,uX=-2,sL=n=>n==="*";function dX(n,e){let t=n.split("/"),r=t.length;return t.some(sL)&&(r+=uX),e&&(r+=aX),t.filter(i=>!sL(i)).reduce((i,s)=>i+(sX.test(s)?oX:s===""?lX:cX),r)}function fX(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function hX(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=pX({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let p=a.route;s.push({params:r,pathname:Hu([i,d.pathname]),pathnameBase:bX(Hu([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Hu([i,d.pathnameBase]))}return s}function pX(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=mX(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{if(d==="*"){let m=a[p]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return c[d]=vX(a[p]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:n}}function mX(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),eI(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gX(n){try{return decodeURI(n)}catch(e){return eI(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function vX(n,e){try{return decodeURIComponent(n)}catch(t){return eI(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function J3(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function eI(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yX(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?tg(n):n;return{pathname:t?t.startsWith("/")?t:xX(t,e):e,search:_X(r),hash:wX(i)}}function xX(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function tE(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $3(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=tg(n):(i=Pw({},n),oi(!i.pathname||!i.pathname.includes("?"),tE("?","pathname","search",i)),oi(!i.pathname||!i.pathname.includes("#"),tE("#","pathname","hash",i)),oi(!i.search||!i.search.includes("#"),tE("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=yX(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Hu=n=>n.join("/").replace(/\/\/+/g,"/"),bX=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_X=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wX=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class SX{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function AX(n){return n instanceof SX}const Y3=["post","put","patch","delete"];new Set(Y3);const EX=["get",...Y3];new Set(EX);/**
 * React Router v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wT(){return wT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wT.apply(this,arguments)}const CX=k.createContext(null),TX=k.createContext(null),q3=k.createContext(null),ES=k.createContext(null),CS=k.createContext(null),cy=k.createContext({outlet:null,matches:[]}),Q3=k.createContext(null);function Kve(n,e){let{relative:t}={};uy()||oi(!1);let{basename:r,navigator:i}=k.useContext(ES),{hash:s,pathname:o,search:a}=Z3(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Hu([r,o])),i.createHref({pathname:l,search:a,hash:s})}function uy(){return k.useContext(CS)!=null}function TS(){return uy()||oi(!1),k.useContext(CS).location}function MX(){uy()||oi(!1);let{basename:n,navigator:e}=k.useContext(ES),{matches:t}=k.useContext(cy),{pathname:r}=TS(),i=JSON.stringify(K3(t).map(a=>a.pathnameBase)),s=k.useRef(!1);return k.useEffect(()=>{s.current=!0}),k.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=$3(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:Hu([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,i,r])}function Z3(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=k.useContext(cy),{pathname:i}=TS(),s=JSON.stringify(K3(r).map(o=>o.pathnameBase));return k.useMemo(()=>$3(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function RX(n,e){uy()||oi(!1);let{navigator:t}=k.useContext(ES),r=k.useContext(q3),{matches:i}=k.useContext(cy),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=TS(),c;if(e){var d;let b=typeof e=="string"?tg(e):e;a==="/"||(d=b.pathname)!=null&&d.startsWith(a)||oi(!1),c=b}else c=l;let p=c.pathname||"/",m=a==="/"?p:p.slice(a.length)||"/",v=rX(n,{pathname:m}),y=LX(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Hu([a,t.encodeLocation?t.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:Hu([a,t.encodeLocation?t.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r||void 0);return e&&y?k.createElement(CS.Provider,{value:{location:wT({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Pu.Pop}},y):y}function IX(){let n=DX(),e=AX(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unhandled Thrown Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"errorElement")," props on ",k.createElement("code",{style:s},"<Route>")))}class PX extends k.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?k.createElement(Q3.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function BX(n){let{routeContext:e,match:t,children:r}=n,i=k.useContext(CX);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),k.createElement(cy.Provider,{value:e},r)}function LX(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||oi(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=t?o.route.errorElement||k.createElement(IX,null):null,d=()=>k.createElement(BX,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))}},l?c:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?k.createElement(PX,{location:t.location,component:c,error:l,children:d()}):d()},null)}var oL;(function(n){n.UseRevalidator="useRevalidator"})(oL||(oL={}));var ST;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(ST||(ST={}));function kX(n){let e=k.useContext(q3);return e||oi(!1),e}function DX(){var n;let e=k.useContext(Q3),t=kX(ST.UseRouteError),r=k.useContext(cy),i=r.matches[r.matches.length-1];return e||(r||oi(!1),i.route.id||oi(!1),(n=t.errors)==null?void 0:n[i.route.id])}function OX(n){oi(!1)}function NX(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Pu.Pop,navigator:s,static:o=!1}=n;uy()&&oi(!1);let a=e.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=tg(r));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:v="default"}=r,y=k.useMemo(()=>{let b=J3(c,a);return b==null?null:{pathname:b,search:d,hash:p,state:m,key:v}},[a,c,d,p,m,v]);return y==null?null:k.createElement(ES.Provider,{value:l},k.createElement(CS.Provider,{children:t,value:{location:y,navigationType:i}}))}function $ve(n){let{children:e,location:t}=n,r=k.useContext(TX),i=r&&!e?r.router.routes:AT(e);return RX(i,t)}var aL;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(aL||(aL={}));new Promise(()=>{});function AT(n,e){e===void 0&&(e=[]);let t=[];return k.Children.forEach(n,(r,i)=>{if(!k.isValidElement(r))return;if(r.type===k.Fragment){t.push.apply(t,AT(r.props.children,e));return}r.type!==OX&&oi(!1),!r.props.index||!r.props.children||oi(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=AT(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FX(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UX(n,e){return n.button===0&&(!e||e==="_self")&&!FX(n)}function Yve(n){let{basename:e,children:t,window:r}=n,i=k.useRef();i.current==null&&(i.current=Zj({window:r,v5Compat:!0}));let s=i.current,[o,a]=k.useState({action:s.action,location:s.location});return k.useLayoutEffect(()=>s.listen(a),[s]),k.createElement(NX,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var lL;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(lL||(lL={}));var cL;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(cL||(cL={}));function qve(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}={},a=MX(),l=TS(),c=Z3(n,{relative:o});return k.useCallback(d=>{if(UX(d,t)){d.preventDefault();let p=r!==void 0?r:D0(l)===D0(c);a(n,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,t,n,s,o])}const zX=k.createContext(null);function HX(){return k.useContext(zX)}const eU=k.createContext(!0);function tU(n){const e=k.useContext(eU);return n??e}function nU(n){const{value:e,children:t}=n,r=tU(e);return te.jsx(eU.Provider,{value:r,children:t})}var uL;const GX=(uL=v0.useInsertionEffect)!=null?uL:k.useLayoutEffect,nE=new WeakMap;function dn({testId:n,css:e,window:t}){const r=tU(),i=HX();GX(()=>{var s,o;if(!t||!r)return;const a=(s=nE.get(t))!=null?s:new Map,l=(o=a.get(e))!=null?o:{styleElement:null,count:0};return l.styleElement==null?(l.styleElement=t.document.createElement("style"),l.styleElement.setAttribute("type","text/css"),l.styleElement.setAttribute("data-salt-style",n||""),l.styleElement.textContent=e,l.count=1,t.document.head.insertBefore(l.styleElement,i||t.document.head.firstChild)):(l.styleElement.textContent=e,l.count++),a.set(e,l),nE.set(t,a),()=>{const c=nE.get(t),d=c==null?void 0:c.get(e);d!=null&&d.styleElement&&(d.count--,d.count<1&&(t.document.head.removeChild(d.styleElement),d.styleElement=null,c==null||c.delete(e)))}},[n,e,t])}const WX=k.createContext(typeof window<"u"?window:null);function rn(){return k.useContext(WX)}function rU(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=rU(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function mt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=rU(n))&&(r&&(r+=" "),r+=e);return r}const sn=n=>(...e)=>[n,...e].join("-");function MS(){return typeof window<"u"}function dd(n){return iU(n)?(n.nodeName||"").toLowerCase():"#document"}function Os(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Al(n){var e;return(e=(iU(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function iU(n){return MS()?n instanceof Node||n instanceof Os(n).Node:!1}function Jn(n){return MS()?n instanceof Element||n instanceof Os(n).Element:!1}function qr(n){return MS()?n instanceof HTMLElement||n instanceof Os(n).HTMLElement:!1}function ET(n){return!MS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Os(n).ShadowRoot}function dy(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=yo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function VX(n){return["table","td","th"].includes(dd(n))}function RS(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function tI(n){const e=IS(),t=Jn(n)?yo(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function jX(n){let e=_c(n);for(;qr(e)&&!Zu(e);){if(tI(e))return e;if(RS(e))return null;e=_c(e)}return null}function IS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zu(n){return["html","body","#document"].includes(dd(n))}function yo(n){return Os(n).getComputedStyle(n)}function PS(n){return Jn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function _c(n){if(dd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ET(n)&&n.host||Al(n);return ET(e)?e.host:e}function sU(n){const e=_c(n);return Zu(e)?n.ownerDocument?n.ownerDocument.body:n.body:qr(e)&&dy(e)?e:sU(e)}function Gu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=sU(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Os(i);if(s){const a=CT(o);return e.concat(o,o.visualViewport||[],dy(i)?i:[],a&&t?Gu(a):[])}return e.concat(i,Gu(i,[],t))}function CT(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function wa(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Kr(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&ET(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function oU(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function aU(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function lU(n){return n.mozInputSource===0&&n.isTrusted?!0:TT()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function nI(n){return XX()?!1:!TT()&&n.width===0&&n.height===0||TT()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function rI(){return/apple/i.test(navigator.vendor)}function TT(){const n=/android/i;return n.test(oU())||n.test(aU())}function cU(){return oU().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function XX(){return aU().includes("jsdom/")}function O0(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}function JX(n){return"nativeEvent"in n}function KX(n){return n.matches("html,body")}function Pi(n){return(n==null?void 0:n.ownerDocument)||document}function rE(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function ic(n){return"composedPath"in n?n.composedPath()[0]:n.target}const $X="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function iI(n){return qr(n)&&n.matches($X)}function us(n){n.preventDefault(),n.stopPropagation()}function MT(n){return n?n.getAttribute("role")==="combobox"&&iI(n):!1}const ed=Math.min,oo=Math.max,Bw=Math.round,lm=Math.floor,pl=n=>({x:n,y:n}),YX={left:"right",right:"left",bottom:"top",top:"bottom"},qX={start:"end",end:"start"};function RT(n,e,t){return oo(n,ed(e,t))}function td(n,e){return typeof n=="function"?n(e):n}function wc(n){return n.split("-")[0]}function ng(n){return n.split("-")[1]}function sI(n){return n==="x"?"y":"x"}function oI(n){return n==="y"?"height":"width"}function dl(n){return["top","bottom"].includes(wc(n))?"y":"x"}function aI(n){return sI(dl(n))}function QX(n,e,t){t===void 0&&(t=!1);const r=ng(n),i=aI(n),s=oI(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Lw(o)),[o,Lw(o)]}function ZX(n){const e=Lw(n);return[IT(n),e,IT(e)]}function IT(n){return n.replace(/start|end/g,e=>qX[e])}function eJ(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function tJ(n,e,t,r){const i=ng(n);let s=eJ(wc(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(IT)))),s}function Lw(n){return n.replace(/left|right|bottom|top/g,e=>YX[e])}function nJ(n){return{top:0,right:0,bottom:0,left:0,...n}}function uU(n){return typeof n!="number"?nJ(n):{top:n,right:n,bottom:n,left:n}}function kw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var rJ=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Dw=rJ.join(","),dU=typeof Element>"u",Um=dU?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ow=!dU&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Nw=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},iJ=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},sJ=function(e,t,r){if(Nw(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Dw));return t&&Um.call(e,Dw)&&i.unshift(e),i=i.filter(r),i},oJ=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Nw(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=n(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var d=Um.call(o,Dw);d&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var p=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),m=!Nw(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(p&&m){var v=n(p===!0?o.children:p.children,!0,r);r.flatten?i.push.apply(i,v):i.push({scopeParent:o,candidates:v})}else s.unshift.apply(s,o.children)}}return i},fU=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},hU=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||iJ(e))&&!fU(e)?0:e.tabIndex},aJ=function(e,t){var r=hU(e);return r<0&&t&&!fU(e)?0:r},lJ=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},pU=function(e){return e.tagName==="INPUT"},cJ=function(e){return pU(e)&&e.type==="hidden"},uJ=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},dJ=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},fJ=function(e){if(!e.name)return!0;var t=e.form||Ow(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=dJ(i,e.form);return!s||s===e},hJ=function(e){return pU(e)&&e.type==="radio"},pJ=function(e){return hJ(e)&&!fJ(e)},mJ=function(e){var t,r=e&&Ow(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var c,d,p;r=Ow(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((d=i)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return s},dL=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},gJ=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Um.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Um.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,c=Ow(e);if(l&&!l.shadowRoot&&i(l)===!0)return dL(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(mJ(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return dL(e);return!1},vJ=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return Um.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},yJ=function(e,t){return!(t.disabled||Nw(t)||cJ(t)||gJ(t,e)||uJ(t)||vJ(t))},PT=function(e,t){return!(pJ(t)||hU(t)<0||!yJ(e,t))},xJ=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},bJ=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=aJ(a,o),c=o?n(i.candidates):a;l===0?o?t.push.apply(t,c):t.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort(lJ).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},BS=function(e,t){t=t||{};var r;return t.getShadowRoot?r=oJ([e],t.includeContainer,{filter:PT.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:xJ}):r=sJ(e,t.includeContainer,PT.bind(null,t)),bJ(r)},_J=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Um.call(e,Dw)===!1?!1:PT(t,e)};function fL(n,e,t){let{reference:r,floating:i}=n;const s=dl(e),o=aI(e),a=oI(o),l=wc(e),c=s==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-i.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(ng(e)){case"start":v[o]-=m*(t&&c?-1:1);break;case"end":v[o]+=m*(t&&c?-1:1);break}return v}const wJ=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:p}=fL(c,r,l),m=r,v={},y=0;for(let b=0;b<a.length;b++){const{name:w,fn:x}=a[b],{x:A,y:_,data:T,reset:R}=await x({x:d,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:n,floating:e}});d=A??d,p=_??p,v={...v,[w]:{...v[w],...T}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):R.rects),{x:d,y:p}=fL(c,m,l)),b=-1)}return{x:d,y:p,placement:m,strategy:i,middlewareData:v}};async function lI(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=td(e,n),y=uU(v),w=a[m?p==="floating"?"reference":"floating":p],x=kw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),A=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},R=kw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:_,strategy:l}):A);return{top:(x.top-R.top+y.top)/T.y,bottom:(R.bottom-x.bottom+y.bottom)/T.y,left:(x.left-R.left+y.left)/T.x,right:(R.right-x.right+y.right)/T.x}}const SJ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=td(n,e)||{};if(c==null)return{};const p=uU(d),m={x:t,y:r},v=aI(i),y=oI(v),b=await o.getDimensions(c),w=v==="y",x=w?"top":"left",A=w?"bottom":"right",_=w?"clientHeight":"clientWidth",T=s.reference[y]+s.reference[v]-m[v]-s.floating[y],R=m[v]-s.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let D=P?P[_]:0;(!D||!await(o.isElement==null?void 0:o.isElement(P)))&&(D=a.floating[_]||s.floating[y]);const N=T/2-R/2,L=D/2-b[y]/2-1,M=ed(p[x],L),U=ed(p[A],L),V=M,H=D-b[y]-U,j=D/2-b[y]/2+N,K=RT(V,j,H),ee=!l.arrow&&ng(i)!=null&&j!==K&&s.reference[y]/2-(j<V?M:U)-b[y]/2<0,ne=ee?j<V?j-V:j-H:0;return{[v]:m[v]+ne,data:{[v]:K,centerOffset:j-K-ne,...ee&&{alignmentOffset:ne}},reset:ee}}}),AJ=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,...w}=td(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=wc(i),A=dl(a),_=wc(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=m||(_||!b?[Lw(a)]:ZX(a)),P=y!=="none";!m&&P&&R.push(...tJ(a,b,y,T));const D=[a,...R],N=await lI(e,w),L=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&L.push(N[x]),p){const j=QX(i,o,T);L.push(N[j[0]],N[j[1]])}if(M=[...M,{placement:i,overflows:L}],!L.every(j=>j<=0)){var U,V;const j=(((U=s.flip)==null?void 0:U.index)||0)+1,K=D[j];if(K&&(!(p==="alignment"?A!==dl(K):!1)||M.every(z=>z.overflows[0]>0&&dl(z.placement)===A)))return{data:{index:j,overflows:M},reset:{placement:K}};let ee=(V=M.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:V.placement;if(!ee)switch(v){case"bestFit":{var H;const ne=(H=M.filter(z=>{if(P){const G=dl(z.placement);return G===A||G==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(G=>G>0).reduce((G,Y)=>G+Y,0)]).sort((z,G)=>z[1]-G[1])[0])==null?void 0:H[0];ne&&(ee=ne);break}case"initialPlacement":ee=a;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};async function EJ(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=wc(t),a=ng(t),l=dl(t)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,p=td(e,n);let{mainAxis:m,crossAxis:v,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),l?{x:v*d,y:m*c}:{x:m*c,y:v*d}}const CJ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await EJ(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},TJ=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x,y:A}=w;return{x,y:A}}},...l}=td(n,e),c={x:t,y:r},d=await lI(e,l),p=dl(wc(i)),m=sI(p);let v=c[m],y=c[p];if(s){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",A=v+d[w],_=v-d[x];v=RT(A,v,_)}if(o){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",A=y+d[w],_=y-d[x];y=RT(A,y,_)}const b=a.fn({...e,[m]:v,[p]:y});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[m]:s,[p]:o}}}}}},MJ=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=td(n,e),d={x:t,y:r},p=dl(i),m=sI(p);let v=d[m],y=d[p];const b=td(a,e),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const _=m==="y"?"height":"width",T=s.reference[m]-s.floating[_]+w.mainAxis,R=s.reference[m]+s.reference[_]-w.mainAxis;v<T?v=T:v>R&&(v=R)}if(c){var x,A;const _=m==="y"?"width":"height",T=["top","left"].includes(wc(i)),R=s.reference[p]-s.floating[_]+(T&&((x=o.offset)==null?void 0:x[p])||0)+(T?0:w.crossAxis),P=s.reference[p]+s.reference[_]+(T?0:((A=o.offset)==null?void 0:A[p])||0)-(T?w.crossAxis:0);y<R?y=R:y>P&&(y=P)}return{[m]:v,[p]:y}}}},RJ=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=td(n,e),d=await lI(e,c),p=wc(i),m=ng(i),v=dl(i)==="y",{width:y,height:b}=s.floating;let w,x;p==="top"||p==="bottom"?(w=p,x=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,w=m==="end"?"top":"bottom");const A=b-d.top-d.bottom,_=y-d.left-d.right,T=ed(b-d[w],A),R=ed(y-d[x],_),P=!e.middlewareData.shift;let D=T,N=R;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=A),P&&!m){const M=oo(d.left,0),U=oo(d.right,0),V=oo(d.top,0),H=oo(d.bottom,0);v?N=y-2*(M!==0||U!==0?M+U:oo(d.left,d.right)):D=b-2*(V!==0||H!==0?V+H:oo(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:D});const L=await o.getDimensions(a.floating);return y!==L.width||b!==L.height?{reset:{rects:!0}}:{}}}};function mU(n){const e=yo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=qr(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Bw(t)!==s||Bw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function cI(n){return Jn(n)?n:n.contextElement}function wm(n){const e=cI(n);if(!qr(e))return pl(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=mU(e);let o=(s?Bw(t.width):t.width)/r,a=(s?Bw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const IJ=pl(0);function gU(n){const e=Os(n);return!IS()||!e.visualViewport?IJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PJ(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Os(n)?!1:e}function ih(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=cI(n);let o=pl(1);e&&(r?Jn(r)&&(o=wm(r)):o=wm(n));const a=PJ(s,t,r)?gU(s):pl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,p=i.height/o.y;if(s){const m=Os(s),v=r&&Jn(r)?Os(r):r;let y=m,b=CT(y);for(;b&&r&&v!==y;){const w=wm(b),x=b.getBoundingClientRect(),A=yo(b),_=x.left+(b.clientLeft+parseFloat(A.paddingLeft))*w.x,T=x.top+(b.clientTop+parseFloat(A.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,p*=w.y,l+=_,c+=T,y=Os(b),b=CT(y)}}return kw({width:d,height:p,x:l,y:c})}function uI(n,e){const t=PS(n).scrollLeft;return e?e.left+t:ih(Al(n)).left+t}function vU(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:uI(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function BJ(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Al(r),a=e?RS(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=pl(1);const d=pl(0),p=qr(r);if((p||!p&&!s)&&((dd(r)!=="body"||dy(o))&&(l=PS(r)),qr(r))){const v=ih(r);c=wm(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const m=o&&!p&&!s?vU(o,l,!0):pl(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:t.y*c.y-l.scrollTop*c.y+d.y+m.y}}function LJ(n){return Array.from(n.getClientRects())}function kJ(n){const e=Al(n),t=PS(n),r=n.ownerDocument.body,i=oo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=oo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+uI(n);const a=-t.scrollTop;return yo(r).direction==="rtl"&&(o+=oo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function DJ(n,e){const t=Os(n),r=Al(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=IS();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function OJ(n,e){const t=ih(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=qr(n)?wm(n):pl(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function hL(n,e,t){let r;if(e==="viewport")r=DJ(n,t);else if(e==="document")r=kJ(Al(n));else if(Jn(e))r=OJ(e,t);else{const i=gU(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return kw(r)}function yU(n,e){const t=_c(n);return t===e||!Jn(t)||Zu(t)?!1:yo(t).position==="fixed"||yU(t,e)}function NJ(n,e){const t=e.get(n);if(t)return t;let r=Gu(n,[],!1).filter(a=>Jn(a)&&dd(a)!=="body"),i=null;const s=yo(n).position==="fixed";let o=s?_c(n):n;for(;Jn(o)&&!Zu(o);){const a=yo(o),l=tI(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dy(o)&&!l&&yU(n,o))?r=r.filter(d=>d!==o):i=a,o=_c(o)}return e.set(n,r),r}function FJ(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?RS(e)?[]:NJ(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,d)=>{const p=hL(e,d,i);return c.top=oo(p.top,c.top),c.right=ed(p.right,c.right),c.bottom=ed(p.bottom,c.bottom),c.left=oo(p.left,c.left),c},hL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function UJ(n){const{width:e,height:t}=mU(n);return{width:e,height:t}}function zJ(n,e,t){const r=qr(e),i=Al(e),s=t==="fixed",o=ih(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=pl(0);function c(){l.x=uI(i)}if(r||!r&&!s)if((dd(e)!=="body"||dy(i))&&(a=PS(e)),r){const v=ih(e,!0,s,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?vU(i,a):pl(0),p=o.left+a.scrollLeft-l.x-d.x,m=o.top+a.scrollTop-l.y-d.y;return{x:p,y:m,width:o.width,height:o.height}}function iE(n){return yo(n).position==="static"}function pL(n,e){if(!qr(n)||yo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Al(n)===t&&(t=t.ownerDocument.body),t}function xU(n,e){const t=Os(n);if(RS(n))return t;if(!qr(n)){let i=_c(n);for(;i&&!Zu(i);){if(Jn(i)&&!iE(i))return i;i=_c(i)}return t}let r=pL(n,e);for(;r&&VX(r)&&iE(r);)r=pL(r,e);return r&&Zu(r)&&iE(r)&&!tI(r)?t:r||jX(n)||t}const HJ=async function(n){const e=this.getOffsetParent||xU,t=this.getDimensions,r=await t(n.floating);return{reference:zJ(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GJ(n){return yo(n).direction==="rtl"}const bU={convertOffsetParentRelativeRectToViewportRelativeRect:BJ,getDocumentElement:Al,getClippingRect:FJ,getOffsetParent:xU,getElementRects:HJ,getClientRects:LJ,getDimensions:UJ,getScale:wm,isElement:Jn,isRTL:GJ};function _U(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function WJ(n,e){let t=null,r;const i=Al(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:d,top:p,width:m,height:v}=c;if(a||e(),!m||!v)return;const y=lm(p),b=lm(i.clientWidth-(d+m)),w=lm(i.clientHeight-(p+v)),x=lm(d),_={rootMargin:-y+"px "+-b+"px "+-w+"px "+-x+"px",threshold:oo(0,ed(1,l))||1};let T=!0;function R(P){const D=P[0].intersectionRatio;if(D!==l){if(!T)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!_U(c,n.getBoundingClientRect())&&o(),T=!1}try{t=new IntersectionObserver(R,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(R,_)}t.observe(n)}return o(!0),s}function VJ(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=cI(n),d=i||s?[...c?Gu(c):[],...Gu(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const p=c&&a?WJ(c,t):null;let m=-1,v=null;o&&(v=new ResizeObserver(x=>{let[A]=x;A&&A.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(e)})),t()}),c&&!l&&v.observe(c),v.observe(e));let y,b=l?ih(n):null;l&&w();function w(){const x=ih(n);b&&!_U(b,x)&&t(),b=x,y=requestAnimationFrame(w)}return t(),()=>{var x;d.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),p==null||p(),(x=v)==null||x.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const jJ=CJ,XJ=TJ,JJ=AJ,KJ=RJ,mL=SJ,$J=MJ,YJ=(n,e,t)=>{const r=new Map,i={platform:bU,...t},s={...i.platform,_c:r};return wJ(n,e,{...i,platform:s})};var qJ=typeof document<"u",QJ=function(){},U_=qJ?k.useLayoutEffect:QJ;function Fw(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Fw(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Fw(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function wU(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function gL(n,e){const t=wU(n);return Math.round(e*t)/t}function sE(n){const e=k.useRef(n);return U_(()=>{e.current=n}),e}function ZJ(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,p]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=k.useState(r);Fw(m,r)||v(r);const[y,b]=k.useState(null),[w,x]=k.useState(null),A=k.useCallback(z=>{z!==P.current&&(P.current=z,b(z))},[]),_=k.useCallback(z=>{z!==D.current&&(D.current=z,x(z))},[]),T=s||y,R=o||w,P=k.useRef(null),D=k.useRef(null),N=k.useRef(d),L=l!=null,M=sE(l),U=sE(i),V=sE(c),H=k.useCallback(()=>{if(!P.current||!D.current)return;const z={placement:e,strategy:t,middleware:m};U.current&&(z.platform=U.current),YJ(P.current,D.current,z).then(G=>{const Y={...G,isPositioned:V.current!==!1};j.current&&!Fw(N.current,Y)&&(N.current=Y,ly.flushSync(()=>{p(Y)}))})},[m,e,t,U,V]);U_(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,p(z=>({...z,isPositioned:!1})))},[c]);const j=k.useRef(!1);U_(()=>(j.current=!0,()=>{j.current=!1}),[]),U_(()=>{if(T&&(P.current=T),R&&(D.current=R),T&&R){if(M.current)return M.current(T,R,H);H()}},[T,R,H,M,L]);const K=k.useMemo(()=>({reference:P,floating:D,setReference:A,setFloating:_}),[A,_]),ee=k.useMemo(()=>({reference:T,floating:R}),[T,R]),ne=k.useMemo(()=>{const z={position:t,left:0,top:0};if(!ee.floating)return z;const G=gL(ee.floating,d.x),Y=gL(ee.floating,d.y);return a?{...z,transform:"translate("+G+"px, "+Y+"px)",...wU(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:G,top:Y}},[t,a,ee.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:H,refs:K,elements:ee,floatingStyles:ne}),[d,H,K,ee,ne])}const eK=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?mL({element:r.current,padding:i}).fn(t):{}:r?mL({element:r,padding:i}).fn(t):{}}}},dI=(n,e)=>({...jJ(n),options:[n,e]}),fI=(n,e)=>({...XJ(n),options:[n,e]}),hI=(n,e)=>({...$J(n),options:[n,e]}),LS=(n,e)=>({...JJ(n),options:[n,e]}),SU=(n,e)=>({...KJ(n),options:[n,e]}),tK=(n,e)=>({...eK(n),options:[n,e]}),AU={...v0},nK=AU.useInsertionEffect,rK=nK||(n=>n());function Is(n){const e=k.useRef(()=>{});return rK(()=>{e.current=n}),k.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const pI="ArrowUp",fy="ArrowDown",Wu="ArrowLeft",Vu="ArrowRight";function xb(n,e,t){return Math.floor(n/e)!==t}function i0(n,e){return e<0||e>=n.current.length}function oE(n,e){return Xi(n,{disabledIndices:e})}function vL(n,e){return Xi(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:e})}function Xi(n,e){let{startingIndex:t=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=n.current;let a=t;do a+=r?-s:s;while(a>=0&&a<=o.length-1&&z_(o,a,i));return a}function iK(n,e){let{event:t,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:a,minIndex:l,maxIndex:c,prevIndex:d,stopEvent:p=!1}=e,m=d;if(t.key===pI){if(p&&us(t),d===-1)m=c;else if(m=Xi(n,{startingIndex:m,amount:o,decrement:!0,disabledIndices:a}),i&&(d-o<l||m<0)){const v=d%o,y=c%o,b=c-(y-v);y===v?m=c:m=y>v?b:b-o}i0(n,m)&&(m=d)}if(t.key===fy&&(p&&us(t),d===-1?m=l:(m=Xi(n,{startingIndex:d,amount:o,disabledIndices:a}),i&&d+o>c&&(m=Xi(n,{startingIndex:d%o-o,amount:o,disabledIndices:a}))),i0(n,m)&&(m=d)),r==="both"){const v=lm(d/o);t.key===(s?Wu:Vu)&&(p&&us(t),d%o!==o-1?(m=Xi(n,{startingIndex:d,disabledIndices:a}),i&&xb(m,o,v)&&(m=Xi(n,{startingIndex:d-d%o-1,disabledIndices:a}))):i&&(m=Xi(n,{startingIndex:d-d%o-1,disabledIndices:a})),xb(m,o,v)&&(m=d)),t.key===(s?Vu:Wu)&&(p&&us(t),d%o!==0?(m=Xi(n,{startingIndex:d,decrement:!0,disabledIndices:a}),i&&xb(m,o,v)&&(m=Xi(n,{startingIndex:d+(o-d%o),decrement:!0,disabledIndices:a}))):i&&(m=Xi(n,{startingIndex:d+(o-d%o),decrement:!0,disabledIndices:a})),xb(m,o,v)&&(m=d));const y=lm(c/o)===v;i0(n,m)&&(i&&y?m=t.key===(s?Vu:Wu)?c:Xi(n,{startingIndex:d-d%o-1,disabledIndices:a}):m=d)}return m}function sK(n,e,t){const r=[];let i=0;return n.forEach((s,o)=>{let{width:a,height:l}=s,c=!1;for(t&&(i=0);!c;){const d=[];for(let p=0;p<a;p++)for(let m=0;m<l;m++)d.push(i+p+m*e);i%e+a<=e&&d.every(p=>r[p]==null)?(d.forEach(p=>{r[p]=o}),c=!0):i++}}),[...r]}function oK(n,e,t,r,i){if(n===-1)return-1;const s=t.indexOf(n),o=e[n];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return t.lastIndexOf(n)}}function aK(n,e){return e.flatMap((t,r)=>n.includes(t)?[r]:[])}function z_(n,e,t){if(t)return t.includes(e);const r=n[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var Xn=typeof document<"u"?k.useLayoutEffect:k.useEffect;function lK(n,e){const t=n.compareDocumentPosition(e);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}function cK(n,e){if(n.size!==e.size)return!1;for(const[t,r]of n.entries())if(r!==e.get(t))return!1;return!0}const EU=k.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function uK(n){const{children:e,elementsRef:t,labelsRef:r}=n,[i,s]=k.useState(()=>new Map),o=k.useCallback(l=>{s(c=>new Map(c).set(l,null))},[]),a=k.useCallback(l=>{s(c=>{const d=new Map(c);return d.delete(l),d})},[]);return Xn(()=>{const l=new Map(i);Array.from(l.keys()).sort(lK).forEach((d,p)=>{l.set(d,p)}),cK(i,l)||s(l)},[i]),k.createElement(EU.Provider,{value:k.useMemo(()=>({register:o,unregister:a,map:i,elementsRef:t,labelsRef:r}),[o,a,i,t,r])},e)}function dK(n){n===void 0&&(n={});const{label:e}=n,{register:t,unregister:r,map:i,elementsRef:s,labelsRef:o}=k.useContext(EU),[a,l]=k.useState(null),c=k.useRef(null),d=k.useCallback(p=>{if(c.current=p,a!==null&&(s.current[a]=p,o)){var m;const v=e!==void 0;o.current[a]=v?e:(m=p==null?void 0:p.textContent)!=null?m:null}},[a,s,o,e]);return Xn(()=>{const p=c.current;if(p)return t(p),()=>{r(p)}},[t,r]),Xn(()=>{const p=c.current?i.get(c.current):null;p!=null&&l(p)},[i]),k.useMemo(()=>({ref:d,index:a??-1}),[a,d])}function N0(){return N0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},N0.apply(this,arguments)}let yL=!1,fK=0;const xL=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fK++;function hK(){const[n,e]=k.useState(()=>yL?xL():void 0);return Xn(()=>{n==null&&e(xL())},[]),k.useEffect(()=>{yL=!0},[]),n}const pK=AU.useId,hy=pK||hK,mK=k.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:p,stroke:m,d:v,style:{transform:y,...b}={},...w}=e,x=hy(),[A,_]=k.useState(!1);if(Xn(()=>{if(!i)return;yo(i).direction==="rtl"&&_(!0)},[i]),!i)return null;const[T,R]=r.split("-"),P=T==="top"||T==="bottom";let D=p;(P&&o!=null&&o.x||!P&&o!=null&&o.y)&&(D=null);const N=d*2,L=N/2,M=a/2*(c/-8+1),U=l/2*c/4,V=!!v,H=D&&R==="end"?"bottom":"top";let j=D&&R==="end"?"right":"left";D&&A&&(j=R==="end"?"left":"right");const K=(s==null?void 0:s.x)!=null?D||s.x:"",ee=(s==null?void 0:s.y)!=null?D||s.y:"",ne=v||"M0,0"+(" H"+a)+(" L"+(a-M)+","+(l-U))+(" Q"+a/2+","+l+" "+M+","+(l-U))+" Z",z={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[T];return k.createElement("svg",N0({},w,{"aria-hidden":!0,ref:t,width:V?a:a+N,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[j]:K,[H]:ee,[T]:P||V?"100%":"calc(100% - "+N/2+"px)",transform:[z,y].filter(G=>!!G).join(" "),...b}}),N>0&&k.createElement("path",{clipPath:"url(#"+x+")",fill:"none",stroke:m,strokeWidth:N+(v?0:1),d:ne}),k.createElement("path",{stroke:N&&!v?w.fill:"none",d:ne}),k.createElement("clipPath",{id:x},k.createElement("rect",{x:-L,y:L*(V?-1:1),width:a+N,height:a})))});function CU(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const TU=k.createContext(null),MU=k.createContext(null),fd=()=>{var n;return((n=k.useContext(TU))==null?void 0:n.id)||null},hd=()=>k.useContext(MU);function gK(n){const e=hy(),t=hd(),i=fd();return Xn(()=>{const s={id:e,parentId:i};return t==null||t.addNode(s),()=>{t==null||t.removeNode(s)}},[t,e,i]),e}function vK(n){const{children:e,id:t}=n,r=fd();return k.createElement(TU.Provider,{value:k.useMemo(()=>({id:t,parentId:r}),[t,r])},e)}function yK(n){const{children:e}=n,t=k.useRef([]),r=k.useCallback(o=>{t.current=[...t.current,o]},[]),i=k.useCallback(o=>{t.current=t.current.filter(a=>a!==o)},[]),s=k.useState(()=>CU())[0];return k.createElement(MU.Provider,{value:k.useMemo(()=>({nodesRef:t,addNode:r,removeNode:i,events:s}),[r,i,s])},e)}function sh(n){return"data-floating-ui-"+n}function Aa(n){const e=k.useRef(n);return Xn(()=>{e.current=n}),e}const bL=sh("safe-polygon");function aE(n,e,t){return t&&!O0(t)?0:typeof n=="number"?n:n==null?void 0:n[e]}function RU(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,events:s,elements:o}=n,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:d=!1,restMs:p=0,move:m=!0}=e,v=hd(),y=fd(),b=Aa(c),w=Aa(l),x=Aa(t),A=k.useRef(),_=k.useRef(-1),T=k.useRef(),R=k.useRef(-1),P=k.useRef(!0),D=k.useRef(!1),N=k.useRef(()=>{}),L=k.useRef(!1),M=k.useCallback(()=>{var ne;const z=(ne=i.current.openEvent)==null?void 0:ne.type;return(z==null?void 0:z.includes("mouse"))&&z!=="mousedown"},[i]);k.useEffect(()=>{if(!a)return;function ne(z){let{open:G}=z;G||(clearTimeout(_.current),clearTimeout(R.current),P.current=!0,L.current=!1)}return s.on("openchange",ne),()=>{s.off("openchange",ne)}},[a,s]),k.useEffect(()=>{if(!a||!b.current||!t)return;function ne(G){M()&&r(!1,G,"hover")}const z=Pi(o.floating).documentElement;return z.addEventListener("mouseleave",ne),()=>{z.removeEventListener("mouseleave",ne)}},[o.floating,t,r,a,b,M]);const U=k.useCallback(function(ne,z,G){z===void 0&&(z=!0),G===void 0&&(G="hover");const Y=aE(w.current,"close",A.current);Y&&!T.current?(clearTimeout(_.current),_.current=window.setTimeout(()=>r(!1,ne,G),Y)):z&&(clearTimeout(_.current),r(!1,ne,G))},[w,r]),V=Is(()=>{N.current(),T.current=void 0}),H=Is(()=>{if(D.current){const ne=Pi(o.floating).body;ne.style.pointerEvents="",ne.removeAttribute(bL),D.current=!1}}),j=Is(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);k.useEffect(()=>{if(!a)return;function ne(le){if(clearTimeout(_.current),P.current=!1,d&&!O0(A.current)||p>0&&!aE(w.current,"open"))return;const ge=aE(w.current,"open",A.current);ge?_.current=window.setTimeout(()=>{x.current||r(!0,le,"hover")},ge):t||r(!0,le,"hover")}function z(le){if(j())return;N.current();const ge=Pi(o.floating);if(clearTimeout(R.current),L.current=!1,b.current&&i.current.floatingContext){t||clearTimeout(_.current),T.current=b.current({...i.current.floatingContext,tree:v,x:le.clientX,y:le.clientY,onClose(){H(),V(),j()||U(le,!0,"safe-polygon")}});const oe=T.current;ge.addEventListener("mousemove",oe),N.current=()=>{ge.removeEventListener("mousemove",oe)};return}(A.current==="touch"?!Kr(o.floating,le.relatedTarget):!0)&&U(le)}function G(le){j()||i.current.floatingContext&&(b.current==null||b.current({...i.current.floatingContext,tree:v,x:le.clientX,y:le.clientY,onClose(){H(),V(),j()||U(le)}})(le))}if(Jn(o.domReference)){var Y;const le=o.domReference;return t&&le.addEventListener("mouseleave",G),(Y=o.floating)==null||Y.addEventListener("mouseleave",G),m&&le.addEventListener("mousemove",ne,{once:!0}),le.addEventListener("mouseenter",ne),le.addEventListener("mouseleave",z),()=>{var ge;t&&le.removeEventListener("mouseleave",G),(ge=o.floating)==null||ge.removeEventListener("mouseleave",G),m&&le.removeEventListener("mousemove",ne),le.removeEventListener("mouseenter",ne),le.removeEventListener("mouseleave",z)}}},[o,a,n,d,p,m,U,V,H,r,t,x,v,w,b,i,j]),Xn(()=>{var ne;if(a&&t&&(ne=b.current)!=null&&ne.__options.blockPointerEvents&&M()){D.current=!0;const G=o.floating;if(Jn(o.domReference)&&G){var z;const Y=Pi(o.floating).body;Y.setAttribute(bL,"");const le=o.domReference,ge=v==null||(z=v.nodesRef.current.find(ie=>ie.id===y))==null||(z=z.context)==null?void 0:z.elements.floating;return ge&&(ge.style.pointerEvents=""),Y.style.pointerEvents="none",le.style.pointerEvents="auto",G.style.pointerEvents="auto",()=>{Y.style.pointerEvents="",le.style.pointerEvents="",G.style.pointerEvents=""}}}},[a,t,y,o,v,b,M]),Xn(()=>{t||(A.current=void 0,L.current=!1,V(),H())},[t,V,H]),k.useEffect(()=>()=>{V(),clearTimeout(_.current),clearTimeout(R.current),H()},[a,o.domReference,V,H]);const K=k.useMemo(()=>{function ne(z){A.current=z.pointerType}return{onPointerDown:ne,onPointerEnter:ne,onMouseMove(z){const{nativeEvent:G}=z;function Y(){!P.current&&!x.current&&r(!0,G,"hover")}d&&!O0(A.current)||t||p===0||L.current&&z.movementX**2+z.movementY**2<2||(clearTimeout(R.current),A.current==="touch"?Y():(L.current=!0,R.current=window.setTimeout(Y,p)))}}},[d,r,t,x,p]),ee=k.useMemo(()=>({onMouseEnter(){clearTimeout(_.current)},onMouseLeave(ne){j()||U(ne.nativeEvent,!1)}}),[U,j]);return k.useMemo(()=>a?{reference:K,floating:ee}:{},[a,K,ee])}let _L=0;function wu(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(_L);const s=()=>n==null?void 0:n.focus({preventScroll:t});i?s():_L=requestAnimationFrame(s)}function xK(n,e){var t;let r=[],i=(t=n.find(s=>s.id===e))==null?void 0:t.parentId;for(;i;){const s=n.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function Wf(n,e){let t=n.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=t;for(;r.length;)r=n.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),t=t.concat(r);return t}function bK(n,e){let t,r=-1;function i(s,o){o>r&&(t=s,r=o),Wf(n,s).forEach(l=>{i(l.id,o+1)})}return i(e,0),n.find(s=>s.id===t)}let hp=new WeakMap,bb=new WeakSet,_b={},lE=0;const _K=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,IU=n=>n&&(n.host||IU(n.parentNode)),wK=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=IU(t);return n.contains(r)?r:null}).filter(t=>t!=null);function SK(n,e,t,r){const i="data-floating-ui-inert",s=r?"inert":t?"aria-hidden":null,o=wK(e,n),a=new Set,l=new Set(o),c=[];_b[i]||(_b[i]=new WeakMap);const d=_b[i];o.forEach(p),m(e),a.clear();function p(v){!v||a.has(v)||(a.add(v),v.parentNode&&p(v.parentNode))}function m(v){!v||l.has(v)||[].forEach.call(v.children,y=>{if(dd(y)!=="script")if(a.has(y))m(y);else{const b=s?y.getAttribute(s):null,w=b!==null&&b!=="false",x=(hp.get(y)||0)+1,A=(d.get(y)||0)+1;hp.set(y,x),d.set(y,A),c.push(y),x===1&&w&&bb.add(y),A===1&&y.setAttribute(i,""),!w&&s&&y.setAttribute(s,"true")}})}return lE++,()=>{c.forEach(v=>{const y=(hp.get(v)||0)-1,b=(d.get(v)||0)-1;hp.set(v,y),d.set(v,b),y||(!bb.has(v)&&s&&v.removeAttribute(s),bb.delete(v)),b||v.removeAttribute(i)}),lE--,lE||(hp=new WeakMap,hp=new WeakMap,bb=new WeakSet,_b={})}}function wL(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Pi(n[0]).body;return SK(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const F0=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function PU(n,e){const t=BS(n,F0());e==="prev"&&t.reverse();const r=t.indexOf(wa(Pi(n)));return t.slice(r+1)[0]}function BU(){return PU(document.body,"next")}function LU(){return PU(document.body,"prev")}function s0(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Kr(t,r)}function AK(n){BS(n,F0()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function SL(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}const kS={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let EK;function AL(n){n.key==="Tab"&&(n.target,clearTimeout(EK))}const Uw=k.forwardRef(function(e,t){const[r,i]=k.useState();Xn(()=>(rI()&&i("button"),document.addEventListener("keydown",AL),()=>{document.removeEventListener("keydown",AL)}),[]);const s={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[sh("focus-guard")]:"",style:kS};return k.createElement("span",N0({},e,s))}),kU=k.createContext(null),EL=sh("portal");function CK(n){n===void 0&&(n={});const{id:e,root:t}=n,r=hy(),i=DU(),[s,o]=k.useState(null),a=k.useRef(null);return Xn(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{a.current=null})},[s]),Xn(()=>{if(!r||a.current)return;const l=e?document.getElementById(e):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(EL,""),l.appendChild(c),a.current=c,o(c)},[e,r]),Xn(()=>{if(t===null||!r||a.current)return;let l=t||(i==null?void 0:i.portalNode);l&&!Jn(l)&&(l=l.current),l=l||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,l.appendChild(c));const d=document.createElement("div");d.id=r,d.setAttribute(EL,""),l=c||l,l.appendChild(d),a.current=d,o(d)},[e,t,r,i]),s}function CL(n){const{children:e,id:t,root:r,preserveTabOrder:i=!0}=n,s=CK({id:t,root:r}),[o,a]=k.useState(null),l=k.useRef(null),c=k.useRef(null),d=k.useRef(null),p=k.useRef(null),m=o==null?void 0:o.modal,v=o==null?void 0:o.open,y=!!o&&!o.modal&&o.open&&i&&!!(r||s);return k.useEffect(()=>{if(!s||!i||m)return;function b(w){s&&s0(w)&&(w.type==="focusin"?SL:AK)(s)}return s.addEventListener("focusin",b,!0),s.addEventListener("focusout",b,!0),()=>{s.removeEventListener("focusin",b,!0),s.removeEventListener("focusout",b,!0)}},[s,i,m]),k.useEffect(()=>{s&&(v||SL(s))},[v,s]),k.createElement(kU.Provider,{value:k.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:p,portalNode:s,setFocusManagerState:a}),[i,s])},y&&s&&k.createElement(Uw,{"data-type":"outside",ref:l,onFocus:b=>{if(s0(b,s)){var w;(w=d.current)==null||w.focus()}else{const x=LU()||(o==null?void 0:o.refs.domReference.current);x==null||x.focus()}}}),y&&s&&k.createElement("span",{"aria-owns":s.id,style:kS}),s&&ly.createPortal(e,s),y&&s&&k.createElement(Uw,{"data-type":"outside",ref:c,onFocus:b=>{if(s0(b,s)){var w;(w=p.current)==null||w.focus()}else{const x=BU()||(o==null?void 0:o.refs.domReference.current);x==null||x.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,b.nativeEvent,"focus-out"))}}}))}const DU=()=>k.useContext(kU),BT="data-floating-ui-focusable";function OU(n){return n?n.hasAttribute(BT)?n:n.querySelector("["+BT+"]")||n:null}const TL=20;let xf=[];function cE(n){xf=xf.filter(t=>t.isConnected);let e=n;if(!(!e||dd(e)==="body")){if(!_J(e,F0())){const t=BS(e,F0())[0];t&&(e=t)}xf.push(e),xf.length>TL&&(xf=xf.slice(-TL))}}function ML(){return xf.slice().reverse().find(n=>n.isConnected)}const TK=k.forwardRef(function(e,t){return k.createElement("button",N0({},e,{type:"button",ref:t,tabIndex:-1,style:kS}))});function MK(n){const{context:e,children:t,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,restoreFocus:l=!1,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:p=!0}=n,{open:m,refs:v,nodeId:y,onOpenChange:b,events:w,dataRef:x,floatingId:A,elements:{domReference:_,floating:T}}=e,R=typeof o=="number"&&o<0,P=MT(_)&&R,D=_K()?s:!0,N=Aa(i),L=Aa(o),M=Aa(a),U=hd(),V=DU(),H=k.useRef(null),j=k.useRef(null),K=k.useRef(!1),ee=k.useRef(!1),ne=k.useRef(-1),z=V!=null,G=OU(T),Y=Is(function(oe){return oe===void 0&&(oe=G),oe?BS(oe,F0()):[]}),le=Is(oe=>{const he=Y(oe);return N.current.map(pe=>_&&pe==="reference"?_:G&&pe==="floating"?G:he).filter(Boolean).flat()});k.useEffect(()=>{if(r||!c)return;function oe(pe){if(pe.key==="Tab"){Kr(G,wa(Pi(G)))&&Y().length===0&&!P&&us(pe);const q=le(),Ie=ic(pe);N.current[0]==="reference"&&Ie===_&&(us(pe),pe.shiftKey?wu(q[q.length-1]):wu(q[1])),N.current[1]==="floating"&&Ie===G&&pe.shiftKey&&(us(pe),wu(q[0]))}}const he=Pi(G);return he.addEventListener("keydown",oe),()=>{he.removeEventListener("keydown",oe)}},[r,_,G,c,N,P,Y,le]),k.useEffect(()=>{if(r||!T)return;function oe(he){const pe=ic(he),Ie=Y().indexOf(pe);Ie!==-1&&(ne.current=Ie)}return T.addEventListener("focusin",oe),()=>{T.removeEventListener("focusin",oe)}},[r,T,Y]),k.useEffect(()=>{if(r||!p)return;function oe(){ee.current=!0,setTimeout(()=>{ee.current=!1})}function he(pe){const q=pe.relatedTarget;queueMicrotask(()=>{const Ie=!(Kr(_,q)||Kr(T,q)||Kr(q,T)||Kr(V==null?void 0:V.portalNode,q)||q!=null&&q.hasAttribute(sh("focus-guard"))||U&&(Wf(U.nodesRef.current,y).find(ke=>{var xe,Le;return Kr((xe=ke.context)==null?void 0:xe.elements.floating,q)||Kr((Le=ke.context)==null?void 0:Le.elements.domReference,q)})||xK(U.nodesRef.current,y).find(ke=>{var xe,Le;return((xe=ke.context)==null?void 0:xe.elements.floating)===q||((Le=ke.context)==null?void 0:Le.elements.domReference)===q})));if(l&&Ie&&wa(Pi(G))===Pi(G).body){qr(G)&&G.focus();const ke=ne.current,xe=Y(),Le=xe[ke]||xe[xe.length-1]||G;qr(Le)&&Le.focus()}(P||!c)&&q&&Ie&&!ee.current&&q!==ML()&&(K.current=!0,b(!1,pe,"focus-out"))})}if(T&&qr(_))return _.addEventListener("focusout",he),_.addEventListener("pointerdown",oe),T.addEventListener("focusout",he),()=>{_.removeEventListener("focusout",he),_.removeEventListener("pointerdown",oe),T.removeEventListener("focusout",he)}},[r,_,T,G,c,y,U,V,b,p,l,Y,P]),k.useEffect(()=>{var oe;if(r)return;const he=Array.from((V==null||(oe=V.portalNode)==null?void 0:oe.querySelectorAll("["+sh("portal")+"]"))||[]);if(T){const pe=[T,...he,H.current,j.current,N.current.includes("reference")||P?_:null].filter(Ie=>Ie!=null),q=c||P?wL(pe,D,!D):wL(pe);return()=>{q()}}},[r,_,T,c,N,V,P,D]),Xn(()=>{if(r||!qr(G))return;const oe=Pi(G),he=wa(oe);queueMicrotask(()=>{const pe=le(G),q=L.current,Ie=(typeof q=="number"?pe[q]:q.current)||G,ke=Kr(G,he);!R&&!ke&&m&&wu(Ie,{preventScroll:Ie===G})})},[r,m,G,R,le,L]),Xn(()=>{if(r||!G)return;let oe=!1;const he=Pi(G),pe=wa(he);let Ie=x.current.openEvent;cE(pe);function ke(we){let{open:Se,reason:Me,event:Ke,nested:Ye}=we;Se&&(Ie=Ke),Me==="escape-key"&&v.domReference.current&&cE(v.domReference.current),Me==="hover"&&Ke.type==="mouseleave"&&(K.current=!0),Me==="outside-press"&&(Ye?(K.current=!1,oe=!0):K.current=!(lU(Ke)||nI(Ke)))}w.on("openchange",ke);const xe=he.createElement("span");xe.setAttribute("tabindex","-1"),xe.setAttribute("aria-hidden","true"),Object.assign(xe.style,kS),z&&_&&_.insertAdjacentElement("afterend",xe);function Le(){return typeof M.current=="boolean"?ML()||xe:M.current.current||xe}return()=>{w.off("openchange",ke);const we=wa(he),Se=Kr(T,we)||U&&Wf(U.nodesRef.current,y).some(Ye=>{var nt;return Kr((nt=Ye.context)==null?void 0:nt.elements.floating,we)});(Se||Ie&&["click","mousedown"].includes(Ie.type))&&v.domReference.current&&cE(v.domReference.current);const Ke=Le();queueMicrotask(()=>{M.current&&!K.current&&qr(Ke)&&(!(Ke!==we&&we!==he.body)||Se)&&Ke.focus({preventScroll:oe}),xe.remove()})}},[r,T,G,M,x,v,w,U,y,z,_]),k.useEffect(()=>{queueMicrotask(()=>{K.current=!1})},[r]),Xn(()=>{if(!r&&V)return V.setFocusManagerState({modal:c,closeOnFocusOut:p,open:m,onOpenChange:b,refs:v}),()=>{V.setFocusManagerState(null)}},[r,V,c,m,b,v,p]),Xn(()=>{if(r||!G||typeof MutationObserver!="function"||R)return;const oe=()=>{const pe=G.getAttribute("tabindex"),q=Y(),Ie=wa(Pi(T)),ke=q.indexOf(Ie);ke!==-1&&(ne.current=ke),N.current.includes("floating")||Ie!==v.domReference.current&&q.length===0?pe!=="0"&&G.setAttribute("tabindex","0"):pe!=="-1"&&G.setAttribute("tabindex","-1")};oe();const he=new MutationObserver(oe);return he.observe(G,{childList:!0,subtree:!0,attributes:!0}),()=>{he.disconnect()}},[r,T,G,v,N,Y,R]);function ge(oe){return r||!d||!c?null:k.createElement(TK,{ref:oe==="start"?H:j,onClick:he=>b(!1,he.nativeEvent)},typeof d=="string"?d:"Dismiss")}const ie=!r&&D&&(c?!P:!0)&&(z||c);return k.createElement(k.Fragment,null,ie&&k.createElement(Uw,{"data-type":"inside",ref:V==null?void 0:V.beforeInsideRef,onFocus:oe=>{if(c){const pe=le();wu(i[0]==="reference"?pe[0]:pe[pe.length-1])}else if(V!=null&&V.preserveTabOrder&&V.portalNode)if(K.current=!1,s0(oe,V.portalNode)){const pe=BU()||_;pe==null||pe.focus()}else{var he;(he=V.beforeOutsideRef.current)==null||he.focus()}}}),!P&&ge("start"),t,ge("end"),ie&&k.createElement(Uw,{"data-type":"inside",ref:V==null?void 0:V.afterInsideRef,onFocus:oe=>{if(c)wu(le()[0]);else if(V!=null&&V.preserveTabOrder&&V.portalNode)if(p&&(K.current=!0),s0(oe,V.portalNode)){const pe=LU()||_;pe==null||pe.focus()}else{var he;(he=V.afterOutsideRef.current)==null||he.focus()}}}))}function RL(n){return qr(n.target)&&n.target.tagName==="BUTTON"}function IL(n){return iI(n)}function mI(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,elements:{domReference:s}}=n,{enabled:o=!0,event:a="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:d=!0,stickIfOpen:p=!0}=e,m=k.useRef(),v=k.useRef(!1),y=k.useMemo(()=>({onPointerDown(b){m.current=b.pointerType},onMouseDown(b){const w=m.current;b.button===0&&a!=="click"&&(O0(w,!0)&&c||(t&&l&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="mousedown")?r(!1,b.nativeEvent,"click"):(b.preventDefault(),r(!0,b.nativeEvent,"click"))))},onClick(b){const w=m.current;if(a==="mousedown"&&m.current){m.current=void 0;return}O0(w,!0)&&c||(t&&l&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="click")?r(!1,b.nativeEvent,"click"):r(!0,b.nativeEvent,"click"))},onKeyDown(b){m.current=void 0,!(b.defaultPrevented||!d||RL(b))&&(b.key===" "&&!IL(s)&&(b.preventDefault(),v.current=!0),b.key==="Enter"&&r(!(t&&l),b.nativeEvent,"click"))},onKeyUp(b){b.defaultPrevented||!d||RL(b)||IL(s)||b.key===" "&&v.current&&(v.current=!1,r(!(t&&l),b.nativeEvent,"click"))}}),[i,s,a,c,d,r,t,p,l]);return k.useMemo(()=>o?{reference:y}:{},[o,y])}const RK={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},IK={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},PL=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function DS(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:i,dataRef:s}=n,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:y}=e,b=hd(),w=Is(typeof l=="function"?l:()=>!1),x=typeof l=="function"?w:l,A=k.useRef(!1),_=k.useRef(!1),{escapeKey:T,outsidePress:R}=PL(v),{escapeKey:P,outsidePress:D}=PL(y),N=k.useRef(!1),L=Is(K=>{var ee;if(!t||!o||!a||K.key!=="Escape"||N.current)return;const ne=(ee=s.current.floatingContext)==null?void 0:ee.nodeId,z=b?Wf(b.nodesRef.current,ne):[];if(!T&&(K.stopPropagation(),z.length>0)){let G=!0;if(z.forEach(Y=>{var le;if((le=Y.context)!=null&&le.open&&!Y.context.dataRef.current.__escapeKeyBubbles){G=!1;return}}),!G)return}r(!1,JX(K)?K.nativeEvent:K,"escape-key")}),M=Is(K=>{var ee;const ne=()=>{var z;L(K),(z=ic(K))==null||z.removeEventListener("keydown",ne)};(ee=ic(K))==null||ee.addEventListener("keydown",ne)}),U=Is(K=>{var ee;const ne=A.current;A.current=!1;const z=_.current;if(_.current=!1,c==="click"&&z||ne||typeof x=="function"&&!x(K))return;const G=ic(K),Y="["+sh("inert")+"]",le=Pi(i.floating).querySelectorAll(Y);let ge=Jn(G)?G:null;for(;ge&&!Zu(ge);){const pe=_c(ge);if(Zu(pe)||!Jn(pe))break;ge=pe}if(le.length&&Jn(G)&&!KX(G)&&!Kr(G,i.floating)&&Array.from(le).every(pe=>!Kr(ge,pe)))return;if(qr(G)&&j){const pe=G.clientWidth>0&&G.scrollWidth>G.clientWidth,q=G.clientHeight>0&&G.scrollHeight>G.clientHeight;let Ie=q&&K.offsetX>G.clientWidth;if(q&&yo(G).direction==="rtl"&&(Ie=K.offsetX<=G.offsetWidth-G.clientWidth),Ie||pe&&K.offsetY>G.clientHeight)return}const ie=(ee=s.current.floatingContext)==null?void 0:ee.nodeId,oe=b&&Wf(b.nodesRef.current,ie).some(pe=>{var q;return rE(K,(q=pe.context)==null?void 0:q.elements.floating)});if(rE(K,i.floating)||rE(K,i.domReference)||oe)return;const he=b?Wf(b.nodesRef.current,ie):[];if(he.length>0){let pe=!0;if(he.forEach(q=>{var Ie;if((Ie=q.context)!=null&&Ie.open&&!q.context.dataRef.current.__outsidePressBubbles){pe=!1;return}}),!pe)return}r(!1,K,"outside-press")}),V=Is(K=>{var ee;const ne=()=>{var z;U(K),(z=ic(K))==null||z.removeEventListener(c,ne)};(ee=ic(K))==null||ee.addEventListener(c,ne)});k.useEffect(()=>{if(!t||!o)return;s.current.__escapeKeyBubbles=T,s.current.__outsidePressBubbles=R;let K=-1;function ee(le){r(!1,le,"ancestor-scroll")}function ne(){window.clearTimeout(K),N.current=!0}function z(){K=window.setTimeout(()=>{N.current=!1},IS()?5:0)}const G=Pi(i.floating);a&&(G.addEventListener("keydown",P?M:L,P),G.addEventListener("compositionstart",ne),G.addEventListener("compositionend",z)),x&&G.addEventListener(c,D?V:U,D);let Y=[];return m&&(Jn(i.domReference)&&(Y=Gu(i.domReference)),Jn(i.floating)&&(Y=Y.concat(Gu(i.floating))),!Jn(i.reference)&&i.reference&&i.reference.contextElement&&(Y=Y.concat(Gu(i.reference.contextElement)))),Y=Y.filter(le=>{var ge;return le!==((ge=G.defaultView)==null?void 0:ge.visualViewport)}),Y.forEach(le=>{le.addEventListener("scroll",ee,{passive:!0})}),()=>{a&&(G.removeEventListener("keydown",P?M:L,P),G.removeEventListener("compositionstart",ne),G.removeEventListener("compositionend",z)),x&&G.removeEventListener(c,D?V:U,D),Y.forEach(le=>{le.removeEventListener("scroll",ee)}),window.clearTimeout(K)}},[s,i,a,x,c,t,r,m,o,T,R,L,P,M,U,D,V]),k.useEffect(()=>{A.current=!1},[x,c]);const H=k.useMemo(()=>({onKeyDown:L,[RK[p]]:K=>{d&&r(!1,K.nativeEvent,"reference-press")}}),[L,r,d,p]),j=k.useMemo(()=>({onKeyDown:L,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[IK[c]]:()=>{A.current=!0}}),[L,c]);return k.useMemo(()=>o?{reference:H,floating:j}:{},[o,H,j])}function PK(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=hy(),s=k.useRef({}),[o]=k.useState(()=>CU()),a=fd()!=null,[l,c]=k.useState(r.reference),d=Is((v,y,b)=>{s.current.openEvent=v?y:void 0,o.emit("openchange",{open:v,event:y,reason:b,nested:a}),t==null||t(v,y,b)}),p=k.useMemo(()=>({setPositionReference:c}),[]),m=k.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return k.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:m,events:o,floatingId:i,refs:p}),[e,d,m,o,i,p])}function BK(n){n===void 0&&(n={});const{nodeId:e}=n,t=PK({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=k.useState(null),[a,l]=k.useState(null),d=(i==null?void 0:i.domReference)||s,p=k.useRef(null),m=hd();Xn(()=>{d&&(p.current=d)},[d]);const v=ZJ({...n,elements:{...i,...a&&{reference:a}}}),y=k.useCallback(_=>{const T=Jn(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(T),v.refs.setReference(T)},[v.refs]),b=k.useCallback(_=>{(Jn(_)||_===null)&&(p.current=_,o(_)),(Jn(v.refs.reference.current)||v.refs.reference.current===null||_!==null&&!Jn(_))&&v.refs.setReference(_)},[v.refs]),w=k.useMemo(()=>({...v.refs,setReference:b,setPositionReference:y,domReference:p}),[v.refs,b,y]),x=k.useMemo(()=>({...v.elements,domReference:d}),[v.elements,d]),A=k.useMemo(()=>({...v,...r,refs:w,elements:x,nodeId:e}),[v,w,x,e,r]);return Xn(()=>{r.dataRef.current.floatingContext=A;const _=m==null?void 0:m.nodesRef.current.find(T=>T.id===e);_&&(_.context=A)}),k.useMemo(()=>({...v,context:A,refs:w,elements:x}),[v,w,x,A])}function NU(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:i,dataRef:s,elements:o}=n,{enabled:a=!0,visibleOnly:l=!0}=e,c=k.useRef(!1),d=k.useRef(),p=k.useRef(!0);k.useEffect(()=>{if(!a)return;const v=Os(o.domReference);function y(){!t&&qr(o.domReference)&&o.domReference===wa(Pi(o.domReference))&&(c.current=!0)}function b(){p.current=!0}return v.addEventListener("blur",y),v.addEventListener("keydown",b,!0),()=>{v.removeEventListener("blur",y),v.removeEventListener("keydown",b,!0)}},[o.domReference,t,a]),k.useEffect(()=>{if(!a)return;function v(y){let{reason:b}=y;(b==="reference-press"||b==="escape-key")&&(c.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[i,a]),k.useEffect(()=>()=>{clearTimeout(d.current)},[]);const m=k.useMemo(()=>({onPointerDown(v){nI(v.nativeEvent)||(p.current=!1)},onMouseLeave(){c.current=!1},onFocus(v){if(c.current)return;const y=ic(v.nativeEvent);if(l&&Jn(y))try{if(rI()&&cU())throw Error();if(!y.matches(":focus-visible"))return}catch{if(!p.current&&!iI(y))return}r(!0,v.nativeEvent,"focus")},onBlur(v){c.current=!1;const y=v.relatedTarget,b=v.nativeEvent,w=Jn(y)&&y.hasAttribute(sh("focus-guard"))&&y.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var x;const A=wa(o.domReference?o.domReference.ownerDocument:document);!y&&A===o.domReference||Kr((x=s.current.floatingContext)==null?void 0:x.refs.floating.current,A)||Kr(o.domReference,A)||w||r(!1,b,"focus")})}}),[s,o.domReference,r,l]);return k.useMemo(()=>a?{reference:m}:{},[a,m])}const BL="active",LL="selected";function uE(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[BL]:o,[LL]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1,[BT]:""},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,d]=l;if(!(i&&[BL,LL].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var p;(p=r.get(c))==null||p.push(d),o[c]=function(){for(var m,v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];return(m=r.get(c))==null?void 0:m.map(w=>w(...y)).find(w=>w!==void 0)}}}else o[c]=d}),o),{})}}function OS(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),r=n.map(a=>a==null?void 0:a.item),i=k.useCallback(a=>uE(a,n,"reference"),e),s=k.useCallback(a=>uE(a,n,"floating"),t),o=k.useCallback(a=>uE(a,n,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}let kL=!1;function NS(n,e,t){switch(n){case"vertical":return e;case"horizontal":return t;default:return e||t}}function DL(n,e){return NS(e,n===pI||n===fy,n===Wu||n===Vu)}function dE(n,e,t){return NS(e,n===fy,t?n===Wu:n===Vu)||n==="Enter"||n===" "||n===""}function LK(n,e,t){return NS(e,t?n===Wu:n===Vu,n===fy)}function OL(n,e,t){return NS(e,t?n===Vu:n===Wu,n===pI)}function kK(n,e){const{open:t,onOpenChange:r,elements:i}=n,{listRef:s,activeIndex:o,onNavigate:a=()=>{},enabled:l=!0,selectedIndex:c=null,allowEscape:d=!1,loop:p=!1,nested:m=!1,rtl:v=!1,virtual:y=!1,focusItemOnOpen:b="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:x=!0,disabledIndices:A=void 0,orientation:_="vertical",cols:T=1,scrollItemIntoView:R=!0,virtualItemRef:P,itemSizes:D,dense:N=!1}=e,L=OU(i.floating),M=Aa(L),U=fd(),V=hd(),H=Is(a),j=MT(i.domReference),K=k.useRef(b),ee=k.useRef(c??-1),ne=k.useRef(null),z=k.useRef(!0),G=k.useRef(H),Y=k.useRef(!!i.floating),le=k.useRef(t),ge=k.useRef(!1),ie=k.useRef(!1),oe=Aa(A),he=Aa(t),pe=Aa(R),q=Aa(c),[Ie,ke]=k.useState(),[xe,Le]=k.useState(),we=Is(function(Je,rt,Ve){Ve===void 0&&(Ve=!1);function Q(ye){y?(ke(ye.id),V==null||V.events.emit("virtualfocus",ye),P&&(P.current=ye)):wu(ye,{preventScroll:!0,sync:cU()&&rI()?kL||ge.current:!1})}const X=Je.current[rt.current];X&&Q(X),requestAnimationFrame(()=>{const ye=Je.current[rt.current]||X;if(!ye)return;X||Q(ye);const ze=pe.current;ze&&Me&&(Ve||!z.current)&&(ye.scrollIntoView==null||ye.scrollIntoView(typeof ze=="boolean"?{block:"nearest",inline:"nearest"}:ze))})});Xn(()=>{document.createElement("div").focus({get preventScroll(){return kL=!0,!1}})},[]),Xn(()=>{l&&(t&&i.floating?K.current&&c!=null&&(ie.current=!0,ee.current=c,H(c)):Y.current&&(ee.current=-1,G.current(null)))},[l,t,i.floating,c,H]),Xn(()=>{if(l&&t&&i.floating)if(o==null){if(ge.current=!1,q.current!=null)return;if(Y.current&&(ee.current=-1,we(s,ee)),(!le.current||!Y.current)&&K.current&&(ne.current!=null||K.current===!0&&ne.current==null)){let Je=0;const rt=()=>{s.current[0]==null?(Je<2&&(Je?requestAnimationFrame:queueMicrotask)(rt),Je++):(ee.current=ne.current==null||dE(ne.current,_,v)||m?oE(s,oe.current):vL(s,oe.current),ne.current=null,H(ee.current))};rt()}}else i0(s,o)||(ee.current=o,we(s,ee,ie.current),ie.current=!1)},[l,t,i.floating,o,q,m,s,_,v,H,we,oe]),Xn(()=>{var Je;if(!l||i.floating||!V||y||!Y.current)return;const rt=V.nodesRef.current,Ve=(Je=rt.find(ye=>ye.id===U))==null||(Je=Je.context)==null?void 0:Je.elements.floating,Q=wa(Pi(i.floating)),X=rt.some(ye=>ye.context&&Kr(ye.context.elements.floating,Q));Ve&&!X&&z.current&&Ve.focus({preventScroll:!0})},[l,i.floating,V,U,y]),Xn(()=>{if(!l||!V||!y||U)return;function Je(rt){Le(rt.id),P&&(P.current=rt)}return V.events.on("virtualfocus",Je),()=>{V.events.off("virtualfocus",Je)}},[l,V,y,U,P]),Xn(()=>{G.current=H,Y.current=!!i.floating}),Xn(()=>{t||(ne.current=null)},[t]),Xn(()=>{le.current=t},[t]);const Se=o!=null,Me=k.useMemo(()=>{function Je(Ve){if(!t)return;const Q=s.current.indexOf(Ve);Q!==-1&&H(Q)}return{onFocus(Ve){let{currentTarget:Q}=Ve;Je(Q)},onClick:Ve=>{let{currentTarget:Q}=Ve;return Q.focus({preventScroll:!0})},...w&&{onMouseMove(Ve){let{currentTarget:Q}=Ve;Je(Q)},onPointerLeave(Ve){let{pointerType:Q}=Ve;!z.current||Q==="touch"||(ee.current=-1,we(s,ee),H(null),y||wu(M.current,{preventScroll:!0}))}}}},[t,M,we,w,s,H,y]),Ke=Is(Je=>{if(z.current=!1,ge.current=!0,Je.which===229||!he.current&&Je.currentTarget===M.current)return;if(m&&OL(Je.key,_,v)){us(Je),r(!1,Je.nativeEvent,"list-navigation"),qr(i.domReference)&&(y?V==null||V.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const rt=ee.current,Ve=oE(s,A),Q=vL(s,A);if(j||(Je.key==="Home"&&(us(Je),ee.current=Ve,H(ee.current)),Je.key==="End"&&(us(Je),ee.current=Q,H(ee.current))),T>1){const X=D||Array.from({length:s.current.length},()=>({width:1,height:1})),ye=sK(X,T,N),ze=ye.findIndex(dt=>dt!=null&&!z_(s.current,dt,A)),Xe=ye.reduce((dt,et,Pe)=>et!=null&&!z_(s.current,et,A)?Pe:dt,-1),qe=ye[iK({current:ye.map(dt=>dt!=null?s.current[dt]:null)},{event:Je,orientation:_,loop:p,rtl:v,cols:T,disabledIndices:aK([...A||s.current.map((dt,et)=>z_(s.current,et)?et:void 0),void 0],ye),minIndex:ze,maxIndex:Xe,prevIndex:oK(ee.current>Q?Ve:ee.current,X,ye,T,Je.key===fy?"bl":Je.key===(v?Wu:Vu)?"tr":"tl"),stopEvent:!0})];if(qe!=null&&(ee.current=qe,H(ee.current)),_==="both")return}if(DL(Je.key,_)){if(us(Je),t&&!y&&wa(Je.currentTarget.ownerDocument)===Je.currentTarget){ee.current=dE(Je.key,_,v)?Ve:Q,H(ee.current);return}dE(Je.key,_,v)?p?ee.current=rt>=Q?d&&rt!==s.current.length?-1:Ve:Xi(s,{startingIndex:rt,disabledIndices:A}):ee.current=Math.min(Q,Xi(s,{startingIndex:rt,disabledIndices:A})):p?ee.current=rt<=Ve?d&&rt!==-1?s.current.length:Q:Xi(s,{startingIndex:rt,decrement:!0,disabledIndices:A}):ee.current=Math.max(Ve,Xi(s,{startingIndex:rt,decrement:!0,disabledIndices:A})),i0(s,ee.current)?H(null):H(ee.current)}}),Ye=k.useMemo(()=>y&&t&&Se&&{"aria-activedescendant":xe||Ie},[y,t,Se,xe,Ie]),nt=k.useMemo(()=>({"aria-orientation":_==="both"?void 0:_,...!MT(i.domReference)&&Ye,onKeyDown:Ke,onPointerMove(){z.current=!0}}),[Ye,Ke,i.domReference,_]),vt=k.useMemo(()=>{function Je(Ve){b==="auto"&&lU(Ve.nativeEvent)&&(K.current=!0)}function rt(Ve){K.current=b,b==="auto"&&nI(Ve.nativeEvent)&&(K.current=!0)}return{...Ye,onKeyDown(Ve){z.current=!1;const Q=Ve.key.startsWith("Arrow"),X=["Home","End"].includes(Ve.key),ye=Q||X,ze=LK(Ve.key,_,v),Xe=OL(Ve.key,_,v),qe=DL(Ve.key,_),dt=(m?ze:qe)||Ve.key==="Enter"||Ve.key.trim()==="";if(y&&t){const _t=V==null?void 0:V.nodesRef.current.find(it=>it.parentId==null),gt=V&&_t?bK(V.nodesRef.current,_t.id):null;if(ye&&gt&&P){const it=new KeyboardEvent("keydown",{key:Ve.key,bubbles:!0});if(ze||Xe){var et,Pe;const pt=((et=gt.context)==null?void 0:et.elements.domReference)===Ve.currentTarget,ce=Xe&&!pt?(Pe=gt.context)==null?void 0:Pe.elements.domReference:ze?s.current.find(Fe=>(Fe==null?void 0:Fe.id)===Ie):null;ce&&(us(Ve),ce.dispatchEvent(it),Le(void 0))}if((qe||X)&&gt.context&&gt.context.open&&gt.parentId&&Ve.currentTarget!==gt.context.elements.domReference){var ft;us(Ve),(ft=gt.context.elements.domReference)==null||ft.dispatchEvent(it);return}}return Ke(Ve)}if(!(!t&&!x&&Q)){if(dt&&(ne.current=m&&qe?null:Ve.key),m){ze&&(us(Ve),t?(ee.current=oE(s,oe.current),H(ee.current)):r(!0,Ve.nativeEvent,"list-navigation"));return}qe&&(c!=null&&(ee.current=c),us(Ve),!t&&x?r(!0,Ve.nativeEvent,"list-navigation"):Ke(Ve),t&&H(ee.current))}},onFocus(){t&&!y&&H(null)},onPointerDown:rt,onMouseDown:Je,onClick:Je}},[Ie,Ye,Ke,oe,b,s,m,H,r,t,x,_,v,c,V,y,P]);return k.useMemo(()=>l?{reference:vt,floating:nt,item:Me}:{},[l,vt,nt,Me])}const DK=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function FU(n,e){var t;e===void 0&&(e={});const{open:r,floatingId:i}=n,{enabled:s=!0,role:o="dialog"}=e,a=(t=DK.get(o))!=null?t:o,l=hy(),d=fd()!=null,p=k.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&d&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,d,r,l,o]),m=k.useMemo(()=>{const y={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?y:{...y,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),v=k.useCallback(y=>{let{active:b,selected:w}=y;const x={role:"option",...b&&{id:i+"-option"}};switch(o){case"select":return{...x,"aria-selected":b&&w};case"combobox":return{...x,...b&&{"aria-selected":!0}}}return{}},[i,o]);return k.useMemo(()=>s?{reference:p,floating:m,item:v}:{},[s,p,m,v])}function NL(n,e){const[t,r]=n;let i=!1;const s=e.length;for(let o=0,a=s-1;o<s;a=o++){const[l,c]=e[o]||[0,0],[d,p]=e[a]||[0,0];c>=r!=p>=r&&t<=(d-l)*(r-c)/(p-c)+l&&(i=!i)}return i}function OK(n,e){return n[0]>=e.x&&n[0]<=e.x+e.width&&n[1]>=e.y&&n[1]<=e.y+e.height}function UU(n){n===void 0&&(n={});const{buffer:e=.5,blockPointerEvents:t=!1,requireIntent:r=!0}=n;let i,s=!1,o=null,a=null,l=performance.now();function c(p,m){const v=performance.now(),y=v-l;if(o===null||a===null||y===0)return o=p,a=m,l=v,null;const b=p-o,w=m-a,A=Math.sqrt(b*b+w*w)/y;return o=p,a=m,l=v,A}const d=p=>{let{x:m,y:v,placement:y,elements:b,onClose:w,nodeId:x,tree:A}=p;return function(T){function R(){clearTimeout(i),w()}if(clearTimeout(i),!b.domReference||!b.floating||y==null||m==null||v==null)return;const{clientX:P,clientY:D}=T,N=[P,D],L=ic(T),M=T.type==="mouseleave",U=Kr(b.floating,L),V=Kr(b.domReference,L),H=b.domReference.getBoundingClientRect(),j=b.floating.getBoundingClientRect(),K=y.split("-")[0],ee=m>j.right-j.width/2,ne=v>j.bottom-j.height/2,z=OK(N,H),G=j.width>H.width,Y=j.height>H.height,le=(G?H:j).left,ge=(G?H:j).right,ie=(Y?H:j).top,oe=(Y?H:j).bottom;if(U&&(s=!0,!M))return;if(V&&(s=!1),V&&!M){s=!0;return}if(M&&Jn(T.relatedTarget)&&Kr(b.floating,T.relatedTarget)||A&&Wf(A.nodesRef.current,x).some(q=>{let{context:Ie}=q;return Ie==null?void 0:Ie.open}))return;if(K==="top"&&v>=H.bottom-1||K==="bottom"&&v<=H.top+1||K==="left"&&m>=H.right-1||K==="right"&&m<=H.left+1)return R();let he=[];switch(K){case"top":he=[[le,H.top+1],[le,j.bottom-1],[ge,j.bottom-1],[ge,H.top+1]];break;case"bottom":he=[[le,j.top+1],[le,H.bottom-1],[ge,H.bottom-1],[ge,j.top+1]];break;case"left":he=[[j.right-1,oe],[j.right-1,ie],[H.left+1,ie],[H.left+1,oe]];break;case"right":he=[[H.right-1,oe],[H.right-1,ie],[j.left+1,ie],[j.left+1,oe]];break}function pe(q){let[Ie,ke]=q;switch(K){case"top":{const xe=[G?Ie+e/2:ee?Ie+e*4:Ie-e*4,ke+e+1],Le=[G?Ie-e/2:ee?Ie+e*4:Ie-e*4,ke+e+1],we=[[j.left,ee||G?j.bottom-e:j.top],[j.right,ee?G?j.bottom-e:j.top:j.bottom-e]];return[xe,Le,...we]}case"bottom":{const xe=[G?Ie+e/2:ee?Ie+e*4:Ie-e*4,ke-e],Le=[G?Ie-e/2:ee?Ie+e*4:Ie-e*4,ke-e],we=[[j.left,ee||G?j.top+e:j.bottom],[j.right,ee?G?j.top+e:j.bottom:j.top+e]];return[xe,Le,...we]}case"left":{const xe=[Ie+e+1,Y?ke+e/2:ne?ke+e*4:ke-e*4],Le=[Ie+e+1,Y?ke-e/2:ne?ke+e*4:ke-e*4];return[...[[ne||Y?j.right-e:j.left,j.top],[ne?Y?j.right-e:j.left:j.right-e,j.bottom]],xe,Le]}case"right":{const xe=[Ie-e,Y?ke+e/2:ne?ke+e*4:ke-e*4],Le=[Ie-e,Y?ke-e/2:ne?ke+e*4:ke-e*4],we=[[ne||Y?j.left+e:j.right,j.top],[ne?Y?j.left+e:j.right:j.left+e,j.bottom]];return[xe,Le,...we]}}}if(!NL([P,D],he)){if(s&&!z)return R();if(!M&&r){const q=c(T.clientX,T.clientY);if(q!==null&&q<.1)return R()}NL([P,D],pe([m,v]))?!s&&r&&(i=window.setTimeout(R,40)):R()}}};return d.__options={blockPointerEvents:t},d}const zU=k.createContext(void 0),NK=150;function FK({children:n,style:e}){const[t,r]=k.useState(""),i=k.useRef([]),s=k.useRef(!1),o=k.useRef(!0),a=k.useCallback(()=>{s.current=!0,o.current&&(r(""),requestAnimationFrame(()=>{if(o.current&&i.current.length){const d=i.current.shift();r(d),setTimeout(()=>{a()},NK)}else s.current=!1}))},[]),l=k.useCallback(d=>{i.current.push(d),s.current||a()},[a]);k.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]);const c=k.useMemo(()=>({announce:l}),[l]);return te.jsxs(zU.Provider,{value:c,children:[n,te.jsx("div",{"aria-atomic":"true","aria-live":"assertive",style:{position:"absolute",height:1,width:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:0,...e},children:t})]})}const HU={xs:0,sm:600,md:960,lg:1280,xl:1920};function pd(n,e){return k.createContext(e)}const md=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,GU=pd("BreakpointContext",{matchedBreakpoints:[]});function UK(n){const{children:e,matchedBreakpoints:t}=n;return te.jsx(GU.Provider,{value:{matchedBreakpoints:t},children:e})}function zK(n){const e=Object.entries(n).sort(([,o],[,a])=>a-o),t=e.map(([,o])=>`(min-width: ${o}px)`),r=typeof window<"u"&&typeof window.matchMedia=="function",[i,s]=k.useState(Object.fromEntries(e.map(([o])=>[o,!1])));return md(()=>{if(!r)return;const o=t.map((a,l)=>{const c=window.matchMedia(a),d=e[l][0];return{mq:c,handler:()=>{s(p=>({...p,[d]:c.matches}))}}});return o.forEach(({mq:a,handler:l})=>{l(),a.addEventListener("change",l)}),()=>{o.forEach(({mq:a,handler:l})=>{a.removeEventListener("change",l)})}},[r]),Object.keys(i).filter(o=>i[o])}function gI(){const{matchedBreakpoints:n}=k.useContext(GU);return{matchedBreakpoints:n,breakpoint:n[0]??null}}const FL=k.createContext(null),HK=({children:n})=>{const e=k.useContext(FL),[t,r]=k.useState(e),i=e===null,s=e||t||0;return md(()=>{let o=null;return i&&(o=new ResizeObserver(a=>{r(a[0].contentRect.width)}),o.observe(document.body),r(document.body.getBoundingClientRect().width)),()=>{o&&o.disconnect()}},[i]),te.jsx(FL.Provider,{value:s,children:n})};var GK=`.salt-provider {
  display: contents;
}
`;const vI="medium",jp="salt-theme",UL="salt-theme-next",WK="light",LT="sharp",kT="Open Sans",DT="blue",OT="Open Sans",NT=k.createContext(vI),FT=k.createContext({theme:"",mode:WK,themeNext:!1,corner:LT,UNSTABLE_corner:LT,headingFont:kT,UNSTABLE_headingFont:kT,accent:DT,UNSTABLE_accent:DT,actionFont:OT,UNSTABLE_actionFont:OT}),VK=k.createContext(HU),WU=(n,e)=>e?n===jp?mt(jp,UL):mt(jp,UL,n):n===jp?n:mt(jp,n),jK=({children:n,themeName:e,density:t,mode:r,applyClassesTo:i,themeNext:s,corner:o,headingFont:a,accent:l,actionFont:c})=>{var d;const p=WU(e,s),m={"data-corner":o,"data-heading-font":a,"data-accent":l,"data-action-font":c};return i==="root"?n:i==="child"?k.isValidElement(n)?k.cloneElement(n,{className:mt((d=n.props)==null?void 0:d.className,p,`salt-density-${t}`),"data-mode":r,...s?m:{}}):(console.warn(`
SaltProvider can only apply CSS classes for theming to a single nested child element of the SaltProvider.
        Either wrap elements with a single container or consider removing the applyClassesToChild prop, in which case a
        div element will wrap your child elements`),n):te.jsx("div",{className:mt("salt-provider",p,`salt-density-${t}`),"data-mode":r,...s?m:{},children:n})};function VU({applyClassesTo:n,children:e,density:t,theme:r,mode:i,breakpoints:s,themeNext:o,corner:a,headingFont:l,accent:c,actionFont:d}){const p=k.useContext(NT),{theme:m,mode:v,window:y,corner:b,headingFont:w,accent:x,actionFont:A}=k.useContext(FT),_=m===void 0||m==="",T=t??p??vI,R=r??(m===""?jp:m),P=i??v,D=s??HU,N=a??b??LT,L=l??w??kT,M=c??x??DT,U=d??A??OT,V=n??(_?"root":"scope"),H=rn();dn({testId:"salt-provider",css:GK,window:H});const j=k.useMemo(()=>({theme:R,mode:P,window:H,themeNext:!!o,corner:N,headingFont:L,accent:M,actionFont:U,UNSTABLE_corner:N,UNSTABLE_headingFont:L,UNSTABLE_accent:M,UNSTABLE_actionFont:U}),[R,P,H,o,N,L,M,U]),K=jK({children:e,themeName:R,density:T,mode:P,applyClassesTo:V,themeNext:o,corner:N,headingFont:L,accent:M,actionFont:U});md(()=>{const G=WU(R,o).split(" ");return V==="root"&&H&&(y!==H?(H.document.documentElement.classList.add(...G,`salt-density-${T}`),H.document.documentElement.dataset.mode=P,o&&(H.document.documentElement.dataset.corner=N,H.document.documentElement.dataset.headingFont=L,H.document.documentElement.dataset.accent=M,H.document.documentElement.dataset.actionFont=U)):console.warn("SaltProvider can only apply CSS classes to the root if it is the root level SaltProvider.")),()=>{V==="root"&&H&&(H.document.documentElement.classList.remove(...G,`salt-density-${T}`),H.document.documentElement.dataset.mode=void 0,o&&(delete H.document.documentElement.dataset.corner,delete H.document.documentElement.dataset.headingFont,delete H.document.documentElement.dataset.accent,delete H.document.documentElement.dataset.actionFont))}},[V,T,P,R,H,y,o,N,L,M,U]);const ee=zK(D),ne=te.jsx(NT.Provider,{value:T,children:te.jsx(FT.Provider,{value:j,children:te.jsx(UK,{matchedBreakpoints:ee,children:te.jsx(VK.Provider,{value:D,children:te.jsx(HK,{children:K})})})})});return _?te.jsx(FK,{children:ne}):ne}function XK({enableStyleInjection:n,...e}){return te.jsx(nU,{value:n,children:te.jsx(VU,{...e})})}function JK({enableStyleInjection:n,...e}){return te.jsx(nU,{value:n,children:te.jsx(VU,{...e,themeNext:!0})})}const KK=()=>{const{window:n,...e}=k.useContext(FT);return e};function yI(n){return k.useContext(NT)??vI}function zw(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}const fE=typeof document<"u"&&window.visualViewport,$K=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let wb=0,hE;function YK(n={}){const{isDisabled:e}=n;md(()=>{if(!e)return wb++,wb===1&&(r$()?hE=QK():hE=qK()),()=>{wb--,wb===0&&hE()}},[e])}function qK(){return zw(cm(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),cm(document.documentElement,"overflow","hidden"))}function QK(){let n,e;const t=c=>{n=jU(c.target,!0),!(n===document.documentElement&&n===document.body)&&n instanceof HTMLElement&&window.getComputedStyle(n).overscrollBehavior==="auto"&&(e=cm(n,"overscrollBehavior","contain"))},r=c=>{if(!n||n===document.documentElement||n===document.body){c.preventDefault();return}n.scrollHeight===n.clientHeight&&n.scrollWidth===n.clientWidth&&c.preventDefault()},i=()=>{e&&e()},s=c=>{const d=c.target;ZK(d)&&(a(),d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",fE&&(fE.height<window.innerHeight?requestAnimationFrame(()=>{zL(d)}):fE.addEventListener("resize",()=>zL(d),{once:!0}))}))};let o=null;const a=()=>{if(o)return;const c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,p=window.pageYOffset;o=zw(_v(window,"scroll",c),cm(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),cm(document.documentElement,"overflow","hidden"),cm(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(d,p)}),window.scrollTo(0,0)},l=zw(_v(document,"touchstart",t,{passive:!1,capture:!0}),_v(document,"touchmove",r,{passive:!1,capture:!0}),_v(document,"touchend",i,{passive:!1,capture:!0}),_v(document,"focus",s,!0));return()=>{e==null||e(),o==null||o(),l()}}function cm(n,e,t){const r=n.style[e];return n.style[e]=t,()=>{n.style[e]=r}}function _v(n,e,t,r){return n.addEventListener(e,t,r),()=>{n.removeEventListener(e,t,r)}}function zL(n){const e=document.scrollingElement||document.documentElement;let t=n;for(;t&&t!==e;){const r=jU(t);if(r!==document.documentElement&&r!==document.body&&r!==t){const i=r.getBoundingClientRect().top,s=t.getBoundingClientRect().top;s>i+t.clientHeight&&(r.scrollTop+=s-i)}t=r.parentElement}}function ZK(n){return n instanceof HTMLInputElement&&!$K.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}function HL(n,e){if(!n)return!1;const t=window.getComputedStyle(n);let r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth),r}function jU(n,e){let t=n;for(HL(t,e)&&(t=t.parentElement);t&&!HL(t,e);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function xI(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform):!1}function FS(n){let e=null;return()=>(e==null&&(e=n()),e)}const e$=FS(()=>xI(/^Mac/i)),t$=FS(()=>xI(/^iPhone/i)),n$=FS(()=>xI(/^iPad/i)||e$()&&navigator.maxTouchPoints>1),r$=FS(()=>t$()||n$()),i$=k.forwardRef(function(e,t){const{open:r,top:i,left:s,position:o,width:a,height:l,focusManagerProps:c,lockScroll:d,...p}=e,m={top:i,left:s,position:o},{themeNext:v}=KK();YK({isDisabled:!d||!r});const y=v?JK:XK;return c&&r?te.jsx(CL,{children:te.jsx(y,{applyClassesTo:"scope",children:te.jsx(MK,{...c,children:te.jsx("div",{style:m,...p,ref:t})})})}):r?te.jsx(CL,{children:te.jsx(y,{applyClassesTo:"scope",children:te.jsx("div",{style:m,...p,ref:t})})}):null}),s$=k.createContext({Component:i$});function US(){return k.useContext(s$)}const o$=n=>n,a$={platform:bU,middleware:o$,animationFrame:!1},l$=k.createContext(a$);function c$(){return k.useContext(l$)}const u$=[LS(),fI({limiter:hI()})];function zS(n){const{middleware:e=u$,open:t=!1,onOpenChange:r,...i}=n,s=(m,v,y)=>{d(),r==null||r(m,v,y)},{platform:o,middleware:a,animationFrame:l}=c$(),{refs:c,update:d,...p}=BK({...i,middleware:a(e),open:t,onOpenChange:s,whileElementsMounted:(...m)=>VJ(...m,{animationFrame:l}),platform:o});return{reference:c.setReference,floating:c.setFloating,refs:c,update:d,...p}}const GL=v0.useId;let d$=BigInt(0);function f$(n){const[e,t]=k.useState(n),r=n||e;return k.useEffect(()=>{e==null&&t(`salt-${++d$}`)},[e]),r}function _h(n){if(GL!==void 0){const e=GL();return n??e}return f$(n)}var h$=`.saltAccordionGroup {
  border-bottom: var(--salt-size-border) var(--salt-separable-borderStyle) var(--salt-separable-tertiary-borderColor);
}
`;const p$=sn("saltAccordionGroup"),Qve=k.forwardRef(function(e,t){const{className:r,...i}=e,s=rn();return dn({testId:"salt-accordion-group",css:h$,window:s}),te.jsx("div",{className:mt(p$(),r),ref:t,...i})}),XU=pd("AccordionContext",{value:"",expanded:!1,toggle:()=>{},disabled:!1,indicatorSide:"left",headerId:"",setHeaderId:()=>{},panelId:"",setPanelId:()=>{}});function JU(){return k.useContext(XU)}var m$=`.saltAccordionPanel {
  display: grid;
  transition: grid-template-rows var(--salt-duration-perceptible) ease-in-out, opacity var(--salt-duration-perceptible) ease-in-out, visibility var(--salt-duration-perceptible) ease-in-out;
}

.saltAccordionPanel[aria-hidden="true"] {
  grid-template-rows: 0fr;
  opacity: 0;
  visibility: hidden;
}

.saltAccordionPanel {
  grid-template-rows: 1fr;
  opacity: 1;
  visibility: visible;
}

.saltAccordionPanel-inner {
  overflow: hidden;
}

.saltAccordionPanel-content {
  padding-left: var(--salt-spacing-100);
  padding-right: var(--salt-spacing-100);
  padding-top: var(--salt-spacing-100);
  padding-bottom: var(--salt-spacing-150);
}

.saltAccordionPanel-indentedContent {
  padding-left: calc(var(--salt-spacing-200) + var(--salt-size-icon));
}

@media (prefers-reduced-motion: reduce) {
  .saltAccordionPanel {
    transition: none;
  }
}
`;const Sb=sn("saltAccordionPanel"),Zve=k.forwardRef(function(e,t){const{children:r,className:i,id:s,...o}=e,a=rn();dn({testId:"salt-accordion-panel",css:m$,window:a});const{headerId:l,panelId:c,setPanelId:d,expanded:p,indicatorSide:m}=JU();return md(()=>{s&&d(s)},[s,d]),te.jsx("div",{ref:t,className:mt(Sb(),i),role:"region",id:c,"aria-labelledby":l,"aria-hidden":p?void 0:"true",hidden:!p,...o,children:te.jsx("div",{className:Sb("inner"),children:te.jsx("div",{className:mt(Sb("content"),{[Sb("indentedContent")]:m==="left"}),children:r})})})});function Sc({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=k.useRef(n!==void 0),[s,o]=k.useState(e),a=n!==void 0?n:s,{current:l}=k.useRef(e);k.useEffect(()=>{},[r,t,n]),k.useEffect(()=>{},[JSON.stringify(e,g$)]);const c=k.useCallback(d=>{i||o(d)},[]);return[a,c,i]}function g$(n,e){return k.isValidElement(e)?null:e}var v$=`.saltAccordion {
  border-top: var(--salt-size-border) var(--salt-separable-borderStyle) var(--salt-separable-tertiary-borderColor);
}

.saltAccordion-error {
  border-top-color: var(--salt-status-error-borderColor);
}

.saltAccordion-warning {
  border-top-color: var(--salt-status-warning-borderColor);
}

.saltAccordion-success {
  border-top-color: var(--salt-status-success-borderColor);
}

.saltAccordion-disabled {
  border-top-color: var(--salt-separable-tertiary-borderColor);
}
`;const pE=sn("saltAccordion"),e0e=k.forwardRef(function(e,t){const{className:r,defaultExpanded:i,expanded:s,disabled:o,indicatorSide:a="left",id:l,onToggle:c,status:d,value:p,...m}=e,v=_h(l),[y,b]=k.useState(`${v}-header`),[w,x]=k.useState(`${v}-panel`),A=rn();dn({testId:"salt-accordion",css:v$,window:A});const[_,T]=Sc({controlled:s,default:!!i,name:"Accordion",state:"expanded"}),R=P=>{T(D=>!D),c==null||c(P)};return te.jsx(XU.Provider,{value:{value:p,toggle:R,expanded:_,indicatorSide:a,disabled:!!o,headerId:y,setHeaderId:b,panelId:w,setPanelId:x,status:d},children:te.jsx("div",{ref:t,className:mt(pE(),{[pE(d??"")]:d,[pE("disabled")]:o},r),...m})})});var y$=`/* Style applied to the root element */
.saltIcon {
  --icon-color: currentColor;
  --icon-size-multiplier: var(--saltIcon-size-multiplier, 1);
  --icon-base-size: var(--salt-size-icon, 12px);
  /**
   * Icon size will be the multiplier (an integer from the size prop) * the base size (set by the theme per density)
   * Icons should never be smaller than 12px for readability so we've added a max() to enforce this
   * Consumers can use --saltIcon-size variable to override this rule as an escape hatch
   */
  --icon-size: var(--saltIcon-size, max(calc(var(--icon-base-size) * var(--icon-size-multiplier)), 12px));
}

.saltIcon {
  fill: var(--saltIcon-color, var(--icon-color));
  display: inline-block;
  margin: var(--saltIcon-margin, 0);
  position: relative;
  width: var(--icon-size);
  height: var(--icon-size);
  min-width: var(--icon-size);
  min-height: var(--icon-size);
}

.saltIcon-primary {
  --icon-color: var(--salt-content-primary-foreground);
}

.saltIcon-secondary {
  --icon-color: var(--salt-content-secondary-foreground);
}
`;const x$=n=>(...e)=>[n,...e].join("-"),WL=x$("saltIcon"),KU=1,Kn=k.forwardRef(function({"aria-hidden":e,"aria-label":t,children:r,className:i,color:s="inherit",size:o=KU,style:a,...l},c){const d=rn();dn({testId:"salt-icon",css:y$,window:d});const p={...a,"--saltIcon-size-multiplier":`${o}`};return te.jsx("svg",{className:mt(WL(),{[WL(s)]:s!=="inherit"},i),style:p,role:e?void 0:"img","aria-label":e?void 0:t,"aria-hidden":e,...l,ref:c,children:te.jsx("g",{"aria-hidden":!0,children:r})})}),t0e=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"AddIcon","aria-label":"add",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M7 0H5v5H0v2h5v5h2V7h5V5H7V0Z"})})}),b$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"CalendarIcon","aria-label":"calendar",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M4 0v1h4V0h1v1h3v11H0V1h3V0h1Zm7 4H1v7h10V4ZM9 2H8v1h1V2ZM4 2H3v1h1V2Z"})})}),VL=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"ChevronDownIcon","aria-label":"chevron down",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M5.618 8.593 6 9l.382-.407L11 3.661 10.236 3 6 7.524 1.764 3 1 3.66l4.618 4.933Z"})})}),_$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"ChevronLeftIcon","aria-label":"chevron left",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M3.407 5.618 3 6l.407.382L8.339 11 9 10.236 4.476 6 9 1.764 8.34 1 3.406 5.618Z"})})}),jL=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"ChevronRightIcon","aria-label":"chevron right",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M8.593 5.618 9 6l-.407.382L3.661 11 3 10.236 7.524 6 3 1.764 3.66 1l4.933 4.618Z"})})}),w$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"ChevronUpIcon","aria-label":"chevron up",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M5.618 3.407 6 3l.382.407L11 8.339 10.236 9 6 4.476 1.764 9 1 8.34l4.618-4.933Z"})})}),S$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"CloseIcon","aria-label":"close",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"m5.999 5.292 3.89-3.888.707.707L6.707 6l3.889 3.889-.707.708-3.89-3.89-3.889 3.89-.707-.708L5.292 6 1.403 2.111l.707-.708L6 5.292Z"})})}),A$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"ErrorSolidIcon","aria-label":"error solid",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M9 0H3L0 3v6l3 3h6l3-3V3L9 0ZM7 2H5v5h2V2Zm-1 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})})}),E$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"InfoSolidIcon","aria-label":"info solid",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M0 0h12v12H0V0Zm6 2a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm1 3v5H5V5h2Z",clipRule:"evenodd"})})}),C$=k.forwardRef(function(e,t){return te.jsxs(Kn,{"data-testid":"LockedIcon","aria-label":"locked",viewBox:"0 0 12 12",ref:t,...e,children:[te.jsx("path",{d:"M6.5 8.915a1.5 1.5 0 1 0-1 0V10h1V8.915Z"}),te.jsx("path",{fillRule:"evenodd",d:"M2 4H0v8h12V4h-2V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v2Zm1-2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2H3V2Zm-2 9V5h10v6H1Z",clipRule:"evenodd"})]})}),T$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"OverflowMenuIcon","aria-label":"overflow menu",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M1 5h2v2H1V5Zm4 0h2v2H5V5Zm6 0H9v2h2V5Z"})})}),M$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"ProgressInprogressIcon","aria-label":"progress inprogress",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0ZM1 6a5 5 0 0 1 5-5v10a5 5 0 0 1-5-5Z",clipRule:"evenodd"})})}),R$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"StepActiveIcon","aria-label":"step active",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12Z",clipRule:"evenodd"})})}),I$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"StepDefaultIcon","aria-label":"step default",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M6 10a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm6-4A6 6 0 1 1 0 6a6 6 0 0 1 12 0Z",clipRule:"evenodd"})})}),P$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"StepSuccessIcon","aria-label":"step success",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12ZM4.873 9.476l5.034-5.55-1.1-1.019-4.01 4.445-1.843-1.713L1.93 6.735l2.943 2.741Z",clipRule:"evenodd"})})}),B$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"SuccessIcon","aria-label":"success",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"m3.871 8.033 6.187-6.187 1.061 1.06-7.248 7.248-2.99-2.99 1.06-1.061 1.93 1.93Z",clipRule:"evenodd"})})}),L$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"SuccessSmallIcon","aria-label":"success small",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"m3.879 8.121 5.656-5.656.707.707L3.88 9.535 1.758 7.414l.707-.707L3.879 8.12Z",clipRule:"evenodd"})})}),k$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"SuccessSmallSolidIcon","aria-label":"success small solid",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M12 0H0v12h12V0ZM9.535 2.465 3.88 8.12 2.465 6.707l-.707.707 2.12 2.121 6.364-6.363-.707-.707Z",clipRule:"evenodd"})})}),D$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"SuccessSolidIcon","aria-label":"success solid",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M12 0H0v12h12V0ZM9.858 1.846 3.672 8.033l-1.93-1.93-1.06 1.06 2.99 2.991 7.247-7.247-1.06-1.061Z",clipRule:"evenodd"})})}),O$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"SuccessTickIcon","aria-label":"success tick",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"m3.871 8.033 6.187-6.187 1.061 1.06-7.248 7.248-2.99-2.99 1.06-1.061 1.93 1.93Z",clipRule:"evenodd"})})}),N$=k.forwardRef(function(e,t){return te.jsxs(Kn,{"data-testid":"TearOutIcon","aria-label":"tear out",viewBox:"0 0 12 12",ref:t,...e,children:[te.jsx("path",{d:"M0 12h12V6h-1v5H1V1h5V0H0v12Z"}),te.jsx("path",{d:"M11.996 4V0h-4v1h2.293L5.996 5.293 6.703 6l4.293-4.293V4h1Z"})]})}),F$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"TriangleDownIcon","aria-label":"triangle down",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"m6 8.5 5-5H1l5 5Z"})})}),U$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"TriangleUpIcon","aria-label":"triangle up",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"m6 3.5-5 5h10l-5-5Z"})})}),z$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"UploadIcon","aria-label":"upload",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M6.5 9.028h-1V1.914L2.818 4.596l-.707-.707L6 0l3.889 3.89-.707.706L6.5 1.914v7.114ZM12 11v1H0v-1h12Z"})})}),n0e=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"UserIcon","aria-label":"user",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"M12 11v.996H6V12H0v-.996c0-.453.137-.855.41-1.206a1.96 1.96 0 0 1 1.02-.715 9.155 9.155 0 0 1 .75-.246c.039-.008.086-.02.14-.035.055-.016.13-.04.223-.07l.2-.047c.054-.024.109-.043.163-.059.524-.156.918-.336 1.184-.539.265-.203.43-.464.492-.785a4.468 4.468 0 0 1-.644-.867 6.145 6.145 0 0 1-.493-1.077 7.673 7.673 0 0 1-.328-1.172A6.258 6.258 0 0 1 3 3.003c0-.547.078-1.011.234-1.394A2.394 2.394 0 0 1 4.828.169 4.03 4.03 0 0 1 6 .003V0c.414 0 .805.055 1.172.164a2.394 2.394 0 0 1 1.594 1.441c.156.383.234.847.234 1.394 0 .383-.04.777-.117 1.183a7.673 7.673 0 0 1-.328 1.172 6.146 6.146 0 0 1-.492 1.077c-.196.336-.41.625-.645.867.062.32.227.582.492.785.266.203.66.383 1.184.54.054.015.11.034.164.058l.199.047c.094.03.168.054.223.07.054.016.101.027.14.035.164.047.305.09.422.129.125.039.235.078.328.117a1.96 1.96 0 0 1 1.02.715c.273.351.41.753.41 1.206ZM6 1.007v.004c-.672 0-1.172.157-1.5.469-.336.305-.504.812-.504 1.523 0 .328.035.664.106 1.007a6.033 6.033 0 0 0 .68 1.887c.155.28.327.515.515.702l.351.364-.082.503c-.093.547-.336.984-.726 1.312-.39.32-.938.59-1.64.809a1.16 1.16 0 0 0-.177.058 4.582 4.582 0 0 1-.21.047c-.118.04-.196.067-.235.082l-.129.024a54.81 54.81 0 0 1-.375.117 2.327 2.327 0 0 0-.258.094l-.105.035a.968.968 0 0 0-.516.363.982.982 0 0 0-.199.597H6V11h5.004a.981.981 0 0 0-.2-.597.968.968 0 0 0-.515-.363l-.105-.035a2.326 2.326 0 0 0-.258-.094l-.375-.117a4.084 4.084 0 0 0-.13-.024 5.233 5.233 0 0 0-.233-.082 4.58 4.58 0 0 1-.211-.047 1.16 1.16 0 0 0-.176-.058c-.703-.219-1.25-.488-1.64-.809-.391-.328-.634-.765-.727-1.312l-.082-.503.351-.363a3.15 3.15 0 0 0 .516-.703 6.033 6.033 0 0 0 .68-1.886c.07-.344.105-.68.105-1.008 0-.71-.168-1.218-.504-1.523-.328-.312-.828-.469-1.5-.469Z",clipRule:"evenodd"})})}),H$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"UserSolidIcon","aria-label":"user solid",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{d:"M12 12v-.996c0-.453-.137-.856-.41-1.207a1.96 1.96 0 0 0-1.02-.715 3.833 3.833 0 0 0-.328-.117 10.43 10.43 0 0 0-.422-.13 1.836 1.836 0 0 1-.14-.034 5.678 5.678 0 0 1-.223-.07 7.799 7.799 0 0 1-.2-.047 1.377 1.377 0 0 0-.163-.059c-.524-.156-.918-.336-1.184-.54a1.265 1.265 0 0 1-.492-.784 4.47 4.47 0 0 0 .644-.867c.196-.336.36-.696.493-1.079.14-.382.25-.773.328-1.171C8.96 3.777 9 3.383 9 3c0-.547-.078-1.012-.234-1.395A2.394 2.394 0 0 0 7.172.164 4.085 4.085 0 0 0 6 0c-.414 0-.805.055-1.172.164a2.394 2.394 0 0 0-1.594 1.441C3.078 1.988 3 2.453 3 3c0 .383.04.777.117 1.184.078.398.188.789.328 1.171.133.383.297.743.493 1.079.195.336.41.625.644.867-.062.32-.227.582-.492.785-.266.203-.66.383-1.184.539-.054.016-.11.035-.164.059a7.799 7.799 0 0 1-.199.046 5.678 5.678 0 0 1-.223.07 1.836 1.836 0 0 1-.14.036c-.164.047-.305.09-.422.129a3.84 3.84 0 0 0-.328.117 1.96 1.96 0 0 0-1.02.715c-.273.351-.41.754-.41 1.207V12h12Z"})})}),G$=k.forwardRef(function(e,t){return te.jsx(Kn,{"data-testid":"WarningSolidIcon","aria-label":"warning solid",viewBox:"0 0 12 12",ref:t,...e,children:te.jsx("path",{fillRule:"evenodd",d:"m6 0 6 12H0L6 0ZM5 5h2v3H5V5Zm2 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"})})}),$U={ExpandIcon:VL,CollapseIcon:w$,ExpandGroupIcon:jL,CollapseGroupIcon:VL,NextIcon:jL,PreviousIcon:_$,IncreaseIcon:U$,DecreaseIcon:F$,UploadIcon:z$,ErrorIcon:A$,SuccessIcon:O$,InfoIcon:E$,WarningIcon:G$,OverflowIcon:T$,UserIcon:H$,CalendarIcon:b$,CloseIcon:S$,ExternalIcon:N$,PendingIcon:I$,ActiveIcon:R$,CompletedIcon:P$,LockedIcon:C$,InProgressIcon:M$},W$=k.createContext($U),wh=()=>k.useContext(W$)||$U;var V$=`.saltStatusIndicator {
  --statusIndicator-warning-color: var(--salt-status-warning-foreground-decorative);
  --statusIndicator-info-color: var(--salt-status-info-foreground-decorative);
  --statusIndicator-success-color: var(--salt-status-success-foreground-decorative);
  --statusIndicator-error-color: var(--salt-status-error-foreground-decorative);
  color: var(--saltStatusIndicator-color, var(--statusIndicator-Color));
}

.saltStatusIndicator-error {
  --statusIndicator-Color: var(--statusIndicator-error-color);
}

.saltStatusIndicator-warning {
  --statusIndicator-Color: var(--statusIndicator-warning-color);
}

.saltStatusIndicator-success {
  --statusIndicator-Color: var(--statusIndicator-success-color);
}

.saltStatusIndicator-info {
  --statusIndicator-Color: var(--statusIndicator-info-color);
}
`;const j$={error:"error",success:"success",warning:"warning",info:"info"},XL=sn("saltStatusIndicator"),YU=k.forwardRef(function({className:e,status:t,size:r=KU,...i},s){const o=rn();dn({testId:"salt-status-indicator",css:V$,window:o});const{ErrorIcon:a,WarningIcon:l,SuccessIcon:c,InfoIcon:d}=wh(),m={error:a,success:c,warning:l,info:d}[t],v=j$[t];return te.jsx(m,{className:mt(XL(),XL(t),e),size:r,"aria-label":v,...i,ref:s})});var X$=`.saltAccordionHeader {
  display: flex;
  gap: var(--salt-spacing-100);
  padding: var(--salt-spacing-50) var(--salt-spacing-100);
  border: 0;
  width: 100%;
  min-height: calc(var(--salt-size-base) + var(--salt-spacing-100));
  background: transparent;
  font-size: var(--salt-text-fontSize);
  line-height: var(--salt-text-lineHeight);
  font-family: var(--salt-text-fontFamily);
  color: var(--salt-content-primary-foreground);
  font-weight: var(--salt-text-fontWeight-strong);
  text-align: left;
  cursor: var(--salt-actionable-cursor-hover);
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

.saltAccordionHeader:focus-visible {
  outline: var(--salt-focused-outline);
  outline-offset: calc(-1 * var(--salt-focused-outlineWidth));
}

.saltAccordionHeader-content {
  padding: var(--salt-spacing-75) 0;
  width: 100%;
  box-sizing: border-box;
}

.saltAccordionHeader .saltAccordionHeader-icon {
  height: var(--salt-size-base);
}

.saltAccordionHeader-error {
  background: var(--salt-status-error-background);
}

.saltAccordionHeader-error:focus-visible {
  outline-color: var(--salt-status-error-borderColor);
}

.saltAccordionHeader-warning {
  background: var(--salt-status-warning-background);
}

.saltAccordionHeader-warning:focus-visible {
  outline-color: var(--salt-status-warning-borderColor);
}

.saltAccordionHeader-success {
  background: var(--salt-status-success-background);
}

.saltAccordionHeader-success:focus-visible {
  outline-color: var(--salt-status-error-borderColor);
}

.saltAccordionHeader .saltAccordionHeader-statusIndicator {
  height: var(--salt-size-base);
  margin-left: auto;
}

.saltAccordionHeader:disabled {
  background: transparent;
  color: var(--salt-content-primary-foreground-disabled);
  cursor: var(--salt-actionable-cursor-disabled);
}
`;const um=sn("saltAccordionHeader");function JL({expanded:n}){const{CollapseIcon:e,ExpandIcon:t}=wh();return n?te.jsx(e,{"aria-hidden":!0,className:um("icon")}):te.jsx(t,{"aria-hidden":!0,className:um("icon")})}const r0e=k.forwardRef(function(e,t){const{children:r,className:i,onClick:s,id:o,...a}=e,{value:l,expanded:c,toggle:d,indicatorSide:p,disabled:m,headerId:v,panelId:y,setHeaderId:b,status:w}=JU(),x=rn();dn({testId:"salt-accordion-header",css:X$,window:x});const A=_=>{d(_),s==null||s(_)};return md(()=>{o&&b(o)},[o,b]),te.jsxs("button",{ref:t,className:mt(um(),{[um(w??"")]:w},i),disabled:m,onClick:A,"aria-expanded":c,id:v,"aria-controls":y,value:l,type:"button",...a,children:[p==="left"&&te.jsx(JL,{expanded:c}),te.jsx("span",{className:um("content"),children:r}),w&&!m&&te.jsx(YU,{className:um("statusIndicator"),status:w}),p==="right"&&te.jsx(JL,{expanded:c})]})});function J$(n,e=166,t=!1){let r;const i=function(...o){const a=()=>{n.apply(this,o)};clearTimeout(r),t&&a(),r=window.setTimeout(a,e)};return i.clear=()=>{clearTimeout(r)},i}const qU=({debounce:n=0}={})=>{const e=k.useContext(zU),t=k.useRef(!0),r=k.useCallback((o,a)=>{const l=e==null?void 0:e.announce;function c(){t.current&&l&&e.announce(o)}a?setTimeout(c,a):c()},[e]),i=k.useMemo(()=>n>0?J$(r,n):r,[r,n]),s=k.useMemo(()=>({...e,announce:i}),[e,i]);return k.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),s};function o0(n){return n===void 0||typeof n=="string"?n:`calc(var(--salt-spacing-100) * ${n})`}function K$(n){return typeof n=="object"&&!Array.isArray(n)}function Xo(n,e){if(n&&K$(n)){for(const t of e)if(n[t]!=null)return n[t];return}return n}const mE=sn("saltSpinner"),$$={small:{high:{width:12,strokeWidth:2},medium:{width:12,strokeWidth:2},low:{width:14,strokeWidth:2},touch:{width:16,strokeWidth:2}},medium:{high:{width:20,strokeWidth:2},medium:{width:28,strokeWidth:4},low:{width:36,strokeWidth:6},touch:{width:44,strokeWidth:8}},large:{high:{width:40,strokeWidth:2},medium:{width:56,strokeWidth:4},low:{width:72,strokeWidth:6},touch:{width:88,strokeWidth:8}}},Y$=({id:n="svg-spinner",rest:e,size:t,density:r})=>{const{width:i,strokeWidth:s}=$$[t][r],o=(i-s)/2;return te.jsxs("svg",{className:mE("spinner"),viewBox:`0 0 ${i} ${i}`,id:n,...e,children:[te.jsx("defs",{children:te.jsxs("linearGradient",{id:`${n}-1`,x1:"0",y1:"0",x2:"100%",y2:"0",children:[te.jsx("stop",{className:mE("gradientStop"),offset:"15%",stopOpacity:"1"}),te.jsx("stop",{className:mE("gradientStop"),offset:"100%",stopOpacity:"0"})]})}),te.jsxs("g",{fill:"none",children:[te.jsx("path",{d:`M${i-s/2},${i/2} a${o},${o} 0 1,0 -${i-s},0`,stroke:"var(--saltSpinner-gradient-color, var(--salt-accent-background)",strokeWidth:"var(--spinner-strokeWidth)",fill:"none"}),te.jsx("path",{d:`M${i/2},${s/2} a${o},${o} 0 1,0 0,${i-s}`,stroke:`url(#${n}-1)`,strokeWidth:"var(--spinner-strokeWidth)",fill:"none"})]})]})};var q$=`/* Styles applied to the root element */
.saltSpinner {
  position: relative;
}

/* Styles applied to the SVG stop elements */
.saltSpinner-gradientStop {
  stop-color: var(--saltSpinner-gradient-color, var(--salt-accent-background));
}

/* Styles applied when \`size="medium"\` */
.saltSpinner-medium {
  --spinner-strokeWidth: var(--salt-size-bar);
  height: var(--salt-size-base);
  width: var(--salt-size-base);
}

/* Styles applied when \`size="large"\` */
.saltSpinner-large {
  --spinner-strokeWidth: var(--salt-size-bar);
  height: calc(var(--salt-size-base) * 2);
  width: calc(var(--salt-size-base) * 2);
}

/* Styles applied when \`size="small"\` */
.saltSpinner-small {
  --spinner-strokeWidth: var(--salt-size-bar-small);
  height: var(--salt-size-icon);
  width: var(--salt-size-icon);
}

/* Styles applied to the SVG */
.saltSpinner-spinner {
  animation: spinner 0.9s linear infinite;
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
}

@keyframes spinner {
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
}
`;const Q$=n=>n==="default"?"medium":n,KL=sn("saltSpinner"),Z$=k.forwardRef(function({"aria-label":e="loading",announcerInterval:t=5e3,announcerTimeout:r=2e4,completionAnnouncement:i=`finished ${e}`,disableAnnouncer:s,role:o="img",className:a,size:l="medium",id:c,...d},p){const m=_h(c),v=rn();dn({testId:"salt-spinner",css:q$,window:v});const{announce:y}=qU(),b=yI();return l=Q$(l),k.useEffect(()=>{if(s)return;y(e);const w=new Date().getTime(),x=t>0&&setInterval(()=>{if(new Date().getTime()-w>r){y(`${e} is still in progress, but will no longer announce.`),x&&clearInterval(x);return}y(e)},t);return()=>{s||(x&&clearInterval(x),i&&y(i))}},[y,t,r,e,i,s]),te.jsx("div",{"aria-label":e,className:mt(KL(),KL(l),a),ref:p,role:o,...d,children:te.jsx(Y$,{size:l,density:b,id:m})})});var eY=`.saltButton {
  align-items: var(--saltButton-alignItems, center);
  appearance: none;
  background: var(--saltButton-background, var(--button-background));
  border-color: var(--saltButton-borderColor, var(--button-borderColor, transparent));
  border-style: var(--saltButton-borderStyle, solid);
  border-width: var(--saltButton-borderWidth, var(--salt-size-border, 0));
  border-radius: var(--saltButton-borderRadius, var(--salt-palette-corner-weak, 0));
  color: var(--saltButton-text-color, var(--button-text-color));
  cursor: var(--saltButton-cursor, pointer);
  display: inline-flex;
  gap: var(--salt-spacing-50);
  justify-content: var(--saltButton-justifyContent, center);
  font-size: var(--saltButton-fontSize, var(--salt-text-fontSize));
  font-family: var(--saltButton-fontFamily, var(--salt-text-action-fontFamily));
  line-height: var(--saltButton-lineHeight, var(--salt-text-lineHeight));
  letter-spacing: var(--saltButton-letterSpacing, var(--salt-text-action-letterSpacing));
  text-transform: var(--saltButton-textTransform, var(--salt-text-action-textTransform));
  padding: 0 var(--saltButton-padding, calc(var(--salt-spacing-100) - var(--saltButton-borderWidth, var(--salt-size-border, 0))));
  margin: var(--saltButton-margin, 0);
  height: var(--saltButton-height, var(--salt-size-base));
  min-width: var(--saltButton-minWidth, unset);
  position: relative;
  text-align: var(--saltButton-textAlign, var(--salt-text-action-textAlign));
  text-decoration: none;
  transition: none;
  width: var(--saltButton-width, auto);
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
  /* Styles applied to align children*/
  font-weight: var(--saltButton-fontWeight, var(--salt-text-action-fontWeight));
}

/* Pseudo-class applied to the root element on focus */
.saltButton:focus-visible {
  outline-style: var(--salt-focused-outlineStyle);
  outline-width: var(--salt-focused-outlineWidth);
  outline-color: var(--salt-focused-outlineColor);
  outline-offset: var(--salt-focused-outlineOffset);
  background: var(--saltButton-background-hover, var(--button-background-hover));
  color: var(--saltButton-text-color-hover, var(--button-text-color-hover));
  border-color: var(--saltButton-borderColor-hover, var(--button-borderColor-hover));
}

/* Pseudo-class applied to the root element on focus when Button is active */
.saltButton.saltButton-active:focus-visible,
.saltButton:focus-visible:active {
  background: var(--saltButton-background-active-hover, var(--button-background));
  color: var(--saltButton-text-color-active-hover, var(--button-text-color));
  border-color: var(--saltButton-borderColor-hover, var(--button-borderColor-hover));
}

/* Pseudo-class applied to the root element on hover when Button is not active or disabled */
.saltButton:hover {
  background: var(--saltButton-background-hover, var(--button-background-hover));
  color: var(--saltButton-text-color-hover, var(--button-text-color-hover));
  border-color: var(--saltButton-borderColor-hover, var(--button-borderColor-hover));
}

/* Pseudo-class applied to the root element when Button is active and not disabled */
.saltButton:active,
.saltButton.saltButton-active {
  background: var(--saltButton-background-active, var(--button-background-active));
  color: var(--saltButton-text-color-active, var(--button-text-color-active));
  border-color: var(--saltButton-borderColor-active, var(--button-borderColor-active));
}

/* Styles applied when the button triggers a dialog or menu */
.saltButton[aria-expanded="true"][aria-haspopup="menu"],
.saltButton[aria-expanded="true"][aria-haspopup="dialog"] {
  background: var(--saltButton-background-active, var(--button-background-active));
  color: var(--saltButton-text-color-active, var(--button-text-color-active));
  border-color: var(--saltButton-borderColor-active, var(--button-borderColor-active));
}

/* Pseudo-class applied to the root element if disabled={true} */
.saltButton:disabled,
.saltButton-disabled,
.saltButton-disabled:active,
.saltButton-disabled:focus-visible,
.saltButton-disabled:focus-visible:active,
.saltButton-disabled:hover {
  background: var(--saltButton-background-disabled, var(--button-background-disabled));
  color: var(--saltButton-text-color-disabled, var(--button-text-color-disabled));
  cursor: var(--saltButton-cursor-disabled, var(--salt-actionable-cursor-disabled));
  border-color: var(--saltButton-borderColor-disabled, var(--button-borderColor-disabled));
}

.saltButton-accented.saltButton-solid {
  --button-text-color: var(--salt-actionable-accented-bold-foreground);
  --button-text-color-hover: var(--salt-actionable-accented-bold-foreground-hover);
  --button-text-color-active: var(--salt-actionable-accented-bold-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-accented-bold-foreground-disabled);
  --button-background: var(--salt-actionable-accented-bold-background);
  --button-background-active: var(--salt-actionable-accented-bold-background-active);
  --button-background-disabled: var(--salt-actionable-accented-bold-background-disabled);
  --button-background-hover: var(--salt-actionable-accented-bold-background-hover);
  --button-borderColor: var(--salt-actionable-accented-bold-borderColor);
  --button-borderColor-hover: var(--salt-actionable-accented-bold-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-accented-bold-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-accented-bold-borderColor-disabled);
}

.saltButton-accented.saltButton-bordered {
  --button-text-color: var(--salt-actionable-accented-foreground);
  --button-text-color-hover: var(--salt-actionable-accented-foreground-hover);
  --button-text-color-active: var(--salt-actionable-accented-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-accented-foreground-disabled);
  --button-background: var(--salt-actionable-accented-background);
  --button-background-hover: var(--salt-actionable-accented-background-hover);
  --button-background-active: var(--salt-actionable-accented-background-active);
  --button-background-disabled: var(--salt-actionable-accented-background-disabled);
  --button-borderColor: var(--salt-actionable-accented-borderColor);
  --button-borderColor-hover: var(--salt-actionable-accented-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-accented-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-accented-borderColor-disabled);
}

.saltButton-accented.saltButton-transparent {
  --button-text-color: var(--salt-actionable-accented-subtle-foreground);
  --button-text-color-hover: var(--salt-actionable-accented-subtle-foreground-hover);
  --button-text-color-active: var(--salt-actionable-accented-subtle-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-accented-subtle-foreground-disabled);
  --button-background: var(--salt-actionable-accented-subtle-background);
  --button-background-hover: var(--salt-actionable-accented-subtle-background-hover);
  --button-background-active: var(--salt-actionable-accented-subtle-background-active);
  --button-background-disabled: var(--salt-actionable-accented-subtle-background-disabled);
  --button-borderColor: var(--salt-actionable-accented-subtle-borderColor);
  --button-borderColor-hover: var(--salt-actionable-accented-subtle-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-accented-subtle-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-accented-subtle-borderColor-disabled);
}

.saltButton-accented.saltButton-loading {
  --button-text-color: var(--salt-actionable-accented-background);
  --button-text-color-hover: var(--salt-actionable-accented-background);
  --button-text-color-active: var(--salt-actionable-accented-background);
  --button-text-color-disabled: var(--salt-actionable-accented-background);
  --button-background: var(--salt-actionable-accented-background);
  --button-background-hover: var(--salt-actionable-accented-background);
  --button-background-active: var(--salt-actionable-accented-background);
  --button-background-disabled: var(--salt-actionable-accented-background);
  --button-borderColor: var(--salt-actionable-accented-borderColor);
  --button-borderColor-hover: var(--salt-actionable-accented-borderColor);
  --button-borderColor-active: var(--salt-actionable-accented-borderColor);
  --button-borderColor-disabled: var(--salt-actionable-accented-borderColor);
  cursor: progress;
}

.saltButton-neutral.saltButton-solid {
  --button-text-color: var(--salt-actionable-bold-foreground);
  --button-text-color-hover: var(--salt-actionable-bold-foreground-hover);
  --button-text-color-active: var(--salt-actionable-bold-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-bold-foreground-disabled);
  --button-background: var(--salt-actionable-bold-background);
  --button-background-hover: var(--salt-actionable-bold-background-hover);
  --button-background-active: var(--salt-actionable-bold-background-active);
  --button-background-disabled: var(--salt-actionable-bold-background-disabled);
  --button-borderColor: var(--salt-actionable-bold-borderColor);
  --button-borderColor-hover: var(--salt-actionable-bold-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-bold-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-bold-borderColor-disabled);
}

.saltButton-neutral.saltButton-bordered {
  --button-text-color: var(--salt-actionable-foreground);
  --button-text-color-hover: var(--salt-actionable-foreground-hover);
  --button-text-color-active: var(--salt-actionable-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-foreground-disabled);
  --button-background: var(--salt-actionable-background);
  --button-background-hover: var(--salt-actionable-background-hover);
  --button-background-active: var(--salt-actionable-background-active);
  --button-background-disabled: var(--salt-actionable-background-disabled);
  --button-borderColor: var(--salt-actionable-borderColor);
  --button-borderColor-hover: var(--salt-actionable-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-borderColor-disabled);
}

.saltButton-neutral.saltButton-transparent {
  --button-text-color: var(--salt-actionable-subtle-foreground);
  --button-text-color-hover: var(--salt-actionable-subtle-foreground-hover);
  --button-text-color-active: var(--salt-actionable-subtle-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-subtle-foreground-disabled);
  --button-background: var(--salt-actionable-subtle-background);
  --button-background-hover: var(--salt-actionable-subtle-background-hover);
  --button-background-active: var(--salt-actionable-subtle-background-active);
  --button-background-disabled: var(--salt-actionable-subtle-background-disabled);
  --button-borderColor: var(--salt-actionable-subtle-borderColor);
  --button-borderColor-hover: var(--salt-actionable-subtle-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-subtle-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-subtle-borderColor-disabled);
}

.saltButton-neutral.saltButton-loading {
  --button-text-color: var(--salt-actionable-background);
  --button-text-color-hover: var(--salt-actionable-background);
  --button-text-color-active: var(--salt-actionable-background);
  --button-text-color-disabled: var(--salt-actionable-background);
  --button-background: var(--salt-actionable-background);
  --button-background-hover: var(--salt-actionable-background);
  --button-background-active: var(--salt-actionable-background);
  --button-background-disabled: var(--salt-actionable-background);
  --button-borderColor: var(--salt-actionable-borderColor);
  --button-borderColor-hover: var(--salt-actionable-borderColor);
  --button-borderColor-active: var(--salt-actionable-borderColor);
  --button-borderColor-disabled: var(--salt-actionable-borderColor);
  cursor: progress;
}

.saltButton-negative.saltButton-solid {
  --button-text-color: var(--salt-actionable-negative-bold-foreground);
  --button-text-color-hover: var(--salt-actionable-negative-bold-foreground-hover);
  --button-text-color-active: var(--salt-actionable-negative-bold-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-negative-bold-foreground-disabled);
  --button-background: var(--salt-actionable-negative-bold-background);
  --button-background-hover: var(--salt-actionable-negative-bold-background-hover);
  --button-background-active: var(--salt-actionable-negative-bold-background-active);
  --button-background-disabled: var(--salt-actionable-negative-bold-background-disabled);
  --button-borderColor: var(--salt-actionable-negative-bold-borderColor);
  --button-borderColor-hover: var(--salt-actionable-negative-bold-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-negative-bold-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-negative-bold-borderColor-disabled);
}

.saltButton-negative.saltButton-bordered {
  --button-text-color: var(--salt-actionable-negative-foreground);
  --button-text-color-hover: var(--salt-actionable-negative-foreground-hover);
  --button-text-color-active: var(--salt-actionable-negative-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-negative-foreground-disabled);
  --button-background: var(--salt-actionable-negative-background);
  --button-background-hover: var(--salt-actionable-negative-background-hover);
  --button-background-active: var(--salt-actionable-negative-background-active);
  --button-background-disabled: var(--salt-actionable-negative-background-disabled);
  --button-borderColor: var(--salt-actionable-negative-borderColor);
  --button-borderColor-hover: var(--salt-actionable-negative-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-negative-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-negative-borderColor-disabled);
}

.saltButton-negative.saltButton-transparent {
  --button-text-color: var(--salt-actionable-negative-subtle-foreground);
  --button-text-color-hover: var(--salt-actionable-negative-subtle-foreground-hover);
  --button-text-color-active: var(--salt-actionable-negative-subtle-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-negative-subtle-foreground-disabled);
  --button-background: var(--salt-actionable-negative-subtle-background);
  --button-background-hover: var(--salt-actionable-negative-subtle-background-hover);
  --button-background-active: var(--salt-actionable-negative-subtle-background-active);
  --button-background-disabled: var(--salt-actionable-negative-subtle-background-disabled);
  --button-borderColor: var(--salt-actionable-negative-subtle-borderColor);
  --button-borderColor-hover: var(--salt-actionable-negative-subtle-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-negative-subtle-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-negative-subtle-borderColor-disabled);
}

.saltButton-negative.saltButton-loading {
  --button-text-color: var(--salt-actionable-negative-background);
  --button-text-color-hover: var(--salt-actionable-negative-background);
  --button-text-color-active: var(--salt-actionable-negative-background);
  --button-text-color-disabled: var(--salt-actionable-negative-background);
  --button-background: var(--salt-actionable-negative-background);
  --button-background-hover: var(--salt-actionable-negative-background);
  --button-background-active: var(--salt-actionable-negative-background);
  --button-background-disabled: var(--salt-actionable-negative-background);
  --button-borderColor: var(--salt-actionable-negative-borderColor);
  --button-borderColor-hover: var(--salt-actionable-negative-borderColor);
  --button-borderColor-active: var(--salt-actionable-negative-borderColor);
  --button-borderColor-disabled: var(--salt-actionable-negative-borderColor);
  cursor: progress;
}

.saltButton-positive.saltButton-solid {
  --button-text-color: var(--salt-actionable-positive-bold-foreground);
  --button-text-color-hover: var(--salt-actionable-positive-bold-foreground-hover);
  --button-text-color-active: var(--salt-actionable-positive-bold-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-positive-bold-foreground-disabled);
  --button-background: var(--salt-actionable-positive-bold-background);
  --button-background-hover: var(--salt-actionable-positive-bold-background-hover);
  --button-background-active: var(--salt-actionable-positive-bold-background-active);
  --button-background-disabled: var(--salt-actionable-positive-bold-background-disabled);
  --button-borderColor: var(--salt-actionable-positive-bold-borderColor);
  --button-borderColor-hover: var(--salt-actionable-positive-bold-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-positive-bold-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-positive-bold-borderColor-disabled);
}

.saltButton-positive.saltButton-bordered {
  --button-text-color: var(--salt-actionable-positive-foreground);
  --button-text-color-hover: var(--salt-actionable-positive-foreground-hover);
  --button-text-color-active: var(--salt-actionable-positive-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-positive-foreground-disabled);
  --button-background: var(--salt-actionable-positive-background);
  --button-background-hover: var(--salt-actionable-positive-background-hover);
  --button-background-active: var(--salt-actionable-positive-background-active);
  --button-background-disabled: var(--salt-actionable-positive-background-disabled);
  --button-borderColor: var(--salt-actionable-positive-borderColor);
  --button-borderColor-hover: var(--salt-actionable-positive-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-positive-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-positive-borderColor-disabled);
}

.saltButton-positive.saltButton-transparent {
  --button-text-color: var(--salt-actionable-positive-subtle-foreground);
  --button-text-color-hover: var(--salt-actionable-positive-subtle-foreground-hover);
  --button-text-color-active: var(--salt-actionable-positive-subtle-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-positive-subtle-foreground-disabled);
  --button-background: var(--salt-actionable-positive-subtle-background);
  --button-background-hover: var(--salt-actionable-positive-subtle-background-hover);
  --button-background-active: var(--salt-actionable-positive-subtle-background-active);
  --button-background-disabled: var(--salt-actionable-positive-subtle-background-disabled);
  --button-borderColor: var(--salt-actionable-positive-subtle-borderColor);
  --button-borderColor-hover: var(--salt-actionable-positive-subtle-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-positive-subtle-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-positive-subtle-borderColor-disabled);
}

.saltButton-positive.saltButton-loading {
  --button-text-color: var(--salt-actionable-positive-background);
  --button-text-color-hover: var(--salt-actionable-positive-background);
  --button-text-color-active: var(--salt-actionable-positive-background);
  --button-text-color-disabled: var(--salt-actionable-positive-background);
  --button-background: var(--salt-actionable-positive-background);
  --button-background-hover: var(--salt-actionable-positive-background);
  --button-background-active: var(--salt-actionable-positive-background);
  --button-background-disabled: var(--salt-actionable-positive-background);
  --button-borderColor: var(--salt-actionable-positive-borderColor);
  --button-borderColor-hover: var(--salt-actionable-positive-borderColor);
  --button-borderColor-active: var(--salt-actionable-positive-borderColor);
  --button-borderColor-disabled: var(--salt-actionable-positive-borderColor);
  cursor: progress;
}

.saltButton-caution.saltButton-solid {
  --button-text-color: var(--salt-actionable-caution-bold-foreground);
  --button-text-color-hover: var(--salt-actionable-caution-bold-foreground-hover);
  --button-text-color-active: var(--salt-actionable-caution-bold-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-caution-bold-foreground-disabled);
  --button-background: var(--salt-actionable-caution-bold-background);
  --button-background-hover: var(--salt-actionable-caution-bold-background-hover);
  --button-background-active: var(--salt-actionable-caution-bold-background-active);
  --button-background-disabled: var(--salt-actionable-caution-bold-background-disabled);
  --button-borderColor: var(--salt-actionable-caution-bold-borderColor);
  --button-borderColor-hover: var(--salt-actionable-caution-bold-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-caution-bold-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-caution-bold-borderColor-disabled);
}

.saltButton-caution.saltButton-bordered {
  --button-text-color: var(--salt-actionable-caution-foreground);
  --button-text-color-hover: var(--salt-actionable-caution-foreground-hover);
  --button-text-color-active: var(--salt-actionable-caution-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-caution-foreground-disabled);
  --button-background: var(--salt-actionable-caution-background);
  --button-background-hover: var(--salt-actionable-caution-background-hover);
  --button-background-active: var(--salt-actionable-caution-background-active);
  --button-background-disabled: var(--salt-actionable-caution-background-disabled);
  --button-borderColor: var(--salt-actionable-caution-borderColor);
  --button-borderColor-hover: var(--salt-actionable-caution-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-caution-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-caution-borderColor-disabled);
}

.saltButton-caution.saltButton-transparent {
  --button-text-color: var(--salt-actionable-caution-subtle-foreground);
  --button-text-color-hover: var(--salt-actionable-caution-subtle-foreground-hover);
  --button-text-color-active: var(--salt-actionable-caution-subtle-foreground-active);
  --button-text-color-disabled: var(--salt-actionable-caution-subtle-foreground-disabled);
  --button-background: var(--salt-actionable-caution-subtle-background);
  --button-background-hover: var(--salt-actionable-caution-subtle-background-hover);
  --button-background-active: var(--salt-actionable-caution-subtle-background-active);
  --button-background-disabled: var(--salt-actionable-caution-subtle-background-disabled);
  --button-borderColor: var(--salt-actionable-caution-subtle-borderColor);
  --button-borderColor-hover: var(--salt-actionable-caution-subtle-borderColor-hover);
  --button-borderColor-active: var(--salt-actionable-caution-subtle-borderColor-active);
  --button-borderColor-disabled: var(--salt-actionable-caution-subtle-borderColor-disabled);
}

.saltButton-caution.saltButton-loading {
  --button-text-color: var(--salt-actionable-caution-background);
  --button-text-color-hover: var(--salt-actionable-caution-background);
  --button-text-color-active: var(--salt-actionable-caution-background);
  --button-text-color-disabled: var(--salt-actionable-caution-background);
  --button-background: var(--salt-actionable-caution-background);
  --button-background-hover: var(--salt-actionable-caution-background);
  --button-background-active: var(--salt-actionable-caution-background);
  --button-background-disabled: var(--salt-actionable-caution-background);
  --button-borderColor: var(--salt-actionable-caution-borderColor);
  --button-borderColor-hover: var(--salt-actionable-caution-borderColor);
  --button-borderColor-active: var(--salt-actionable-caution-borderColor);
  --button-borderColor-disabled: var(--salt-actionable-caution-borderColor);
  cursor: progress;
}

.saltButton strong {
  font-weight: var(--salt-text-action-fontWeight-strong);
}

.saltButton small {
  font-size: inherit;
  font-weight: var(--salt-text-action-fontWeight-small);
}

.saltButton-spinner {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.saltButton-sr-only {
  position: fixed;
  top: 0;
  left: 0;
  transform: translate(-100%, -100%);
}
`;const tY=({loading:n,disabled:e,focusableWhenDisabled:t,onKeyUp:r,onKeyDown:i,onClick:s,onBlur:o})=>{const[a,l]=k.useState(""),[c,d]=k.useState(!1),p="Enter",m=" ";return k.useEffect(()=>{const A=setTimeout(()=>{a!==p&&a!==m&&d(!1)},0);return()=>{clearTimeout(A)}},[c,a]),{active:c,buttonProps:{"aria-disabled":e&&t?!0:void 0,"data-loading":n,disabled:e&&!t,tabIndex:e&&!t?-1:0,onBlur:A=>{d(!1),o==null||o(A)},onClick:!n&&!e?A=>{d(!0),s==null||s(A)}:void 0,onKeyDown:A=>{(A.key===p||A.key===m)&&(l(A.key),d(!0)),i==null||i(A)},onKeyUp:A=>{l(""),d(!1),r==null||r(A)}}}},Vl=sn("saltButton");function nY(n){switch(n){case"primary":return{appearance:"solid",sentiment:"neutral"};case"secondary":return{appearance:"transparent",sentiment:"neutral"};case"cta":return{appearance:"solid",sentiment:"accented"}}}const rY=k.forwardRef(function({children:e,className:t,disabled:r,focusableWhenDisabled:i,onKeyUp:s,onKeyDown:o,onBlur:a,onClick:l,loading:c,loadingAnnouncement:d,appearance:p,sentiment:m,type:v="button",variant:y="primary",...b},w){const{active:x,buttonProps:A}=tY({loading:c,disabled:r,focusableWhenDisabled:i,onKeyUp:s,onKeyDown:o,onBlur:a,onClick:l}),_=rn();dn({testId:"salt-button",css:eY,window:_});const T=nY(y),R=p??(T==null?void 0:T.appearance)??"solid",P=m??(T==null?void 0:T.sentiment)??"neutral",{tabIndex:D,...N}=A;return te.jsxs("button",{...N,className:mt(Vl(),Vl(y),{[Vl("loading")]:c,[Vl("disabled")]:r,[Vl("active")]:x,[Vl(R)]:R,[Vl(P)]:P},t),...b,ref:w,type:v,children:[c&&te.jsx("div",{className:Vl("spinner"),"aria-hidden":!0,children:te.jsx(Z$,{size:"small","aria-hidden":!0,disableAnnouncer:!0})}),typeof d=="string"&&te.jsx("span",{role:"status",className:Vl("sr-only"),children:d}),e]})});function HS(n){return n.length>0?n[0].toUpperCase()+n.slice(1):n}var iY=`/* Styles applied to the root element */
.saltCard {
  border-width: var(--saltCard-borderWidth, var(--salt-size-border));
  border-style: var(--salt-container-borderStyle);
  padding: var(--saltCard-padding, var(--salt-spacing-200));
  position: relative;
  box-shadow: var(--salt-overlayable-shadow);
  transition: box-shadow var(--salt-duration-instant) ease-in-out;
  box-sizing: border-box;
  border-radius: var(--saltCard-borderRadius, var(--salt-palette-corner, 0));
  overflow: hidden;
  --card-accent-color: var(--salt-accent-background);
}

.saltCard-primary {
  background: var(--saltCard-background, var(--salt-container-primary-background));
  border-color: var(--salt-container-primary-borderColor);
}

.saltCard-secondary {
  background: var(--saltCard-background, var(--salt-container-secondary-background));
  border-color: var(--salt-container-secondary-borderColor);
}

.saltCard-tertiary {
  background: var(--saltCard-background, var(--salt-container-tertiary-background));
  border-color: var(--salt-container-tertiary-borderColor);
}

.saltCard-ghost {
  background: var(--saltCard-background, var(--salt-container-ghost-background));
  border-color: var(--salt-container-ghost-borderColor);
}

/* Styles applied to create accent */
.saltCard-accent::after {
  content: "";
  position: absolute;
  background-color: var(--saltCard-accent-color, var(--card-accent-color));
}

/* Styles applied to Card if \`accent="bottom"\` (default) */
.saltCard-accentBottom::after {
  left: calc(-1 * var(--salt-size-border));
  bottom: calc(-1 * var(--salt-size-border));
  height: var(--salt-size-bar);
  width: calc(100% + calc(2 * var(--salt-size-border)));
}

/* Styles applied to Card if \`accent="left"\` */
.saltCard-accentLeft::after {
  left: calc(-1 * var(--salt-size-border));
  top: calc(-1 * var(--salt-size-border));
  height: calc(100% + calc(2 * var(--salt-size-border)));
  width: var(--salt-size-bar);
}

/* Styles applied to Card if \`accent="top"\` */
.saltCard-accentTop::after {
  left: calc(-1 * var(--salt-size-border));
  top: calc(-1 * var(--salt-size-border));
  height: var(--salt-size-bar);
  width: calc(100% + calc(2 * var(--salt-size-border)));
}

/* Styles applied to Card if \`accent="right"\` */
.saltCard-accentRight::after {
  right: calc(-1 * var(--salt-size-border));
  top: calc(-1 * var(--salt-size-border));
  height: calc(100% + calc(2 * var(--salt-size-border)));
  width: var(--salt-size-bar);
}

/*
 * **Deprecated:** The following styles are deprecated
 *  Use Interactable Card component instead
 *  for interactable styling
 */

/* **Deprecated:** Styles applied if \`interactable={true}\` */
.saltCard-interactable {
  display: block;
  transition: none;
}

/* **Deprecated:** Styles applied on hover if \`interactable={true}\` */
a:focus .saltCard-interactable,
.saltCard-interactable:hover {
  box-shadow: var(--saltCard-boxShadow-hover, var(--salt-overlayable-shadow-hover));
  cursor: var(--saltCard-cursor-hover, var(--salt-selectable-cursor-hover));
  border-color: var(--salt-actionable-accented-borderColor-hover);
  position: relative;
}

/* Styles applied if \`hoverable\` is set */
@media (hover: hover) {
  .saltCard-hoverable:hover {
    box-shadow: var(--saltCard-boxShadow-hover, var(--salt-overlayable-shadow-hover));
    border-color: var(--salt-actionable-accented-borderColor-hover);
  }
}

/* **Deprecated:** Styles applied on active state if \`interactable={true}\` */
.saltCard-interactable:active {
  border-color: var(--salt-actionable-accented-borderColor-active);
  box-shadow: var(--saltCard-boxShadow-active, var(--salt-overlayable-shadow-hover));
  outline: var(--salt-focused-outline);
  outline-offset: var(--salt-focused-outlineOffset);
}

/* **Deprecated:** Styles applied on hover if \`interactable={true}\` and \`disabled={true}\` */
a:focus .saltCard-interactable.saltCard-disabled,
.saltCard-interactable.saltCard-disabled:hover,
.saltCard-interactable.saltCard-disabled:active {
  box-shadow: var(--saltCard-boxShadow-disabled, var(--salt-overlayable-shadow));
}

/* **Deprecated:** Styles applied if \`disabled={true}\` */
.saltCard-disabled,
.saltCard-disabled.saltCard-interactable,
a:focus .saltCard-interactable.saltCard-disabled {
  border-color: var(--salt-container-primary-borderColor-disabled);
  color: var(--saltCard-color-disabled, var(--salt-content-primary-foreground-disabled));
  cursor: var(--saltCard-cursor-disabled, var(--salt-selectable-cursor-disabled));
  outline: none;
}

/* **Deprecated:** Styles applied to nested divs if \`disabled={true}\` */
.saltCard-disabled div {
  pointer-events: none;
}
`;const tf=sn("saltCard"),i0e=k.forwardRef(function(e,t){const{accent:r,children:i,className:s,disabled:o,interactable:a,hoverable:l,variant:c="primary",...d}=e,p=rn();return dn({testId:"salt-card",css:iY,window:p}),te.jsx("div",{className:mt(tf(),tf(c),{[tf("accent")]:r,[tf(`accent${HS(r||"")}`)]:r,[tf("hoverable")]:l,[tf("disabled")]:o,[tf("interactable")]:a},s),ref:t,...d,children:i})}),QU=pd("FormFieldContext",{});function rg(){return k.useContext(QU)||{}}function $L(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function $o(n,e){return k.useMemo(()=>n==null&&e==null?()=>null:t=>{$L(n,t),$L(e,t)},[n,e])}var sY=`.saltCheckboxIcon {
  --checkbox-size: var(--salt-size-selectable);
  width: var(--checkbox-size);
  min-width: var(--checkbox-size);
  height: var(--checkbox-size);
  min-height: var(--checkbox-size);
  border: var(--salt-size-border) var(--salt-selectable-borderStyle) var(--salt-selectable-borderColor);
  border-radius: var(--salt-palette-corner-weaker, 0);
  color: var(--salt-selectable-foreground);
  background: var(--salt-container-primary-background);
  position: relative;
  --saltIcon-size: 100%;
  display: flex;
  /* Using overflow:hidden here causes a thin white line */
  clip-path: border-box;
  box-sizing: border-box;
}

.saltCheckboxIcon-checked,
.saltCheckbox:hover .saltCheckboxIcon-checked {
  border-color: var(--salt-selectable-borderColor-selected);
  color: var(--salt-selectable-foreground-selected);
}

.saltCheckbox:hover .saltCheckboxIcon,
.saltCheckbox:hover .saltCheckboxIcon-indeterminate {
  border-color: var(--salt-selectable-borderColor-hover);
  color: var(--salt-selectable-foreground-hover);
}

.saltCheckboxIcon-checked.saltCheckboxIcon-indeterminate {
  border-color: var(--salt-selectable-borderColor);
  color: var(--salt-selectable-foreground);
}

.saltCheckboxIcon-disabled,
.saltCheckbox:hover .saltCheckboxIcon-disabled,
.saltCheckboxIcon-disabled.saltCheckboxIcon-indeterminate,
.saltCheckbox:hover .saltCheckboxIcon-disabled.saltCheckboxIcon-indeterminate {
  border-color: var(--salt-selectable-borderColor-disabled);
  background: var(--salt-container-primary-background-disabled);
  color: var(--salt-selectable-foreground-disabled);
}

.saltCheckboxIcon-checked.saltCheckboxIcon-disabled,
.saltCheckbox:hover .saltCheckboxIcon-checked.saltCheckboxIcon-disabled {
  border-color: var(--salt-selectable-borderColor-selectedDisabled);
  color: var(--salt-selectable-foreground-selectedDisabled);
}

.saltCheckboxIcon-indeterminate::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: calc(var(--checkbox-size) - 6px);
  height: 2px;
  background: currentColor;
  transform: translate(-50%, -50%);
}

.saltCheckboxIcon-error,
.saltCheckbox:hover .saltCheckboxIcon-error {
  color: var(--salt-status-error-foreground-decorative);
  border-color: var(--salt-status-error-borderColor);
  outline-color: var(--salt-status-error-foreground-decorative);
}

.saltCheckboxIcon-warning,
.saltCheckbox:hover .saltCheckboxIcon-warning {
  color: var(--salt-status-warning-foreground-decorative);
  border-color: var(--salt-status-warning-borderColor);
  outline-color: var(--salt-status-warning-foreground-decorative);
}

.saltCheckboxIcon-readOnly,
.saltCheckbox:hover .saltCheckboxIcon-readOnly {
  border-color: var(--salt-selectable-borderColor-readonly);
  color: var(--salt-content-primary-foreground);
}

.saltCheckboxIcon > svg {
  position: absolute;
  /* Ensure a gap doesn't appear when device scaling is used */
  transform: scale(1.01);
}
`;const jl=sn("saltCheckboxIcon");function oY(n){return yI()==="high"?te.jsx(k$,{...n}):te.jsx(D$,{...n})}function aY(n){return yI()==="high"?te.jsx(L$,{...n}):te.jsx(B$,{...n})}const lY=({checked:n=!1,className:e,disabled:t,error:r,indeterminate:i,validationStatus:s,readOnly:o})=>{const a=rn();return dn({testId:"salt-checkbox-icon",css:sY,window:a}),te.jsxs("div",{"aria-hidden":"true",className:mt(jl(),{[jl("checked")]:n,[jl("disabled")]:t,[jl("error")]:r,[jl(s||"")]:s,[jl("indeterminate")]:i,[jl("readOnly")]:o},e),children:[n&&!i&&!o&&te.jsx(oY,{className:jl("icon")}),n&&!i&&o&&te.jsx(aY,{className:jl("icon")})]})};function cY(n,e){if(n.length===0)return[0,!1];if(e.compareDocumentPosition(n[n.length-1].element)&Node.DOCUMENT_POSITION_PRECEDING)return[-1,!1];if(e.compareDocumentPosition(n[0].element)&Node.DOCUMENT_POSITION_FOLLOWING)return[0,!1];let t=0,r=n.length,i=0,s=r,o=!1;for(;t<r;){const a=Math.floor((r+t)/2),l=e.compareDocumentPosition(n[a].element);if(l&Node.DOCUMENT_POSITION_PRECEDING?t=a:l&Node.DOCUMENT_POSITION_FOLLOWING?r=a:(r=a,t=a,o=!0),i===t&&s===r)break;i=t,s=r}return[r,o]}function bI(n){return String(n)}function uY(n){const{open:e,defaultOpen:t,onOpenChange:r,multiselect:i,defaultSelected:s,selected:o,onSelectionChange:a,disabled:l,readOnly:c,valueToString:d=bI}=n,[p,m]=k.useState(!1),[v,y]=k.useState(!1);k.useEffect(()=>{l&&p&&(m(!1),y(!1))},[l,p]);const[b,w]=k.useState(void 0),x=ie=>{w(ie||void 0)},[A,_]=Sc({controlled:e,default:!!t,name:"ListControl",state:"open"}),T=k.useRef(void 0),R=(ie,oe,he)=>{l||c||(_(ie),T.current=he,ie!==A&&(r==null||r(ie,oe)))},[P,D]=Sc({controlled:o,default:s??[],name:"ListControl",state:"selected"}),N=(ie,oe)=>{if(oe.disabled||c||l)return;let he=[oe.value];i&&(P.includes(oe.value)?he=P.filter(pe=>pe!==oe.value):he=P.concat([oe.value])),D(he),a==null||a(ie,he),i||R(!1)},L=ie=>{D([]),P.length!==0&&(a==null||a(ie,[]))},M=k.useRef([]),U=k.useCallback((ie,oe)=>{const{id:he}=ie,[pe,q]=cY(M.current,oe);return q||(pe===-1?M.current.push({data:ie,element:oe}):M.current.splice(pe,0,{data:ie,element:oe})),()=>{M.current=M.current.filter(Ie=>Ie.data.id!==he)}},[]),V=ie=>M.current[ie],H=ie=>M.current.findIndex(oe=>oe.data.id===ie.id),j=ie=>M.current.filter(oe=>ie(oe.data)),K=(ie,oe)=>{const he=new Intl.Collator("en",{usage:"search",sensitivity:"base"}),pe=oe?H(oe)+1:0,q=M.current.map(ke=>ke.data);let Ie=q.filter(ke=>he.compare(d(ke.value).substring(0,ie.length),ie)===0);if(Ie.length===0){const ke=ie.split("");ke.length>0&&ke.every(Le=>he.compare(Le,ke[0])===0)&&(Ie=q.filter(Le=>he.compare(d(Le.value)[0].toLowerCase(),ke[0])===0))}return Ie.find(ke=>H(ke)>=pe)},ee=()=>V(0),ne=()=>V(M.current.length-1),z=ie=>{const oe=H(ie);return V(oe-1)},G=ie=>{const oe=H(ie);return V(oe+1)},Y=k.useRef(null),le=ie=>{var oe;const he=Y.current;let pe=M.current.find(Le=>Le.data===ie);if(!he||!pe)return;const q=he.getBoundingClientRect();let Ie=pe.element.getBoundingClientRect();const ke=q.y-he.scrollTop,xe=Math.max(0,Ie.y-ke+Ie.height-q.height);for(;pe&&Ie&&Ie.y-ke>xe;)pe=z(pe.data),Ie=(oe=pe==null?void 0:pe.element)==null?void 0:oe.getBoundingClientRect();return pe??ee()},ge=ie=>{const oe=Y.current;let he=M.current.find(xe=>xe.data===ie);if(!oe||!he)return;const pe=oe.getBoundingClientRect();let q=he.element.getBoundingClientRect();const Ie=pe.y-oe.scrollTop,ke=Math.min(oe.scrollHeight,q.y-Ie-q.height+pe.height);for(;he&&q&&q.y-Ie<ke;)he=G(he.data),q=he==null?void 0:he.element.getBoundingClientRect();return he??ne()};return k.useEffect(()=>{var ie;if(Y.current){const oe=(ie=M.current.find(he=>he.data===b))==null?void 0:ie.element;if(!oe)return;oe.scrollIntoView({block:"nearest",inline:"nearest"})}},[b]),{multiselect:!!i,openState:A,setOpen:R,openKey:T,activeState:b,setActive:x,selectedState:P,setSelectedState:D,select:N,clear:L,focusVisibleState:v,setFocusVisibleState:y,focusedState:p,setFocusedState:m,listRef:Y,options:M.current.map(ie=>ie.element),register:U,getOptionAtIndex:V,getIndexOfOption:H,getOptionsMatching:j,getOptionFromSearch:K,getOptionAfter:G,getOptionBefore:z,getOptionPageAbove:le,getOptionPageBelow:ge,getFirstOption:ee,getLastOption:ne,valueToString:d,disabled:l}}const ZU=pd("ListControlContext",{openState:!1,setOpen(){},register(){return()=>{}},selectedState:[],select(){},activeState:void 0,setActive(){},multiselect:!1,focusVisibleState:!1,valueToString:bI,disabled:!1});function dY(){return k.useContext(ZU)}var fY=`.saltOptionList {
  background: var(--salt-container-primary-background);
  border: var(--salt-size-border) var(--salt-selectable-borderStyle-selected) var(--salt-selectable-borderColor-selected);
  border-radius: var(--salt-palette-corner, 0);
  overflow: hidden;
  overflow-y: auto;
  position: relative;
  z-index: var(--salt-zIndex-flyover);
  box-shadow: var(--salt-overlayable-shadow-popout);
  box-sizing: border-box;
}

.saltOptionList-container {
  display: flex;
  flex-direction: column;
  gap: var(--salt-size-border);
  max-height: inherit;
  min-height: inherit;
}

.saltOptionList-collapsed {
  display: none;
}
`;const hY=sn("saltOptionList"),pY=k.forwardRef(function(e,t){const{children:r,className:i,...s}=e,o=rn();return dn({testId:"salt-option-list",css:fY,window:o}),te.jsx("div",{className:mt(hY("container"),i),...s,ref:t,children:r})}),YL=sn("saltOptionList"),mY=k.forwardRef(function(e,t){const{children:r,className:i,collapsed:s,open:o,...a}=e,{Component:l}=US();return te.jsx(l,{className:mt(YL(),{[YL("collapsed")]:s},i),role:"listbox",open:o,...a,ref:t,children:te.jsx(pY,{children:r})})}),gY=k.forwardRef(function({children:e,className:t,...r},i){return te.jsx("svg",{className:t,...r,role:"img",ref:i,viewBox:"0 0 8 8",children:te.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8C6.20914 8 8 6.20914 8 4C8 1.79086 6.20914 0 4 0C1.79086 0 0 1.79086 0 4C0 6.20914 1.79086 8 4 8Z"})})}),vY=k.forwardRef(function({children:e,className:t,...r},i){return te.jsx("svg",{className:t,...r,role:"img",viewBox:"0 0 10 8",ref:i,children:te.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.92089 5.95735L8.96399 0L10 1.02133L2.92088 8L0 5.1205L1.03602 4.09918L2.92089 5.95735Z"})})}),yY=k.forwardRef(function({children:e,className:t,...r},i){return te.jsx("svg",{className:t,...r,role:"img",viewBox:"0 0 9 8",ref:i,children:te.jsx("path",{d:"M0 8L4.5 0L9 8H0Z"})})});var xY=`.saltStatusAdornment {
  align-self: center;
  display: inline-block;
  fill: var(--saltStatusAdornment-color, var(--statusAdornment-color));
  height: var(--salt-size-adornment);
  min-height: var(--salt-size-adornment);
  padding-left: var(--salt-spacing-100);
  position: relative;
}

.saltStatusAdornment-error {
  --statusAdornment-color: var(--salt-status-error-foreground-decorative);
}

.saltStatusAdornment-warning {
  --statusAdornment-color: var(--salt-status-warning-foreground-decorative);
}

.saltStatusAdornment-success {
  --statusAdornment-color: var(--salt-status-success-foreground-decorative);
}
`;const bY={error:gY,warning:yY,success:vY},_Y={error:"error",warning:"warning",success:"success"},qL=sn("saltStatusAdornment"),ez=k.forwardRef(function({className:e,status:t,...r},i){const s=bY[t],o=_Y[t],a=rn();return dn({testId:"salt-status-adornment",css:xY,window:a}),te.jsx(s,{className:mt(qL(),qL(t),e),"aria-label":o,...r,ref:i})});var wY=`/* Style applied to the root element */
.saltScrim {
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  bottom: 0;
  height: 100%;
  display: flex;
  z-index: calc(var(--salt-zIndex-drawer) - 1);
  position: absolute;
  align-items: center;
  justify-content: center;
  background: var(--saltScrim-background, var(--salt-overlayable-background));
  -webkit-tap-highlight-color: transparent;
}

.saltScrim:focus {
  outline: none;
}

/* Style applied to the root element when fixed={true} */
.saltScrim-fixed {
  position: fixed;
}
`;const QL=sn("saltScrim"),SY=k.forwardRef(function({className:e,children:t,fixed:r=!1,open:i=!0,...s},o){const a=rn();return dn({testId:"salt-scrim",css:wY,window:a}),i?te.jsx("div",{className:mt(QL(),{[QL("fixed")]:r},e),"data-testid":"scrim",ref:o,...s,children:t}):null});var AY=`.saltText {
  --text-color: currentColor;
}

/* Main css class. Style for body text */
.saltText {
  color: var(--saltText-color, var(--text-color));
  font-family: var(--saltText-fontFamily, var(--salt-text-fontFamily));
  font-size: var(--saltText-fontSize, var(--salt-text-fontSize));
  line-height: var(--saltText-lineHeight, var(--salt-text-lineHeight));
  font-weight: var(--saltText-fontWeight, var(--salt-text-fontWeight));
  letter-spacing: var(--salt-text-letterSpacing);
}

.saltText::selection {
  background: var(--saltText-highlight, var(--salt-content-foreground-highlight));
}

/* Allows truncation */
.saltText-lineClamp {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: var(--text-max-rows, 0);
  overflow: hidden;
  word-break: break-word;
}

/* Primary variant */
.saltText-primary {
  --text-color: var(--salt-content-primary-foreground);
}

/* Disabled primary variant */
.saltText-primary.saltText-disabled {
  --text-color: var(--salt-content-primary-foreground-disabled);
}

/* Secondary variant */
.saltText-secondary {
  --text-color: var(--salt-content-secondary-foreground);
}

/* Disabled secondary variant */
.saltText-secondary.saltText-disabled {
  --text-color: var(--salt-content-secondary-foreground-disabled);
}

/* Info color */
.saltText-info {
  --text-color: var(--salt-status-info-foreground-informative);
}

/* Error color */
.saltText-error {
  --text-color: var(--salt-status-error-foreground-informative);
}

/* Warning color */
.saltText-warning {
  --text-color: var(--salt-status-warning-foreground-informative);
}

/* Success color */
.saltText-success {
  --text-color: var(--salt-status-success-foreground-informative);
}

/* Body emphasis strong */
.saltText strong {
  font-weight: var(--salt-text-fontWeight-strong);
}

/* Body emphasis small */
.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-fontWeight-small);
}

/* Notation */
.saltText-notation.saltText {
  font-family: var(--salt-text-notation-fontFamily);
  font-size: var(--salt-text-notation-fontSize);
  line-height: var(--salt-text-notation-lineHeight);
  font-weight: var(--salt-text-fontWeight);
}

/* Notation emphasis strong */
.saltText-notation.saltText strong {
  font-weight: var(--salt-text-notation-fontWeight-strong);
}

/* Notation emphasis small */
.saltText-notation.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-notation-fontWeight-small);
}

/* Action */
.saltText-action.saltText {
  font-family: var(--salt-text-action-fontFamily);
  letter-spacing: var(--salt-text-action-letterSpacing);
  text-transform: var(--salt-text-action-textTransform);
  text-align: var(--salt-text-action-textAlign);
  font-weight: var(--salt-text-action-fontWeight);
}
.saltText-action.saltText strong {
  font-weight: var(--salt-text-action-fontWeight-strong);
}
.saltText-action.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-action-fontWeight-small);
}

/* Code */
code.saltText,
.saltText-code.saltText {
  font-family: var(--salt-text-code-fontFamily);
}

/* Display 1 */
.saltText-display1.saltText {
  font-family: var(--salt-text-display1-fontFamily);
  font-size: var(--salt-text-display1-fontSize);
  font-weight: var(--salt-text-display1-fontWeight);
  line-height: var(--salt-text-display1-lineHeight);
}

/* Display 1 emphasis strong */
.saltText-display1.saltText strong {
  font-size: inherit;
  font-weight: var(--salt-text-display1-fontWeight-strong);
}

/* Display 1 emphasis small */
.saltText-display1.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-display1-fontWeight-small);
}

/* Display 2 */
.saltText-display2.saltText {
  font-family: var(--salt-text-display2-fontFamily);
  font-size: var(--salt-text-display2-fontSize);
  font-weight: var(--salt-text-display2-fontWeight);
  line-height: var(--salt-text-display2-lineHeight);
}

/* Display 2 emphasis strong */
.saltText-display2.saltText strong {
  font-size: inherit;
  font-weight: var(--salt-text-display2-fontWeight-strong);
}

/* Display 2 emphasis small */
.saltText-display2.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-display2-fontWeight-small);
}

/* Display 3 */
.saltText-display3.saltText {
  font-family: var(--salt-text-display3-fontFamily);
  font-size: var(--salt-text-display3-fontSize);
  font-weight: var(--salt-text-display3-fontWeight);
  line-height: var(--salt-text-display3-lineHeight);
}

/* Display 3 emphasis strong */
.saltText-display3.saltText strong {
  font-size: inherit;
  font-weight: var(--salt-text-display3-fontWeight-strong);
}

/* Display 3 emphasis small */
.saltText-display3.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-display3-fontWeight-small);
}

/* Display 4 */
.saltText-display4.saltText {
  font-family: var(--salt-text-display4-fontFamily);
  font-size: var(--salt-text-display4-fontSize);
  font-weight: var(--salt-text-display4-fontWeight);
  line-height: var(--salt-text-display4-lineHeight);
}

/* Display 4 emphasis strong */
.saltText-display4.saltText strong {
  font-size: inherit;
  font-weight: var(--salt-text-display4-fontWeight-strong);
}

/* Display 4 emphasis small */
.saltText-display4.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-display4-fontWeight-small);
}

/* Heading 1 */
h1.saltText,
.saltText-h1.saltText {
  font-family: var(--salt-text-h1-fontFamily);
  font-size: var(--salt-text-h1-fontSize);
  font-weight: var(--salt-text-h1-fontWeight);
  line-height: var(--salt-text-h1-lineHeight);
}

/* H1 emphasis strong */
h1.saltText strong,
.saltText-h1.saltText strong {
  font-weight: var(--salt-text-h1-fontWeight-strong);
}

/* H1 emphasis small */
h1.saltText small,
.saltText-h1.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-h1-fontWeight-small);
}

/* Heading 2 */
h2.saltText,
.saltText-h2.saltText {
  font-family: var(--salt-text-h2-fontFamily);
  font-size: var(--salt-text-h2-fontSize);
  font-weight: var(--salt-text-h2-fontWeight);
  line-height: var(--salt-text-h2-lineHeight);
}

/* H2 emphasis strong */
h2.saltText strong,
.saltText-h2.saltText strong {
  font-weight: var(--salt-text-h2-fontWeight-strong);
}

/* H2 emphasis small */
h2.saltText small,
.saltText-h2.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-h2-fontWeight-small);
}

/* Heading 3 */
h3.saltText,
.saltText-h3.saltText {
  font-family: var(--salt-text-h3-fontFamily);
  font-size: var(--salt-text-h3-fontSize);
  font-weight: var(--salt-text-h3-fontWeight);
  line-height: var(--salt-text-h3-lineHeight);
}

/* H3 emphasis strong */
h3.saltText strong,
.saltText-h3.saltText strong {
  font-weight: var(--salt-text-h3-fontWeight-strong);
}

/* H3 emphasis small */
h3.saltText small,
.saltText-h3.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-h3-fontWeight-small);
}

/* Heading 4 */
h4.saltText,
.saltText-h4.saltText {
  font-family: var(--salt-text-h4-fontFamily);
  font-size: var(--salt-text-h4-fontSize);
  font-weight: var(--salt-text-h4-fontWeight);
  line-height: var(--salt-text-h4-lineHeight);
}

/* H4 emphasis strong */
h4.saltText strong,
.saltText-h4.saltText strong {
  font-weight: var(--salt-text-h4-fontWeight-strong);
}

/* H4 emphasis small */
h4.saltText small,
.saltText-h4.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-h4-fontWeight-small);
}

/* Label */
label.saltText,
.saltText-label.saltText {
  font-family: var(--salt-text-label-fontFamily);
  font-size: var(--salt-text-label-fontSize);
  line-height: var(--salt-text-label-lineHeight);
  font-weight: var(--salt-text-fontWeight);
}

/* Label emphasis strong */
label.saltText strong,
.saltText-label.saltText strong {
  font-weight: var(--salt-text-label-fontWeight-strong);
}

/* Label emphasis small */
label.saltText small,
.saltText-label.saltText small {
  font-size: inherit;
  font-weight: var(--salt-text-fontWeight-small);
}
`;const wv=sn("saltText"),zm=k.forwardRef(function({as:e,children:t,className:r,disabled:i=!1,maxRows:s,style:o,styleAs:a,variant:l,color:c,...d},p){const m=rn();dn({testId:"salt-text",css:AY,window:m});const v=e??"div",y={"--text-max-rows":s,...o},b=l??c??"primary";return te.jsx(v,{className:mt(wv(),{[wv("disabled")]:i,[wv("lineClamp")]:s,[wv(a)]:a,[wv(b)]:b!=="inherit"},r),...d,ref:p,style:y,children:t})}),EY=k.forwardRef(function({children:e,...t},r){return te.jsx(zm,{as:"label",ref:r,...t,children:e})});var CY=`/* Styles applied to Drawer component */
.saltDrawer {
  background: var(--drawer-background);
  display: flex;
  flex-direction: column;
  max-height: 100%;
  max-width: 100%;
  overflow: auto;
  padding: var(--salt-spacing-300);
  box-shadow: var(--salt-overlayable-shadow-modal);
  z-index: var(--salt-zIndex-drawer);
  position: fixed;
  top: 0;
  box-sizing: border-box;
}

/* Styles applied when variant = "primary" */
.saltDrawer-primary {
  --drawer-background: var(--salt-container-primary-background);
}

/* Styles applied when variant = "secondary" */
.saltDrawer-secondary {
  --drawer-background: var(--salt-container-secondary-background);
}

/* Styles applied when position = "top" */
.saltDrawer-top {
  left: 0;
  right: 0;
  bottom: auto;
}

/* Styles applied when position = "top" and the component mounts */
.saltDrawer-top.saltDrawer-enterAnimation {
  animation: var(--salt-animation-slide-in-bottom);
}

/* Styles applied when position = "top" and the component unmounts */
.saltDrawer-top.saltDrawer-exitAnimation {
  animation: var(--salt-animation-slide-out-bottom);
}

/* Styles applied when position = "right" */
.saltDrawer-right {
  left: auto;
  right: 0;
  height: 100%;
}

/* Styles applied when position = "right" and the component mounts */
.saltDrawer-right.saltDrawer-enterAnimation {
  animation: var(--salt-animation-slide-in-right);
}

/* Styles applied when position = "right" and the component unmounts */
.saltDrawer-right.saltDrawer-exitAnimation {
  animation: var(--salt-animation-slide-out-right);
}

/* Styles applied when position = "left" */
.saltDrawer-left {
  left: 0;
  right: auto;
  height: 100%;
}

/* Styles applied when position = "left" and the component mounts */
.saltDrawer-left.saltDrawer-enterAnimation {
  animation: var(--salt-animation-slide-in-left);
}

/* Styles applied when position = "left" and the component unmounts */
.saltDrawer-left.saltDrawer-exitAnimation {
  animation: var(--salt-animation-slide-out-left);
}

/* Styles applied when position = "bottom" */
.saltDrawer-bottom {
  left: 0;
  right: 0;
  bottom: 0;
  top: auto;
}

/* Styles applied when position = "bottom" and the component mounts */
.saltDrawer-bottom.saltDrawer-enterAnimation {
  animation: var(--salt-animation-slide-in-top);
}

/* Styles applied when position = "bottom" and the component unmounts */
.saltDrawer-bottom.saltDrawer-exitAnimation {
  animation: var(--salt-animation-slide-out-top);
}
`;const TY=({condition:n,children:e})=>n?te.jsxs(SY,{fixed:!0,children:[" ",e," "]}):te.jsxs(te.Fragment,{children:[e," "]}),Sv=sn("saltDrawer"),s0e=k.forwardRef(function(e,t){var r,i;const{children:s,className:o,position:a="left",open:l=!1,onOpenChange:c,variant:d="primary",disableDismiss:p,disableScrim:m,...v}=e,y=rn();dn({testId:"salt-drawer",css:CY,window:y});const[b,w]=k.useState(!1),{Component:x}=US(),{context:A,floating:_,elements:T}=zS({open:b,onOpenChange:c}),{getFloatingProps:R}=OS([mI(A),DS(A,{enabled:!p})]),P=$o(_,t);return k.useEffect(()=>{if(l&&!b&&w(!0),!l&&b){const D=setTimeout(()=>{w(!1)},300);return()=>clearTimeout(D)}},[l,b]),te.jsx(TY,{condition:b&&!m,children:te.jsx(x,{open:b,ref:P,role:"dialog",width:(r=T.floating)==null?void 0:r.offsetWidth,height:(i=T.floating)==null?void 0:i.offsetHeight,"aria-modal":"true",focusManagerProps:{context:A},className:mt(Sv(),Sv(a),{[Sv("enterAnimation")]:l,[Sv("exitAnimation")]:!l,[Sv(d)]:d},o),...R(),...v,children:s})})});var MY=`.saltDropdown {
  all: unset;
  box-sizing: border-box;
  min-width: 4em;
  width: 100%;
  background: var(--dropdown-background);
  cursor: var(--dropdown-cursor);
  min-height: var(--salt-size-base);
  border: var(--dropdown-border);
  border-radius: var(--salt-palette-corner-weak, 0);
  display: inline-flex;
  align-items: center;
  padding: 0 var(--salt-spacing-100);
  color: var(--dropdown-color);
  font-family: var(--salt-text-fontFamily);
  font-size: var(--salt-text-fontSize);
  font-weight: var(--salt-text-fontWeight);
  line-height: var(--salt-text-lineHeight);
  letter-spacing: var(--salt-text-letterSpacing);
  position: relative;
  overflow: hidden;
}

.saltDropdown:hover {
  background: var(--saltDropdown-background-hover, var(--dropdown-background-hover));
  cursor: var(--salt-selectable-cursor-hover);
}

.saltDropdown-bordered.saltDropdown {
  border: var(--salt-size-border) var(--salt-editable-borderStyle) var(--dropdown-borderColor);
}

.saltDropdown-bordered.saltDropdown:hover {
  border-style: var(--salt-editable-borderStyle-hover);
  border-color: var(--dropdown-borderColor-hover);
}

/* Style applied if focused or active when \`bordered={true}\` */
.saltDropdown-bordered.saltDropdown:focus,
.saltDropdown-bordered.saltDropdown:focus:hover {
  border-style: var(--salt-editable-borderStyle-active);
  border-color: var(--dropdown-borderColor-active);
}

/* Styling when focused if \`disabled={true}\` or \`readOnly={true}\` when \`bordered={true}\` */
.saltDropdown-bordered.saltDropdown[aria-readonly="true"],
.saltDropdown-bordered.saltDropdown[aria-readonly="true"]:hover {
  border-style: var(--salt-editable-borderStyle-readonly);
  border-color: var(--salt-editable-borderColor-readonly);
}

.saltDropdown-bordered.saltDropdown-disabled,
.saltDropdown-bordered.saltDropdown-disabled:hover {
  border-style: var(--salt-editable-borderStyle-disabled);
  border-color: var(--salt-editable-borderColor-disabled);
}

.saltDropdown-activationIndicator {
  left: 0;
  bottom: 0;
  width: 100%;
  position: absolute;
  border-bottom: var(--salt-size-border) var(--salt-editable-borderStyle) var(--dropdown-borderColor);
}

.saltDropdown:hover .saltDropdown-activationIndicator {
  border-bottom-style: var(--salt-editable-borderStyle-hover);
  border-bottom-color: var(--dropdown-borderColor-hover);
}

.saltDropdown:focus .saltDropdown-activationIndicator,
.saltDropdown:focus:hover .saltDropdown-activationIndicator {
  border-bottom: var(--salt-size-border-strong) var(--salt-editable-borderStyle-active) var(--dropdown-borderColor-active);
}

.saltDropdown[aria-readonly="true"] .saltDropdown-activationIndicator,
.saltDropdown[aria-readonly="true"]:hover .saltDropdown-activationIndicator {
  border-bottom-style: var(--salt-editable-borderStyle-readonly);
  border-bottom-color: var(--salt-editable-borderColor-readonly);
}

.saltDropdown-disabled .saltDropdown-activationIndicator,
.saltDropdown-disabled:hover .saltDropdown-activationIndicator {
  border-bottom-style: var(--salt-editable-borderStyle-disabled);
  border-bottom-color: var(--salt-editable-borderColor-disabled);
}

.saltDropdown-bordered .saltDropdown-activationIndicator,
.saltDropdown-bordered.saltDropdown[aria-readonly="true"] .saltDropdown-activationIndicator,
.saltDropdown-bordered.saltDropdown-disabled:hover .saltDropdown-activationIndicator {
  border-bottom-width: 0;
}

.saltDropdown-bordered.saltDropdown:focus .saltDropdown-activationIndicator {
  border-bottom-width: calc(var(--salt-size-border-strong) - var(--salt-size-border));
}

.saltDropdown-primary {
  --dropdown-background: var(--salt-editable-primary-background);
  --dropdown-background-active: var(--salt-editable-primary-background-active);
  --dropdown-background-hover: var(--salt-editable-primary-background-hover);
  --dropdown-background-disabled: var(--salt-editable-primary-background-disabled);
  --dropdown-background-readonly: var(--salt-editable-primary-background-readonly);
  --dropdown-borderColor: var(--salt-editable-borderColor);
  --dropdown-borderColor-active: var(--salt-editable-borderColor-active);
  --dropdown-borderColor-hover: var(--salt-editable-borderColor-hover);
  --dropdown-outlineColor: var(--salt-focused-outlineColor);
}

.saltDropdown-secondary {
  --dropdown-background: var(--salt-editable-secondary-background);
  --dropdown-background-active: var(--salt-editable-secondary-background-active);
  --dropdown-background-hover: var(--salt-editable-secondary-background-active);
  --dropdown-background-disabled: var(--salt-editable-secondary-background-disabled);
  --dropdown-background-readonly: var(--salt-editable-secondary-background-readonly);
  --dropdown-borderColor: var(--salt-editable-borderColor);
  --dropdown-borderColor-active: var(--salt-editable-borderColor-active);
  --dropdown-borderColor-hover: var(--salt-editable-borderColor-hover);
  --dropdown-outlineColor: var(--salt-focused-outlineColor);
}

.saltDropdown-error {
  --dropdown-background: var(--salt-status-error-background);
  --dropdown-background-active: var(--salt-status-error-background);
  --dropdown-background-hover: var(--salt-status-error-background);
  --dropdown-background-readonly: var(--salt-status-error-background);
  --dropdown-borderColor: var(--salt-status-error-borderColor);
  --dropdown-borderColor-active: var(--salt-status-error-borderColor);
  --dropdown-borderColor-hover: var(--salt-status-error-borderColor);
  --dropdown-outlineColor: var(--salt-status-error-borderColor);
}

.saltDropdown-warning {
  --dropdown-background: var(--salt-status-warning-background);
  --dropdown-background-active: var(--salt-status-warning-background);
  --dropdown-background-hover: var(--salt-status-warning-background);
  --dropdown-background-readonly: var(--salt-status-warning-background);
  --dropdown-borderColor: var(--salt-status-warning-borderColor);
  --dropdown-borderColor-active: var(--salt-status-warning-borderColor);
  --dropdown-borderColor-hover: var(--salt-status-warning-borderColor);
  --dropdown-outlineColor: var(--salt-status-warning-borderColor);
}

.saltDropdown-success {
  --dropdown-background: var(--salt-status-success-background);
  --dropdown-background-active: var(--salt-status-success-background);
  --dropdown-background-hover: var(--salt-status-success-background);
  --dropdown-background-readonly: var(--salt-status-success-background);
  --dropdown-borderColor: var(--salt-status-success-borderColor);
  --dropdown-borderColor-active: var(--salt-status-success-borderColor);
  --dropdown-borderColor-hover: var(--salt-status-success-borderColor);
  --dropdown-outlineColor: var(--salt-status-success-borderColor);
}

.saltDropdown:focus,
.saltDropdown:focus:hover {
  background: var(--dropdown-background-active);
  cursor: var(--salt-selectable-cursor-hover);
  outline: var(--salt-focused-outlineWidth) var(--salt-focused-outlineStyle) var(--dropdown-outlineColor);
}

.saltDropdown.saltDropdown[aria-readonly="true"] {
  background: var(--dropdown-background-readonly);
  cursor: var(--salt-selectable-cursor-readonly);
}

.saltDropdown.saltDropdown:disabled,
.saltDropdown.saltDropdown:disabled:hover {
  background: var(--dropdown-background-disabled);
  cursor: var(--salt-selectable-cursor-disabled);
  color: var(--salt-content-primary-foreground-disabled);
}

.saltDropdown-content {
  flex: 1;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  text-wrap: nowrap;
}

.saltDropdown-placeholder {
  color: var(--salt-content-secondary-foreground);
  font-weight: var(--salt-text-fontWeight-small);
}

.saltDropdown-startAdornmentContainer {
  margin-right: var(--salt-spacing-100);
}

.saltDropdown .saltDropdown-toggle {
  margin-left: var(--salt-spacing-100);
}
`;const va=sn("saltDropdown");function RY({open:n}){const{CollapseIcon:e,ExpandIcon:t}=wh();return n?te.jsx(e,{className:va("toggle"),"aria-hidden":!0}):te.jsx(t,{className:va("toggle"),"aria-hidden":!0})}const o0e=k.forwardRef(function(e,t){var r,i;const{"aria-labelledby":s,"aria-describedby":o,children:a,className:l,disabled:c,emptyReadOnlyMarker:d="—",readOnly:p,multiselect:m,onSelectionChange:v,selected:y,defaultSelected:b,defaultOpen:w,value:x,onOpenChange:A,open:_,placeholder:T,startAdornment:R,required:P,variant:D="primary",validationStatus:N,onKeyDown:L,onFocus:M,onBlur:U,valueToString:V=bI,bordered:H=!1,...j}=e,K=rn();dn({testId:"salt-dropdown",css:MY,window:K});const{a11yProps:{"aria-describedby":ee,"aria-labelledby":ne}={},disabled:z,readOnly:G,necessity:Y,validationStatus:le}=rg(),ge=!!c||z,ie=!!p||G,oe=N??le,he=Y?["required","asterisk"].includes(Y):P,pe=uY({open:_,defaultOpen:w,onOpenChange:A,multiselect:m,defaultSelected:b,selected:y,onSelectionChange:v,valueToString:V}),{activeState:q,setActive:Ie,openState:ke,setOpen:xe,openKey:Le,getIndexOfOption:we,getOptionsMatching:Se,getOptionFromSearch:Me,getFirstOption:Ke,getLastOption:Ye,getOptionAfter:nt,getOptionBefore:vt,getOptionPageAbove:Je,getOptionPageBelow:rt,selectedState:Ve,select:Q,setFocusVisibleState:X,focusedState:ye,setFocusedState:ze,listRef:Xe}=pe,qe=Ve.map(Ut=>V(Ut)).join(", "),et=ie&&qe===""?d:x??qe,Pe=(Ut,Fn,Ci)=>{ie||Ci==="focus"&&Ut||xe(Ut)},{x:ft,y:_t,strategy:gt,elements:it,floating:pt,reference:ce,context:Fe}=zS({open:ke&&!ie&&k.Children.count(a)>0,onOpenChange:Pe,placement:"bottom-start",middleware:[dI(1),SU({apply({rects:Ut,elements:Fn,availableHeight:Ci}){Object.assign(Fn.floating.style,{minWidth:`${Ut.reference.width}px`,maxHeight:`max(calc((var(--salt-size-base) + var(--salt-spacing-100)) * 5), calc(${Ci}px - var(--salt-spacing-100)))`})}}),LS({fallbackStrategy:"initialPlacement"})]}),{getReferenceProps:lt,getFloatingProps:ae}=OS([DS(Fe),NU(Fe),mI(Fe)]),Ee=k.useRef(null),je=$o(ce,Ee),tt=$o(je,t),yt=k.useRef(""),fn=k.useRef(),Wt=Ut=>{fn.current&&clearTimeout(fn.current),yt.current+=Ut.key,fn.current=window.setTimeout(()=>{yt.current=""},500),ke||xe(!0,"input");let Fn=Me(yt.current,q);Fn||(Fn=Me(yt.current)),Fn&&(Ie(Fn),X(!0))},En=Ut=>{var Fn;if(L==null||L(Ut),ie)return;if(!ke&&(Ut.key==="ArrowDown"||Ut.key==="ArrowUp")){xe(!0,void 0,Ut.key);return}Ut.key.length===1&&!Ut.ctrlKey&&!Ut.metaKey&&!Ut.altKey&&(Ut.preventDefault(),Ut.stopPropagation(),Wt(Ut));const Ci=q??((Fn=Ke())==null?void 0:Fn.data);if(Ci===void 0)return;let Z;switch(Ut.key){case"ArrowDown":Z=nt(Ci)??Ye();break;case"ArrowUp":Z=vt(Ci)??Ke();break;case"Home":Z=Ke();break;case"End":Z=Ye();break;case"PageUp":Z=Je(Ci);break;case"PageDown":Z=rt(Ci);break;case"Enter":case" ":if(ke&&(q!=null&&q.disabled)||yt.current.trim().length>0&&Ut.key===" "){Ut.preventDefault();return}if(!ke||!q)return;Ut.preventDefault(),Q(Ut,q);break;case"Tab":!m&&q&&Q(Ut,q);break}Z&&Z.data.id!==(q==null?void 0:q.id)&&(Ut.preventDefault(),Ie(Z.data),X(!0))},yr=Ut=>{ze(!0),M==null||M(Ut)},xn=Ut=>{ze(!1),(!Xe.current||!Xe.current.contains(Ut.relatedTarget))&&(U==null||U(Ut))},er=()=>{X(!1)},xr=()=>{var Ut;(Ut=Ee.current)==null||Ut.focus()};k.useEffect(()=>{if(!ke){Ie(void 0);return}const Ut=q?we(q):-1;let Fn;Ut>0||(Ve.length>0&&(Fn=Se(Ci=>Ci.value===Ve[0]).pop()),Fn||(Le.current==="ArrowDown"?Fn=Ke():Le.current==="ArrowUp"&&(Fn=Ye())),Fn||(Fn=Ke()),Ie(Fn==null?void 0:Fn.data))},[ke,a]);const Hs=_h(),kc=$o(Xe,pt);return te.jsxs(ZU.Provider,{value:pe,children:[te.jsxs("button",{className:mt(va(),va(D),{[va("disabled")]:ge,[va(oe??"")]:oe,[va("bordered")]:H},l),ref:tt,role:"combobox",type:"button",disabled:ge,"aria-readonly":ie?"true":void 0,"aria-required":he?"true":void 0,"aria-expanded":ke,"aria-activedescendant":q==null?void 0:q.id,"aria-labelledby":mt(ne,s)||void 0,"aria-describedby":mt(ee,o)||void 0,"aria-controls":ke?Hs:void 0,...lt({onKeyDown:En,onFocus:yr,onBlur:xn,...j}),children:[R&&te.jsx("div",{className:va("startAdornmentContainer"),children:R}),te.jsx("span",{className:mt(va("content"),{[va("placeholder")]:!et}),children:et||T}),!ge&&oe&&te.jsx(ez,{status:oe}),!ie&&te.jsx(RY,{open:ke}),te.jsx("div",{className:va("activationIndicator")})]}),te.jsx(mY,{"aria-multiselectable":m,open:(ke||ye)&&!ie&&k.Children.count(a)>0,...ae({onMouseOver:er,onFocus:xr,onClick:xr}),left:ft??0,top:_t??0,position:gt,width:(r=it.floating)==null?void 0:r.offsetWidth,height:(i=it.floating)==null?void 0:i.offsetHeight,ref:kc,id:Hs,collapsed:!ke,children:a})]})});var IY=`/* Default variables applied to the root element */
.saltFlexItem {
  --saltFlexItem-alignment: auto;
  --saltFlexItem-shrink: 1;
  --saltFlexItem-grow: 0;
  --saltFlexItem-basis: auto;
}

/* Style applied to the root element */
.saltFlexItem {
  position: relative;
  margin: var(--flexItem-margin);
  padding: var(--flexItem-padding);
  align-self: var(--saltFlexItem-alignment);
  flex-grow: var(--saltFlexItem-grow);
  flex-shrink: var(--saltFlexItem-shrink);
  flex-basis: var(--saltFlexItem-basis);
}

.saltFlexItem-stacked {
  flex-grow: 2;
}
`;const PY=sn("saltFlexItem"),a0e=k.forwardRef(({as:n,align:e,children:t,className:r,margin:i=0,padding:s=0,shrink:o,grow:a,basis:l,style:c,...d},p)=>{const m=rn();dn({testId:"salt-flex-item",css:IY,window:m});const{matchedBreakpoints:v}=gI(),y=n||"div",b=Xo(o,v),w=Xo(a,v),x=Xo(l,v),A=Xo(i,v),_=Xo(s,v),T={"--flexItem-margin":o0(A),"--flexItem-padding":o0(_),"--saltFlexItem-alignment":e,"--saltFlexItem-shrink":b,"--saltFlexItem-grow":w,"--saltFlexItem-basis":x,...c};return te.jsx(y,{className:mt(PY(),r),ref:p,style:T,...d,children:t})});var BY=`/* Default variables applied to the root element */
.saltFlexLayout {
  --flexLayout-layout-display: flex;
  --flexLayout-direction: row;
  --flexLayout-wrap: nowrap;
  --flexLayout-justify: flex-start;
  --flexLayout-align: stretch;
  --flexLayout-separator: var(--salt-size-border);
}

/* Style applied to the root element */
.saltFlexLayout {
  gap: var(--flexLayout-gap);
  margin: var(--flexLayout-margin);
  padding: var(--flexLayout-padding);
  display: var(--flexLayout-layout-display);
  flex-direction: var(--flexLayout-direction);
  flex-wrap: var(--flexLayout-wrap);
  justify-content: var(--flexLayout-justify);
  align-items: var(--flexLayout-align);
  box-sizing: border-box;
}

.saltFlexLayout-separator {
  gap: calc(var(--flexLayout-gap) * 2);
}

.saltFlexLayout-separator > * {
  position: relative;
}
.saltFlexLayout-separator > *:not(:last-child)::after {
  position: absolute;
  display: block;
  content: "";
  background-color: var(--salt-separable-secondary-borderColor);
}

/* Row separator */

.saltFlexLayout-separator-row > *:not(:last-child)::after {
  height: 100%;
}

.saltFlexLayout-separator-row > *:not(:last-child)::after {
  width: var(--flexLayout-separator);
  top: 0;
}
.saltFlexLayout-separator-row-start > *:not(:last-child)::after {
  right: 0;
}
.saltFlexLayout-separator-row-center > *:not(:last-child)::after {
  right: calc(var(--flexLayout-gap) * -1);
}
.saltFlexLayout-separator-row-end > *:not(:last-child)::after {
  right: calc(var(--flexLayout-gap) * -2);
}

/* Column separator */
.saltFlexLayout-separator-column > *:not(:last-child)::after {
  width: 100%;
}

.saltFlexLayout-separator-column > *:not(:last-child)::after {
  height: var(--flexLayout-separator);
  left: 0;
  width: 100%;
}
.saltFlexLayout-separator-column-start > *:not(:last-child)::after {
  bottom: 0;
}
.saltFlexLayout-separator-column-center > *:not(:last-child)::after {
  bottom: calc(var(--flexLayout-gap) * -1);
}
.saltFlexLayout-separator-column-end > *:not(:last-child)::after {
  bottom: calc(var(--flexLayout-gap) * -2);
}
`;const Ab=sn("saltFlexLayout");function ZL(n){return n==="start"||n==="end"?`flex-${n}`:n}const LY=k.forwardRef(({as:n,align:e,children:t,className:r,direction:i="row",gap:s=3,margin:o=0,padding:a=0,justify:l,separators:c,style:d,wrap:p=!1,...m},v)=>{const y=rn();dn({testId:"salt-flex-layout",css:BY,window:y});const b=n||"div",w=c===!0?"center":c,{matchedBreakpoints:x}=gI(),A=Xo(s,x),_=Xo(o,x),T=Xo(a,x),R=Xo(i,x),P=Xo(p,x),D={...d,"--flexLayout-align":ZL(e),"--flexLayout-direction":R,"--flexLayout-gap":o0(A),"--flexLayout-margin":o0(_),"--flexLayout-padding":o0(T),"--flexLayout-justify":ZL(l),"--flexLayout-wrap":P?"wrap":"nowrap"};return te.jsx(b,{className:mt(Ab(),{[Ab("separator")]:w&&!p,[Ab(`separator-${R??"row"}-${w??"center"}`)]:w&&!p,[Ab(`separator-${R??"row"}`)]:w&&!p},r),ref:v,style:D,...m,children:t})});var kY=`.saltFormField {
  display: inline-grid;
  position: relative;
  gap: var(--salt-spacing-100);
  text-align: left;
  width: var(--saltFormField-width, 100%);

  font-family: var(--salt-text-fontFamily);
  font-size: var(--salt-text-fontSize);
  font-weight: var(--salt-text-fontWeight);
  line-height: var(--salt-text-lineHeight);
}

.saltFormField-labelTop {
  gap: var(--salt-spacing-75);
  grid-auto-rows: min-content;
  grid-template-areas:
    "label"
    "controls";
}

.saltFormField-labelTop .saltFormFieldHelperText {
  grid-area: 3 / 1;
}

.saltFormField-labelLeft {
  grid-template-columns: var(--saltFormField-label-width, var(--formField-label-width, 40%)) 1fr;
  grid-template-areas: "label controls";
}

.saltFormField-labelRight {
  grid-template-columns: var(--saltFormField-label-width, var(--formField-label-width, 40%)) 1fr;
  grid-template-areas: "label controls";
}

.saltFormField-labelLeft .saltFormFieldHelperText,
.saltFormField-labelRight .saltFormFieldHelperText {
  grid-area: 2 / 2;
}

.saltFormField-labelRight .saltFormFieldLabel,
.saltFormField-labelLeft .saltFormFieldLabel {
  padding-top: var(--salt-spacing-100);
}

.saltFormField-labelRight .saltFormFieldLabel {
  text-align: right;
}

.saltFormField-controls {
  align-items: center;
  display: grid;
  grid-auto-columns: minmax(0, 1fr);
  grid-auto-flow: column;
  grid-column-gap: var(--salt-spacing-100);
}

.saltFormFieldLabel {
  grid-area: label;
}

.saltFormFieldHelperText {
  grid-area: helperText;
}

.saltFormField-disabled {
  --saltInput-outline: none;
  --saltCheckbox-outline: none;
  --saltRadioButton-outline: none;
}
`;const gE=sn("saltFormField"),l0e=k.forwardRef(({children:n,className:e,disabled:t=!1,id:r,labelPlacement:i="top",necessity:s,readOnly:o=!1,validationStatus:a,...l},c)=>{const d=rn();dn({testId:"salt-form-field",css:kY,window:d});const p=k.useRef(null),m=$o(c,p),v=_h(r),y=v?`label-${v}`:void 0,b=v?`helperText-${v}`:void 0;return te.jsx("div",{ref:m,className:mt(gE(),{[gE("disabled")]:t,[gE(`label${HS(i)}`)]:i},e),...l,children:te.jsx(QU.Provider,{value:{a11yProps:{"aria-labelledby":y,"aria-describedby":b},disabled:t,necessity:s,readOnly:o,validationStatus:a,formFieldRef:p},children:n})})});var DY=`.saltFormFieldLabel.saltText {
  font-weight: var(--saltFormField-label-fontWeight, var(--salt-text-fontWeight-strong));
  width: 100%;
}

.saltFormFieldLabel:hover + .saltFormField-controls * {
  --input-borderColor: var(--input-borderColor-hover);
}

.saltFormField-labelLeft .saltFormFieldLabel.saltText {
  align-self: baseline;
  padding-top: var(--salt-spacing-100);
}

.saltFormFieldLabel-necessityLabel {
  font-weight: var(--salt-text-fontWeight);
  font-style: var(--salt-editable-help-fontStyle);
}

.saltFormFieldLabel-sentence.saltText {
  color: var(--salt-content-primary-foreground);
  font-size: var(--salt-text-fontSize);
}
`;const vE=sn("saltFormFieldLabel"),c0e=({className:n,children:e,intent:t="label",onClick:r,...i})=>{const{a11yProps:s,disabled:o,necessity:a,formFieldRef:l}=rg(),c=rn();dn({testId:"salt-form-field-label",css:DY,window:c});const d=s==null?void 0:s["aria-labelledby"],p=v=>{if(l!=null&&l.current){const y=l.current.querySelector(`[aria-labelledby*="${d}"]`);y==null||y.focus(),y==null||y.click()}r==null||r(v)},m=a?a==="asterisk"?" *":` (${HS(a)})`:void 0;return te.jsxs(EY,{className:mt(vE(),vE(t),n),id:d,disabled:o,variant:"secondary",onClick:p,...i,children:[e,m&&te.jsx("span",{className:vE("necessityLabel"),children:m})]})};var OY=`/* Style applied to the root element */
.saltInput {
  align-items: center;
  background: var(--saltInput-background, var(--input-background));
  border-radius: var(--salt-palette-corner-weak, 0);
  color: var(--saltInput-color, var(--salt-content-primary-foreground));
  display: inline-flex;
  font-family: var(--salt-text-fontFamily);
  font-size: var(--saltInput-fontSize, var(--salt-text-fontSize));
  line-height: var(--saltInput-lineHeight, var(--salt-text-lineHeight));
  letter-spacing: var(--salt-text-letterSpacing);
  height: var(--saltInput-height, var(--salt-size-base));
  min-height: var(--saltInput-minHeight, var(--salt-size-base));
  min-width: var(--saltInput-minWidth, 4em);
  padding-left: var(--saltInput-paddingLeft, var(--salt-spacing-100));
  padding-right: var(--saltInput-paddingRight, var(--salt-spacing-100));
  position: relative;
  width: 100%;
  box-sizing: border-box;
  overflow: hidden;
}

.saltInput:hover {
  background: var(--saltInput-background-hover, var(--input-background-hover));
  cursor: var(--salt-editable-cursor-hover);
}

/* Style applied if \`bordered={true}\` */
.saltInput-bordered.saltInput {
  border: var(--salt-size-border) var(--salt-editable-borderStyle) var(--input-borderColor);
}

.saltInput-bordered.saltInput:hover {
  border-style: var(--salt-editable-borderStyle-hover);
  border-color: var(--input-borderColor-hover);
}

.saltInput-bordered.saltInput-focused,
.saltInput-bordered.saltInput-focused:hover {
  border-style: var(--salt-editable-borderStyle-active);
  border-color: var(--input-borderColor-active);
}

.saltInput-bordered.saltInput-readOnly,
.saltInput-bordered.saltInput-readOnly:hover {
  border-style: var(--salt-editable-borderStyle-readonly);
  border-color: var(--salt-editable-borderColor-readonly);
}

.saltInput-bordered.saltInput-disabled,
.saltInput-bordered.saltInput-disabled:hover {
  border-style: var(--salt-editable-borderStyle-disabled);
  border-color: var(--salt-editable-borderColor-disabled);
}

.saltInput-activationIndicator {
  left: 0;
  bottom: 0;
  width: 100%;
  position: absolute;
  border-bottom: var(--salt-size-border) var(--salt-editable-borderStyle) var(--input-borderColor);
}

.saltInput:hover .saltInput-activationIndicator {
  border-bottom-style: var(--salt-editable-borderStyle-hover);
  border-bottom-color: var(--input-borderColor-hover);
}

.saltInput-focused .saltInput-activationIndicator,
.saltInput-focused:hover .saltInput-activationIndicator {
  border-bottom: var(--salt-size-border-strong) var(--salt-editable-borderStyle-active) var(--input-borderColor-active);
}

.saltInput-readOnly .saltInput-activationIndicator,
.saltInput-readOnly:hover .saltInput-activationIndicator {
  border-bottom-style: var(--salt-editable-borderStyle-readonly);
  border-bottom-color: var(--salt-editable-borderColor-readonly);
}

.saltInput-disabled .saltInput-activationIndicator,
.saltInput-disabled:hover .saltInput-activationIndicator {
  border-bottom-style: var(--salt-editable-borderStyle-disabled);
  border-bottom-color: var(--salt-editable-borderColor-disabled);
}

.saltInput-bordered .saltInput-activationIndicator,
.saltInput-bordered.saltInput-readOnly .saltInput-activationIndicator,
.saltInput-bordered.saltInput-disabled:hover .saltInput-activationIndicator {
  border-bottom-width: 0;
}

.saltInput-bordered.saltInput-focused .saltInput-activationIndicator {
  border-bottom-width: calc(var(--salt-size-border-strong) - var(--salt-size-border));
}

/* Class applied if \`variant="primary"\` */
.saltInput-primary {
  --input-background: var(--salt-editable-primary-background);
  --input-background-active: var(--salt-editable-primary-background-active);
  --input-background-hover: var(--salt-editable-primary-background-hover);
  --input-background-disabled: var(--salt-editable-primary-background-disabled);
  --input-background-readonly: var(--salt-editable-primary-background-readonly);
  --input-borderColor: var(--salt-editable-borderColor);
  --input-borderColor-active: var(--salt-editable-borderColor-active);
  --input-borderColor-hover: var(--salt-editable-borderColor-hover);
  --input-outlineColor: var(--salt-focused-outlineColor);
}

/* Class applied if \`variant="secondary"\` */
.saltInput-secondary {
  --input-background: var(--salt-editable-secondary-background);
  --input-background-active: var(--salt-editable-secondary-background-active);
  --input-background-hover: var(--salt-editable-secondary-background-active);
  --input-background-disabled: var(--salt-editable-secondary-background-disabled);
  --input-background-readonly: var(--salt-editable-secondary-background-readonly);
  --input-borderColor: var(--salt-editable-borderColor);
  --input-borderColor-active: var(--salt-editable-borderColor-active);
  --input-borderColor-hover: var(--salt-editable-borderColor-hover);
  --input-outlineColor: var(--salt-focused-outlineColor);
}

/* Style applied to input if \`validationState="error"\` */
.saltInput-error {
  --input-background: var(--salt-status-error-background);
  --input-background-active: var(--salt-status-error-background);
  --input-background-hover: var(--salt-status-error-background);
  --input-background-readonly: var(--salt-status-error-background);
  --input-borderColor: var(--salt-status-error-borderColor);
  --input-borderColor-active: var(--salt-status-error-borderColor);
  --input-borderColor-hover: var(--salt-status-error-borderColor);
  --input-outlineColor: var(--salt-status-error-borderColor);
}

/* Style applied to input if \`validationState="warning"\` */
.saltInput-warning {
  --input-background: var(--salt-status-warning-background);
  --input-background-active: var(--salt-status-warning-background);
  --input-background-hover: var(--salt-status-warning-background);
  --input-background-readonly: var(--salt-status-warning-background);
  --input-borderColor: var(--salt-status-warning-borderColor);
  --input-borderColor-active: var(--salt-status-warning-borderColor);
  --input-borderColor-hover: var(--salt-status-warning-borderColor);
  --input-outlineColor: var(--salt-status-warning-borderColor);
}

/* Style applied to input if \`validationState="success"\` */
.saltInput-success {
  --input-background: var(--salt-status-success-background);
  --input-background-active: var(--salt-status-success-background);
  --input-background-hover: var(--salt-status-success-background);
  --input-background-readonly: var(--salt-status-success-background);
  --input-borderColor: var(--salt-status-success-borderColor);
  --input-borderColor-active: var(--salt-status-success-borderColor);
  --input-borderColor-hover: var(--salt-status-success-borderColor);
  --input-outlineColor: var(--salt-status-success-borderColor);
}

/* Styling when focused */
.saltInput-focused,
.saltInput-focused:hover {
  background: var(--saltInput-background-active, var(--input-background-active));
  cursor: var(--salt-editable-cursor-active);
  outline: var(--saltInput-outline, var(--salt-focused-outlineWidth) var(--salt-focused-outlineStyle) var(--input-outlineColor));
}

/* Style applied if \`readOnly={true}\` */
.saltInput.saltInput-readOnly {
  background: var(--input-background-readonly);
  cursor: var(--salt-editable-cursor-readonly);
}

/* Style applied to input if \`disabled={true}\` */
.saltInput.saltInput-disabled,
.saltInput.saltInput-disabled:hover {
  background: var(--input-background-disabled);
  cursor: var(--salt-editable-cursor-disabled);
  color: var(--saltInput-color-disabled, var(--salt-content-primary-foreground-disabled));
}

/* Style applied to start adornments */
.saltInput-startAdornmentContainer {
  align-items: center;
  display: inline-flex;
  padding-right: var(--salt-spacing-100);
  column-gap: var(--salt-spacing-100);
}

/* Style applied to end adornments */
.saltInput-endAdornmentContainer {
  align-items: center;
  display: inline-flex;
  padding-left: var(--salt-spacing-100);
  column-gap: var(--salt-spacing-100);
}

.saltInput-readOnly .saltInput-startAdornmentContainer {
  margin-left: var(--salt-spacing-50);
}

.saltInput-startAdornmentContainer .saltButton ~ .saltButton {
  margin-left: calc(-1 * var(--salt-spacing-50));
}

.saltInput-endAdornmentContainer .saltButton ~ .saltButton {
  margin-left: calc(-1 * var(--salt-spacing-50));
}

.saltInput-startAdornmentContainer .saltButton:first-child {
  margin-left: calc(var(--salt-spacing-50) * -1);
}

.saltInput-endAdornmentContainer .saltButton:last-child {
  margin-right: calc(var(--salt-spacing-50) * -1);
}

.saltInput-startAdornmentContainer > .saltButton,
.saltInput-endAdornmentContainer > .saltButton {
  --saltButton-padding: calc(var(--salt-spacing-50) - var(--salt-size-border));
  --saltButton-height: calc(var(--salt-size-base) - var(--salt-spacing-100));
  --saltButton-borderRadius: var(--salt-palette-corner-weaker);
}

/* Style applied to inner input component */
.saltInput-input {
  background: none;
  border: none;
  box-sizing: content-box;
  color: inherit;
  cursor: inherit;
  display: block;
  flex: 1;
  font: inherit;
  height: 100%;
  letter-spacing: var(--saltInput-letterSpacing, 0);
  margin: 0;
  min-width: 0;
  overflow: hidden;
  padding: 0;
  text-align: var(--input-textAlign, left);
  width: 100%;
}

/* Reset in the  class */
.saltInput-input:focus {
  outline: none;
}

/* Style applied to selected input */
.saltInput-input::selection {
  background: var(--salt-content-foreground-highlight);
}

/* Style applied to placeholder text */
.saltInput-input::placeholder {
  color: var(--salt-content-secondary-foreground);
  font-weight: var(--salt-text-fontWeight-small);
}

/* Style applied to selected input if \`disabled={true}\` */
.saltInput-disabled .saltInput-input::selection {
  background: none;
}
`;const ha=sn("saltInput"),u0e=k.forwardRef(function({"aria-activedescendant":e,"aria-expanded":t,"aria-owns":r,className:i,disabled:s,emptyReadOnlyMarker:o="—",endAdornment:a,id:l,inputProps:c={},inputRef:d,placeholder:p,readOnly:m,role:v,startAdornment:y,style:b,textAlign:w="left",value:x,defaultValue:A=x===void 0?"":void 0,validationStatus:_,variant:T="primary",bordered:R=!1,...P},D){const N=rn();dn({testId:"salt-input",css:OY,window:N});const{a11yProps:{"aria-describedby":L,"aria-labelledby":M}={},disabled:U,readOnly:V,necessity:H,validationStatus:j}=rg(),K={"aria-activedescendant":e,"aria-expanded":t,"aria-owns":r},ee=s||U,ne=m||V,z=j??_,[G,Y]=k.useState(!1),ge=ne&&!A&&!x?o:A,{"aria-describedby":ie,"aria-labelledby":oe,onBlur:he,onChange:pe,onFocus:q,required:Ie,...ke}=c,xe=H?["required","asterisk"].includes(H):Ie,[Le,we]=Sc({controlled:x,default:ge,name:"Input",state:"value"}),Se=nt=>{const vt=nt.target.value;we(vt),pe==null||pe(nt)},Me=nt=>{he==null||he(nt),Y(!1)},Ke=nt=>{q==null||q(nt),Y(!0)},Ye={"--input-textAlign":w,...b};return te.jsxs("div",{className:mt(ha(),ha(T),{[ha("focused")]:!ee&&G,[ha("disabled")]:ee,[ha("readOnly")]:ne,[ha(z||"")]:z,[ha("bordered")]:R},i),ref:D,style:Ye,...P,children:[y&&te.jsx("div",{className:ha("startAdornmentContainer"),children:y}),te.jsx("input",{"aria-describedby":mt(L,ie),"aria-labelledby":mt(M,oe),className:mt(ha("input"),c==null?void 0:c.className),disabled:ee,id:l,readOnly:ne,ref:d,role:v,tabIndex:ee?-1:0,onBlur:Me,onChange:Se,onFocus:ee?void 0:Ke,placeholder:p,value:Le,...K,...ke,required:xe}),!ee&&z&&te.jsx(ez,{status:z}),a&&te.jsx("div",{className:ha("endAdornmentContainer"),children:a}),te.jsx("div",{className:ha("activationIndicator")})]})});var NY=`/* Styles applied to InteractableCard */
.saltInteractableCard {
  border-width: var(--saltInteractableCard-borderWidth, var(--salt-size-border));
  border-style: var(--saltInteractableCard-borderStyle, var(--salt-container-borderStyle));
  border-radius: var(--saltInteractableCard-borderRadius, var(--salt-palette-corner, 0));
  box-shadow: var(--salt-overlayable-shadow);
  display: block;
  padding: var(--saltInteractableCard-padding, var(--salt-spacing-200));
  position: relative;
  text-align: start;
  transition: box-shadow var(--salt-duration-instant) ease-in-out;
  overflow: hidden;
  --card-accent-color: var(--salt-accent-background);
}

/* Styles applied to InteractableCard when variant="primary" */
.saltInteractableCard-primary {
  background: var(--saltInteractableCard-background, var(--salt-container-primary-background));
  border-color: var(--salt-container-primary-borderColor);
}

/* Styles applied to InteractableCard when variant="secondary" */
.saltInteractableCard-secondary {
  background: var(--saltInteractableCard-background, var(--salt-container-secondary-background));
  border-color: var(--salt-container-secondary-borderColor);
}

/* Styles applied to InteractableCard when variant="tertiary" */
.saltInteractableCard-tertiary {
  background: var(--saltInteractableCard-background, var(--salt-container-tertiary-background));
  border-color: var(--salt-container-tertiary-borderColor);
}

/* Styles applied to create accent */
.saltInteractableCard-accent::after {
  content: "";
  position: absolute;
  background-color: var(--saltInteractableCard-accent-color, var(--card-accent-color));
}

/* Styles applied to InteractableCard if \`accent="bottom"\` */
.saltInteractableCard-accentBottom::after {
  left: calc(-1 * var(--salt-size-border));
  bottom: calc(-1 * var(--salt-size-border));
  height: var(--salt-size-bar);
  width: calc(100% + calc(2 * var(--salt-size-border)));
}

/* Styles applied to InteractableCard if \`accent="left"\` */
.saltInteractableCard-accentLeft::after {
  left: calc(-1 * var(--salt-size-border));
  top: calc(-1 * var(--salt-size-border));
  height: calc(100% + calc(2 * var(--salt-size-border)));
  width: var(--salt-size-bar);
}

/* Styles applied to InteractableCard if \`accent="top"\` */
.saltInteractableCard-accentTop::after {
  left: calc(-1 * var(--salt-size-border));
  top: calc(-1 * var(--salt-size-border));
  height: var(--salt-size-bar);
  width: calc(100% + calc(2 * var(--salt-size-border)));
}

/* Styles applied to InteractableCard if \`accent="right"\` */
.saltInteractableCard-accentRight::after {
  right: calc(-1 * var(--salt-size-border));
  top: calc(-1 * var(--salt-size-border));
  height: calc(100% + calc(2 * var(--salt-size-border)));
  width: var(--salt-size-bar);
}

/* Styles applied to InteractableCard on focus */
.saltInteractableCard:focus-visible {
  cursor: var(--salt-selectable-cursor-hover);
  box-shadow: var(--salt-overlayable-shadow-hover);
  color: var(--saltInteractableCard-color-focus, var(--salt-content-primary-foreground));
  outline-color: var(--salt-focused-outlineColor);
  outline-style: var(--salt-focused-outlineStyle);
  outline-width: var(--salt-focused-outlineWidth);
  outline-offset: var(--salt-focused-outlineOffset);
}

/* Styles applied on hover state to InteractableCard */
@media (hover: hover) {
  .saltInteractableCard:hover {
    cursor: var(--salt-selectable-cursor-hover);
    box-shadow: var(--salt-overlayable-shadow-hover);
    border-color: var(--salt-actionable-accented-borderColor-hover);
  }

  .saltInteractableCard-disabled:hover {
    cursor: var(--salt-selectable-cursor-disabled);
    box-shadow: none;
  }
}

/* Styles applied on active state to InteractableCard and if \`selected={true}\` */
.saltInteractableCard-selected,
.saltInteractableCard:active,
.saltInteractableCard-active {
  cursor: var(--salt-selectable-cursor-hover);
  box-shadow: var(--salt-overlayable-shadow);
  border-color: var(--salt-actionable-accented-borderColor-active);
}

/* Styles applied to InteractableCard if \`disabled={true}\` */
.saltInteractableCard-disabled,
.saltInteractableCard-disabled:focus,
.saltInteractableCard-disabled:active {
  box-shadow: none;
  color: var(--salt-content-primary-foreground-disabled);
  cursor: var(--salt-selectable-cursor-disabled);
  outline: none;
  --card-accent-color: var(--salt-accent-background-disabled);
}

/* Styles applied to InteractableCard primary variant if \`disabled={true}\` */
.saltInteractableCard-primary.saltInteractableCard-disabled,
.saltInteractableCard-primary.saltInteractableCard-disabled:focus,
.saltInteractableCard-primary.saltInteractableCard-disabled:active {
  background: var(--salt-container-primary-background-disabled);
  border-color: var(--salt-container-primary-borderColor-disabled);
}

/* Styles applied to InteractableCard secondary variant if \`disabled={true}\` */
.saltInteractableCard-secondary.saltInteractableCard-disabled,
.saltInteractableCard-secondary.saltInteractableCard-disabled:focus,
.saltInteractableCard-secondary.saltInteractableCard-disabled:active {
  background: var(--saltInteractableCard-background-disabled, var(--salt-container-secondary-background-disabled));
  border-color: var(--salt-container-secondary-borderColor-disabled);
}

/* Styles applied to InteractableCard tertiary variant if \`disabled={true}\` */
.saltInteractableCard-tertiary.saltInteractableCard-disabled,
.saltInteractableCard-tertiary.saltInteractableCard-disabled:focus,
.saltInteractableCard-tertiary.saltInteractableCard-disabled:active {
  background: var(--salt-container-tertiary-background-disabled);
  border-color: var(--salt-container-tertiary-borderColor-disabled);
}

/* Styles applied to InteractableCard if \`selected={true}\`and \`disabled={true}\` */
.saltInteractableCard-selected.saltInteractableCard-disabled,
.saltInteractableCard-selected.saltInteractableCard-disabled:focus,
.saltInteractableCard-selected.saltInteractableCard-disabled:hover,
.saltInteractableCard-selected.saltInteractableCard-disabled:active {
  border-color: var(--salt-selectable-borderColor-selectedDisabled);
  --card-accent-color: var(--salt-selectable-foreground-selectedDisabled);
}

/* Styles applied to nested divs in InteractableCard if \`disabled={true}\` */
.saltInteractableCard-disabled div {
  pointer-events: none;
}
`;const FY=pd("InteractableCardGroupContext",void 0);function UY(){return k.useContext(FY)}const zY=({disabled:n,onKeyUp:e,onKeyDown:t,onClick:r,onBlur:i})=>{const[s,o]=k.useState(""),[a,l]=k.useState(!1),c="Enter",d=" ";return k.useEffect(()=>{const w=setTimeout(()=>{s!==c&&s!==d&&a&&l(!1)},0);return()=>{clearTimeout(w)}},[a,s]),{active:a,cardProps:{"aria-disabled":n?!0:void 0,disabled:n,tabIndex:n?-1:0,onBlur:w=>{l(!1),i==null||i(w)},onClick:n?void 0:w=>{l(!0),r==null||r(w)},onKeyDown:w=>{(w.key===c||w.key===d)&&(o(w.key),w.preventDefault(),l(!0),r==null||r(w)),t==null||t(w)},onKeyUp:w=>{o(""),l(!1),e==null||e(w)}}}},nf=sn("saltInteractableCard"),d0e=k.forwardRef(function(e,t){const{accent:r,accentPlacement:i,children:s,className:o,disabled:a,variant:l="primary",value:c,onBlur:d,onChange:p,onClick:m,onKeyUp:v,onKeyDown:y,...b}=e,w=rn();dn({testId:"salt-interactable-card",css:NY,window:w});const x=UY(),A=x==null?void 0:x.isSelected(c),_=(x==null?void 0:x.disabled)||a,[T,R]=Sc({controlled:A,default:!1,name:"InteractableCard",state:"selected"}),P=x?x.multiSelect?"checkbox":"radio":"button",D=x==null?void 0:x.multiSelect,N=x==null?void 0:x.isFirstChild(c),L=P==="radio"||P==="checkbox"?T:void 0,M=r||i,U=ne=>{x&&!_&&(x.select(ne,c),R(!T)),p==null||p(ne),m==null||m(ne)};let V;x?_?V=-1:D?V=0:(V=T?0:-1,!x.value&&N&&(V=0)):V=_?-1:0;const H=k.useRef(null),j=$o(t,H),{active:K,cardProps:ee}=zY({disabled:_,onKeyUp:v,onKeyDown:y,onBlur:d,onClick:m});return te.jsx("div",{...ee,role:P,"aria-checked":L,"aria-disabled":_,"data-value":c,className:mt(nf(),nf(l),{[nf("accent")]:M,[nf(`accent${HS(M??"")}`)]:M,[nf("active")]:P==="button"&&K,[nf("disabled")]:_,[nf("selected")]:T},o),...b,onClick:U,ref:j,tabIndex:V,children:s})});function _I(n,e){const t={...n};return Object.keys(e).forEach(r=>{const i=t[r],s=e[r];typeof i=="function"&&typeof s=="function"&&r.indexOf("on")===0?t[r]=zw(i,s):typeof i=="string"&&typeof s=="string"&&r==="className"?t[r]=mt(i,s):t[r]=s!==void 0?s:i}),t}function HY(n,e){const{render:t,...r}=e;if(k.isValidElement(t)){const s=t.props;return k.cloneElement(t,_I(r,s))}const i=r;if(typeof t=="function"){const s=t(i);if(k.isValidElement(s))return s;throw new Error("Render function did not return a valid React element")}return te.jsx(n,{...i})}const tz=pd("MenuContext",{openState:!1,getReferenceProps:()=>({}),getFloatingProps:()=>({}),getPanelPosition:()=>({}),getItemProps:()=>({}),activeIndex:null,elementsRef:{current:[]},focusInside:!1,setFocusInside:()=>{},isNested:!1});function nz(){return k.useContext(tz)}function ek(n){const{children:e,defaultOpen:t,open:r,onOpenChange:i,placement:s,getVirtualElement:o}=n,a=fd(),l=gK(),c=hd(),d=k.useRef([]),[p,m]=Sc({controlled:r,default:!!t,name:"ListControl",state:"open"}),v=k.useCallback(H=>{m(H),i==null||i(H)},[i]),[y,b]=k.useState(null),[w,x]=k.useState(!1),A=a!=null,{x:_,y:T,strategy:R,elements:P,refs:D,context:N}=zS({nodeId:l,open:p,onOpenChange:v,strategy:o?"fixed":"absolute",placement:s??(A||o?"right-start":"bottom-start"),middleware:[dI(A?{crossAxis:-1,mainAxis:2}:o?0:1),LS({}),fI({limiter:hI()}),SU({apply({elements:H,availableHeight:j}){Object.assign(H.floating.style,{maxHeight:`${j}px`})}})]});md(()=>{o&&D.setPositionReference(o())},[o,D]);const{getReferenceProps:L,getFloatingProps:M,getItemProps:U}=OS([RU(N,{enabled:A&&!w,handleClose:UU({blockPointerEvents:!0})}),mI(N,{event:"mousedown",toggle:!A,ignoreMouse:A}),FU(N,{role:"menu"}),DS(N,{bubbles:!0}),kK(N,{listRef:d,activeIndex:y,nested:A,onNavigate:b})]),V=()=>{var H,j;return{top:T??0,left:_??0,position:R,width:(H=P.floating)==null?void 0:H.offsetWidth,height:(j=P.floating)==null?void 0:j.offsetHeight}};return k.useEffect(()=>{if(!c)return;function H(){v(!1)}return c.events.on("click",H),()=>{c.events.off("click",H)}},[c,v]),te.jsx(vK,{id:l,children:te.jsx(tz.Provider,{value:{openState:p,getReferenceProps:L,getFloatingProps:M,refs:D,getPanelPosition:V,getItemProps:U,activeIndex:y,context:N,elementsRef:d,focusInside:w,setFocusInside:x,isNested:A},children:e})})}function f0e(n){return fd()===null?te.jsx(yK,{children:te.jsx(ek,{...n})}):te.jsx(ek,{...n})}var GY=`.saltMenuItem {
  color: var(--salt-content-primary-foreground);
  background: var(--salt-selectable-background);
  font-size: var(--salt-text-fontSize);
  font-weight: var(--salt-text-fontWeight);
  font-family: var(--salt-text-fontFamily);
  line-height: var(--salt-text-lineHeight);
  letter-spacing: var(--salt-text-letterSpacing);
  min-height: calc(var(--salt-size-base) + var(--salt-spacing-100));
  padding: calc(var(--salt-spacing-100) + var(--salt-spacing-25)) var(--salt-spacing-100);
  display: flex;
  gap: var(--salt-spacing-100);
  position: relative;
  cursor: var(--salt-selectable-cursor-hover);
  box-sizing: border-box;
  flex-shrink: 0;
}

.saltMenuItem:focus-visible {
  outline: var(--salt-focused-outline);
  outline-offset: calc(var(--salt-size-border) * -2);
}

.saltMenuItem:hover {
  outline: none;
}

.saltMenuItem:hover,
.saltMenuItem:focus-visible {
  background: var(--salt-selectable-background-hover);
}

.saltMenuItem:active {
  background: var(--salt-selectable-background-selected);
  box-shadow: 0 calc(var(--salt-size-border) * -1) 0 0 var(--salt-selectable-borderColor-selected), 0 var(--salt-size-border) 0 0 var(--salt-selectable-borderColor-selected);
}

.saltMenuItem[aria-disabled="true"],
.saltMenuItem[aria-disabled="true"]:active {
  background: var(--salt-selectable-background-disabled);
  color: var(--salt-content-primary-foreground-disabled);
  cursor: var(--salt-selectable-cursor-disabled);
  box-shadow: none;
}

.saltMenuItem-blurActive {
  z-index: var(--salt-zIndex-default);
  background: var(--salt-selectable-background-selected);
  box-shadow: 0 calc(var(--salt-size-border) * -1) 0 0 var(--salt-selectable-borderColor-selected), 0 var(--salt-size-border) 0 0 var(--salt-selectable-borderColor-selected);
  box-shadow: 0 calc(var(--salt-size-border) * -1) 0 0 var(--salt-selectable-borderColor-selected), 0 var(--salt-size-border) 0 0 var(--salt-selectable-borderColor-selected);
}

/* TODO: Find a better way of doing this */
.saltMenuItem .saltIcon:not(.saltCheckboxIcon-icon) {
  min-height: var(--salt-text-lineHeight);
}

.saltMenuItem-expandIcon.saltIcon {
  margin-left: auto;
}
`;const rz=pd("MenuPanelContext",{activeIndex:null,getItemProps:()=>({}),setFocusInside:()=>{}});function iz(){return k.useContext(rz)}const sz=pd("MenuTriggerContext",{triggersSubmenu:!1,blurActive:!1});function WY(){return k.useContext(sz)}const yE=sn("saltMenuItem"),h0e=k.forwardRef(function(e,t){const{children:r,className:i,disabled:s,onClick:o,onFocus:a,onKeyDown:l,...c}=e,{triggersSubmenu:d,blurActive:p}=WY(),{ExpandGroupIcon:m}=wh(),{activeIndex:v,getItemProps:y,setFocusInside:b}=iz(),w=dK(),x=hd(),A=w.index===v,_=rn();dn({testId:"salt-menu-item",css:GY,window:_});const T=$o(t,w.ref);return te.jsxs("div",{className:mt(yE(),{[yE("blurActive")]:p},i),role:"menuitem","aria-disabled":s||void 0,...y({tabIndex:s?void 0:A?0:-1,onKeyDown(R){const P=R.currentTarget;if(l==null||l(R),(R.key===" "||R.key==="Enter")&&!d&&!s){R.preventDefault();const{view:D,...N}=R;queueMicrotask(()=>{P.dispatchEvent(new window.MouseEvent("click",N))}),x==null||x.events.emit("click")}},onClick(R){s||(o==null||o(R),d||x==null||x.events.emit("click"))},onFocus(R){a==null||a(R),b(!0)},...c}),ref:T,children:[r,d&&te.jsx(m,{className:yE("expandIcon"),"aria-hidden":!0})]})});var VY=`.saltMenuPanel {
  background: var(--salt-container-primary-background);
  border: var(--salt-size-border) var(--salt-selectable-borderStyle-selected) var(--salt-selectable-borderColor-selected);
  overflow: hidden;
  overflow-y: auto;
  min-width: 10em;
  position: relative;
  z-index: var(--salt-zIndex-flyover);
  box-shadow: var(--salt-overlayable-shadow-popout);
  box-sizing: border-box;
  border-radius: var(--salt-palette-corner, 0);
}

.saltMenuPanel-container {
  display: flex;
  flex-direction: column;
  gap: var(--salt-size-border);
  max-height: inherit;
  min-height: inherit;
}

.saltMenuPanel:focus-visible {
  outline: none;
}
`;const jY=k.forwardRef(function(e,t){const{children:r,...i}=e,s=rn();return dn({testId:"salt-menu-panel",css:VY,window:s}),te.jsx("div",{ref:t,...i,children:r})}),XY=sn("saltMenuPanel"),p0e=k.forwardRef(function(e,t){const{children:r,className:i,...s}=e,{Component:o}=US(),{getItemProps:a,openState:l,getFloatingProps:c,refs:d,getPanelPosition:p,context:m,elementsRef:v,activeIndex:y,setFocusInside:b,isNested:w}=nz(),x=$o(t,d==null?void 0:d.setFloating);return te.jsx(rz.Provider,{value:{activeIndex:y,getItemProps:a,setFocusInside:b},children:te.jsx(uK,{elementsRef:v,children:te.jsx(o,{open:l,role:"menu",...c(),...p(),className:mt(XY(),i),focusManagerProps:m?{context:m,initialFocus:w?-1:0,returnFocus:!w,modal:!1}:void 0,tabIndex:-1,ref:x,...s,children:te.jsx(jY,{children:r})})})})});function oz(n){return!n||!k.isValidElement(n)?null:Object.prototype.propertyIsEnumerable.call(n.props,"ref")?n.props.ref:n.ref}function m0e(n){const{children:e}=n,{getReferenceProps:t,refs:r,setFocusInside:i,focusInside:s,openState:o}=nz(),{setFocusInside:a}=iz(),l=$o(oz(e),r==null?void 0:r.setReference);return!e||!k.isValidElement(e)?te.jsx(te.Fragment,{children:e}):te.jsx(sz.Provider,{value:{triggersSubmenu:!0,blurActive:s&&o},children:k.cloneElement(e,{..._I(t({onFocus(){a(!0),i(!1)}}),e.props),ref:l})})}const JY=({expanded:n=!1,orientation:e="horizontal"})=>{const{ExpandGroupIcon:t,CollapseGroupIcon:r}=wh(),s={vertical:{expanded:r,collapsed:t},horizontal:{expanded:r,collapsed:r}}[e][n?"expanded":"collapsed"];return te.jsx(s,{"aria-hidden":"true"})};var KY=`.saltNavigationItem {
  color: var(--salt-content-primary-foreground);
  line-height: var(--salt-text-lineHeight);
  font-family: var(--salt-text-fontFamily);
  font-size: var(--salt-text-fontSize);
  font-weight: var(--salt-text-fontWeight);
}

/* Vars applied to root NavigationItem component */
.saltNavigationItem-wrapper {
  display: flex;
  gap: var(--salt-spacing-100);
  align-items: center;
  position: relative;
  background: none;
  border: none;
  font: inherit;
  color: inherit;
  text-decoration: none;
  cursor: var(--salt-selectable-cursor-hover);
  /* Hover off animation */
  transition: all var(--salt-duration-instant) ease-in-out;
  box-sizing: border-box;
}

/* Vars applied to NavigationItem component when root */
.saltNavigationItem-rootItem {
  font-weight: var(--salt-text-fontWeight-strong);
}

/* Styles applied to NavigationItem icon */
.saltNavigationItem-label .saltIcon {
  top: var(--salt-spacing-25);
}

/* Styles applied when orientation = "horizontal" */
.saltNavigationItem-horizontal {
  min-height: calc(var(--salt-size-base) + var(--salt-spacing-100) * 2);
  padding: 0 var(--salt-spacing-100);
  width: fit-content;
}

/* Styles applied when orientation = "vertical" */
.saltNavigationItem-vertical {
  min-height: calc(var(--salt-size-base) + var(--salt-spacing-50) * 2);
  padding-top: 0;
  padding-bottom: 0;
  padding-right: var(--salt-spacing-100);
  padding-left: calc(var(--salt-spacing-300) * (min(var(--saltNavigationItem-level, 0) + 1, 2)));
  width: 100%;
}

/* Styles applied to NavigationItem label */
.saltNavigationItem-label {
  padding-left: calc(var(--saltNavigationItem-level, 0) * var(--salt-spacing-100));
  flex: 1;
  text-align: left;
  display: flex;
  align-items: baseline;
  gap: var(--salt-spacing-100);
}

/* Styles applied when orientation = "horizontal" */
.saltNavigationItem-horizontal {
  min-height: calc(var(--salt-size-base) + var(--salt-spacing-100) * 2);
  padding: 0 var(--salt-spacing-100);
  width: fit-content;
}

/* Styles applied when orientation = "vertical" */
.saltNavigationItem-vertical {
  --saltButton-margin: var(--salt-spacing-50) 0;

  min-height: calc(var(--salt-size-base) + var(--salt-spacing-50) * 2);
  padding-right: var(--salt-spacing-100);
  padding-left: calc(var(--salt-spacing-300) * (min(var(--saltNavigationItem-level, 0) + 1, 2)));
  width: 100%;
}

/* Styles applied to NavigationItem label */
.saltNavigationItem-label {
  padding-left: calc(var(--saltNavigationItem-level, 0) * var(--salt-spacing-100));
  flex: 1;
  text-align: left;
  display: flex;
  align-items: baseline;
  gap: var(--salt-spacing-100);
}

/* Styles applied to NavigationItem Badge */
.saltNavigationItem-label .saltBadge {
  margin-left: auto;
}

/* Styles applied to NavigationItem when focus is visible */
.saltNavigationItem-wrapper:focus-visible {
  outline: var(--salt-focused-outline);
}

/* Styles applied to NavigationItem for non-keyboard focus */
.saltNavigationItem-wrapper:focus:not(:focus-visible) {
  outline: 0;
}

/* Styles applied to activation line */
.saltNavigationItem-wrapper::after {
  content: "";
  position: absolute;
  top: var(--salt-spacing-25);
  left: 0;
  display: block;
}

/* Styles applied to activation line when orientation = "horizontal" */
.saltNavigationItem-horizontal::after {
  width: 100%;
  height: var(--salt-size-indicator);
}

/* Styles applied to activation line when orientation = "vertical" */
.saltNavigationItem-vertical::after {
  width: var(--salt-size-indicator);
  left: var(--salt-spacing-25);
  height: calc(100% - var(--salt-spacing-50));
}

/* Styles applied to activation line on hover  */
.saltNavigationItem-wrapper:hover::after,
.saltNavigationItem-wrapper:focus-visible::after {
  background: var(--salt-navigable-indicator-hover);
  /* Hover on animation */
  transition: background var(--salt-duration-perceptible) ease-in-out;
}

/* Styles applied to activation line when item is active */
.saltNavigationItem-active::after,
.saltNavigationItem-active:hover::after,
.saltNavigationItem-active:focus::after {
  background: var(--salt-navigable-indicator-active);
  /* Hover on animation */
  transition: background var(--salt-duration-perceptible) ease-in-out;
}
`;function $Y(n){return HY("a",n)}const rf=sn("saltNavigationItem"),g0e=k.forwardRef(function(e,t){const{active:r,blurActive:i,render:s,children:o,className:a,expanded:l=!1,href:c,orientation:d="horizontal",parent:p,level:m=0,onExpand:v,style:y,...b}=e,w=rn();dn({testId:"salt-navigation-item",css:KY,window:w});const x={...y,"--saltNavigationItem-level":`${m}`},A=c!==void 0,_=T=>{v==null||v(T)};return te.jsx("div",{ref:t,className:mt(rf(),a),style:x,...b,children:te.jsxs($Y,{className:mt(rf("wrapper"),{[rf("active")]:r||i,[rf("blurActive")]:i,[rf("rootItem")]:m===0},rf(d)),render:s??(A?void 0:te.jsx("button",{type:"button"})),"aria-expanded":A?void 0:l,onClick:_,"aria-current":A&&r?"page":void 0,href:c,children:[te.jsx("span",{className:rf("label"),children:o}),p?te.jsx(JY,{expanded:l,orientation:d}):null]})})});var YY=`.saltOption {
  color: var(--salt-content-primary-foreground);
  background: var(--salt-selectable-background);
  font-size: var(--salt-text-fontSize);
  font-weight: var(--salt-text-fontWeight);
  font-family: var(--salt-text-fontFamily);
  line-height: var(--salt-text-lineHeight);
  letter-spacing: var(--salt-text-letterSpacing);
  min-height: calc(var(--salt-size-base) + var(--salt-spacing-100));
  padding: calc(var(--salt-spacing-100) + var(--salt-spacing-25)) var(--salt-spacing-100);
  display: flex;
  gap: var(--salt-spacing-100);
  position: relative;
  cursor: var(--salt-selectable-cursor-hover);
  box-sizing: border-box;
  flex-shrink: 0;
}

.saltOption-active {
  background: var(--salt-selectable-background-hover);
}

.saltOption-focusVisible {
  outline: var(--salt-focused-outline);
  outline-offset: calc(var(--salt-size-border) * -2);
}

.saltOption:hover {
  background: var(--salt-selectable-background-hover);
}

.saltOption[aria-selected="true"] {
  z-index: var(--salt-zIndex-default);
  background: var(--salt-selectable-background-selected);
  box-shadow: calc(var(--salt-size-border) * -2) 0 0 0 var(--salt-selectable-background-hover), calc(var(--salt-size-border) * -1) 0 0 var(--salt-size-border)
    var(--salt-selectable-borderColor-selected), 0 calc(var(--salt-size-border) * -1) 0 var(--salt-selectable-borderColor-selected);
}

.saltOption[aria-disabled="true"] {
  color: var(--salt-content-primary-foreground-disabled);
  cursor: var(--salt-selectable-cursor-disabled);
}

/* TODO: Find a better way of doing this */
.saltOption .saltIcon:not(.saltCheckboxIcon-icon) {
  min-height: var(--salt-text-lineHeight);
}
`;const xE=sn("saltOption"),v0e=k.forwardRef(function(e,t){const{className:r,children:i,disabled:s,onClick:o,id:a,value:l,...c}=e,d=rn();dn({testId:"salt-option",css:YY,window:d});const p=k.useRef(null),m=_h(a),{setActive:v,activeState:y,multiselect:b,select:w,register:x,selectedState:A,focusVisibleState:_,valueToString:T,disabled:R}=dY(),P=s||R,D=A.includes(l),N=(y==null?void 0:y.id)===m,L=k.useMemo(()=>({id:String(m),disabled:!!P,value:l}),[m,P,l]),M=H=>{P||m===void 0||(v(L),w(H,L),o==null||o(H))},U=()=>{v(L)};k.useEffect(()=>{if(m&&p.current)return x(L,p.current)},[L,m,x]);const V=$o(p,t);return te.jsxs("div",{"aria-disabled":P?"true":void 0,"aria-selected":D,className:mt(xE(),{[xE("active")]:N,[xE("focusVisible")]:_&&N},r),ref:V,role:"option",id:m,onClick:M,onMouseOver:U,...c,children:[b&&te.jsx(lY,{checked:D,disabled:P}),i??T(l)]})});var qY=`/* Styles applied to the root element when variant="primary" */
.saltPanel-primary.saltPanel {
  --panel-background: var(--salt-container-primary-background);
}

/* Styles applied to the root element when variant="secondary" */
.saltPanel-secondary.saltPanel {
  --panel-background: var(--salt-container-secondary-background);
}

/* Styles applied to the root element when variant="tertiary" */
.saltPanel-tertiary.saltPanel {
  --panel-background: var(--salt-container-tertiary-background);
}

/* Styles applied to the root element */
.saltPanel {
  background: var(--saltPanel-background, var(--panel-background));
  color: var(--saltPanel-color, inherit);
  height: var(--saltPanel-height, 100%);
  overflow: auto;
  padding: var(--saltPanel-padding, var(--salt-spacing-300));
  width: var(--saltPanel-width, 100%);
  border-radius: var(--saltPanel-borderRadius, var(--salt-palette-corner, 0));
  box-sizing: border-box;
}
`;const tk=sn("saltPanel"),y0e=k.forwardRef(function({className:e,children:t,variant:r="primary",...i},s){const o=rn();return dn({testId:"salt-panel",css:qY,window:o}),te.jsx("div",{className:mt(tk(),tk(r),e),ref:s,...i,children:t})});var QY=`.saltLinearProgress {
  align-items: center;
  color: var(--salt-content-primary-foreground);
  display: flex;
  min-width: 400px;
  font-size: var(--linearProgress-fontSize);
  box-sizing: border-box;
}

.saltLinearProgress-barContainer {
  background: none;
  position: relative;
  width: 100%;
  overflow: hidden;
  height: var(--salt-size-bar-strong);
}

.saltLinearProgress-bar,
.saltLinearProgress-buffer {
  position: absolute;
  left: 0;
  bottom: 0;
  top: 0;
  transition: transform 0.2s linear;
  transform-origin: left;
}

.saltLinearProgress-buffer {
  width: 0;
  background: var(--salt-container-primary-background);
  outline: solid var(--salt-size-border) var(--salt-accent-background);
  z-index: var(--salt-zIndex-default);
  outline-offset: calc(var(--salt-size-border) * -1);
}

.saltLinearProgress-bar {
  width: 100%;
  background: var(--salt-accent-background);
  z-index: calc(var(--salt-zIndex-default) * 2);
}

.saltLinearProgress-track {
  background: var(--salt-track-borderColor);
  width: 100%;
  height: var(--salt-size-bar);
  position: absolute;
  top: calc((var(--salt-size-bar-strong) - var(--salt-size-bar)) / 2);
  right: 0;
  transition: transform 0.2s linear;
  transform-origin: left;
}

.saltLinearProgress-progressLabel {
  color: inherit;
  margin: 0;
  white-space: nowrap;
  padding-left: var(--salt-spacing-100);
}

.saltLinearProgress-indeterminate.saltLinearProgress-bar {
  position: absolute;
  left: 0px;
  bottom: 0px;
  top: 0px;
  transform-origin: left center;
  width: 66%;
  animation: 1.8s ease-in-out infinite salt-indeterminate-progress-bar;
}

@keyframes salt-indeterminate-progress-bar {
  0% {
    transform: translateX(-100%);
  }
  60% {
    /* 155% is slightly more than moving the bar off screen (with width of 66%) */
    transform: translateX(155%);
  }
  100% {
    transform: translateX(200%);
  }
}
`;const sf=sn("saltLinearProgress"),x0e=k.forwardRef(function({className:e,hideLabel:t=!1,max:r=100,min:i=0,value:s,bufferValue:o,...a},l){const c=rn();dn({testId:"salt-linear-progress",css:QY,window:c});const d=s===void 0&&o===void 0,p=s===void 0?0:(s-i)/(r-i)*100,m=o===void 0?0:(o-i)/(r-i)*100,v={width:d?void 0:`${p}%`},y={width:`${m}%`};return te.jsxs("div",{className:mt(sf(),e),ref:l,role:"progressbar","aria-valuemax":r,"aria-valuemin":i,"aria-valuenow":s===void 0?void 0:Math.round(s),...a,children:[te.jsxs("div",{className:sf("barContainer"),children:[te.jsx("div",{className:mt(sf("bar"),{[sf("indeterminate")]:d}),style:v}),o&&o>0?te.jsx("div",{className:sf("buffer"),style:y}):null,te.jsx("div",{className:sf("track")})]}),!t&&te.jsx(zm,{styleAs:"h2",className:sf("progressLabel"),children:d?"— %":`${Math.round(p)} %`})]})});var ZY=`/* Default variables applied to the root element */
.saltStackLayout {
  --stackLayout-separator-weight: var(--salt-size-border, 1);
}

.saltStackLayout-separator > * {
  position: relative;
}
.saltStackLayout-separator > *:not(:last-child)::after {
  position: absolute;
  display: block;
  content: "";
  background-color: var(--salt-separable-secondary-borderColor);
}

/*
 * Seperator offset based on seperator alignment
 * var(--stackLayout-separator-weight) is used to take into account the thickness of the seperator,so even at higher weights it will be at the start/center/end
*/
.saltStackLayout-separator-start {
  --stackLayout-seperator-offset: calc(var(--stackLayout-separator-weight) * -1);
}
.saltStackLayout-separator-center {
  --stackLayout-seperator-offset: calc((var(--stackLayout-gap) * -0.5) + (var(--stackLayout-separator-weight) * -0.5));
}
.saltStackLayout-separator-end {
  --stackLayout-seperator-offset: calc(var(--stackLayout-gap) * -1);
}

/* When alignment is 'row' and we have seperators (last child doesn't need a seperator) */
.saltStackLayout-row.saltStackLayout-separator > *:not(:last-child)::after {
  height: 100%;
  width: var(--stackLayout-separator-weight);
  right: var(--stackLayout-seperator-offset);
  top: 0;
}

/* When alignment is 'column' and we have seperators (last child doesn't need a seperator) */
.saltStackLayout-column.saltStackLayout-separator > *:not(:last-child)::after {
  width: 100%;
  height: var(--stackLayout-separator-weight);
  bottom: var(--stackLayout-seperator-offset);
  left: 0;
}
`;const Eb=sn("saltStackLayout");function eq(n){return n===void 0||typeof n=="string"?n:`calc(var(--salt-spacing-100) * ${n})`}const b0e=k.forwardRef(({children:n,className:e,direction:t="column",gap:r=3,separators:i,style:s,...o},a)=>{const l=rn();dn({testId:"salt-stack-layout",css:ZY,window:l});const{matchedBreakpoints:c}=gI(),d=Xo(r,c),p=i===!0?"center":i,m=Xo(t,c),v={...s,"--stackLayout-gap":eq(d)};return te.jsx(LY,{className:mt(Eb(),{[Eb(m??"")]:m,[Eb("separator")]:!!p,[p?Eb(`separator-${p}`):""]:p},e),ref:a,direction:t,style:v,wrap:!1,gap:d,...o,children:n})}),tq=["error","warning","success","info"];var nq=`.saltStepper {
  grid-area: stepper;
  width: 100%;
  height: 100%;

  margin: 0;
  padding: 0;
  list-style-type: none;
  transition-duration: var(--salt-duration-perceptible);
  transition-timing-function: ease-in-out;
  transition-property: opacity, visibility;
}

@media (prefers-reduced-motion) {
  .saltStepper {
    transition-duration: var(--salt-duration-instant);
  }
}

.saltStepper-horizontal {
  display: flex;
  flex-direction: row;
}

.saltStepper-vertical {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.saltStepper-vertical > .saltStep.saltStep-expanded > .saltStepper {
  opacity: 1;
  visibility: visible;
}

.saltStepper-vertical > .saltStep.saltStep-collapsed > .saltStepper {
  opacity: 0;
  visibility: hidden;
}
`;const wI=k.createContext("horizontal"),UT=k.createContext(-1);function rq({orientation:n,children:e}){const t=k.useContext(UT);return te.jsx(wI.Provider,{value:n,children:te.jsx(UT.Provider,{value:t+1,children:e})})}const nk=sn("saltStepper"),iq=k.forwardRef(function({orientation:e,children:t,className:r,...i},s){const o=rn(),a=k.useContext(wI),l=e||a;return dn({testId:"salt-Stepper",css:nq,window:o}),te.jsx(rq,{orientation:l,children:te.jsx("ol",{className:mt(nk(),nk(l),r),ref:s,...i,children:t})})});var sq=`.saltStep {
  /* Copy of size calculations of <Icon /> */
  --step-icon-base-size: var(--salt-size-icon, 12px);
  --step-icon-size-multiplier: var(--saltIcon-size-multiplier, 1.5);
  --step-icon-size: calc(var(--step-icon-base-size) * var(--step-icon-size-multiplier));
  --step-depth: var(--saltStep-depth, 0);
}

.saltStepper-horizontal .saltStep {
  position: relative;
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: repeat(3, min-content);
  grid-template-areas:
    "icon"
    "label"
    "description";
  justify-items: center;
  align-items: center;
  text-align: center;
  flex: 1;
  padding: 0 var(--salt-spacing-25);
}

.saltStepper-vertical .saltStep {
  display: grid;
  grid-template-columns: var(--step-icon-size) 1fr min-content;
  grid-template-areas:
    "icon            label           expand"
    "connector       description     ."
    "stepper         stepper         stepper";
  justify-items: start;
  align-items: start;
  gap: 0 var(--salt-spacing-100);
  width: 100%;
  transition-duration: inherit;
  transition-timing-function: inherit;
  transition-property: grid-template-rows;
}

.saltStepper-vertical .saltStep-terminal {
  grid-template-areas:
    "icon            label           label"
    "connector       description     description"
    "stepper         stepper         stepper";
}

.saltStepper-vertical > .saltStep.saltStep-expanded {
  grid-template-rows:
    var(--salt-size-base)
    min-content
    1fr;
}

.saltStepper-vertical > .saltStep.saltStep-collapsed {
  grid-template-rows:
    var(--salt-size-base)
    min-content
    0fr;
}
`,oq=`.saltStepConnector {
  grid-area: connector;

  transition-duration: inherit;
  transition-timing-function: inherit;
  transition-property: opacity, min-height;
}

.saltStepper-horizontal .saltStepConnector {
  position: absolute;
  transform: translateY(-100%);
  top: calc(var(--step-icon-size) / 2);
  left: calc(50% + calc(var(--step-icon-size) / 2 + var(--salt-spacing-100)));
  right: calc(-50% + calc(var(--step-icon-size) / 2 + var(--salt-spacing-100)));

  border-top-width: var(--salt-size-border-strong);
  border-top-style: var(--salt-track-borderStyle-incomplete);
  border-top-color: var(--salt-track-borderColor);
}

.saltStepper-horizontal .saltStep-stage-completed > .saltStepConnector,
.saltStepper-horizontal .saltStep-stage-inprogress > .saltStepConnector {
  border-top-style: var(--salt-track-borderStyle-complete);
}

.saltStepper-vertical .saltStepConnector {
  min-height: var(--salt-size-base);
  align-self: stretch;
  justify-self: center;

  border-left-width: var(--salt-size-border-strong);
  border-left-style: var(--salt-track-borderStyle-incomplete);
  border-left-color: var(--salt-track-borderColor);
}

.saltStepper-vertical .saltStep-stage-completed > .saltStepConnector,
.saltStepper-vertical .saltStep-stage-inprogress > .saltStepConnector {
  border-left-style: var(--salt-track-borderStyle-complete);
}

.saltStep-depth-0.saltStep:not(.saltStep-expanded):last-child > .saltStepConnector {
  opacity: 0;
  min-height: 0;
}

.saltStep-depth-0.saltStep-expanded:last-child .saltStep:not(.saltStep-expanded):last-child .saltStepConnector {
  opacity: 0;
  min-height: 0;
}
`;const aq=sn("saltStepConnector");function lq(){const n=rn();return dn({testId:"salt-step-connector",css:oq,window:n}),te.jsx("div",{"aria-hidden":!0,className:aq()})}var cq=`.saltStepExpandTrigger {
  grid-area: expand;
}

.saltButton.saltStepExpandTrigger:focus-visible {
  outline-offset: calc(-1 * var(--salt-focused-outlineWidth));
}
`;const uq=sn("saltStepExpandTrigger");function dq({id:n,expanded:e,className:t,...r}){const{CollapseIcon:i,ExpandIcon:s}=wh(),o=rn();return dn({testId:"salt-step-expand-trigger",css:cq,window:o}),te.jsx(rY,{id:n,sentiment:"neutral",appearance:"transparent",className:mt(uq(),t),...r,children:e?te.jsx(i,{"aria-hidden":!0}):te.jsx(s,{"aria-hidden":!0})})}var fq=`.saltStepIcon {
  grid-area: icon;

  display: flex;
  justify-content: center;
  align-items: center;
  justify-self: center;
}

.saltStepper-vertical .saltStepIcon {
  height: var(--salt-size-base);
}

.saltStep-stage-pending > .saltStepIcon {
  --saltIcon-color: var(--salt-status-static-foreground);
}

.saltStep-stage-locked > .saltStepIcon {
  --saltIcon-color: var(--salt-status-static-foreground);
}

.saltStep-stage-inprogress > .saltStepIcon {
  --saltIcon-color: var(--salt-status-info-foreground-decorative);
}

.saltStep-stage-active > .saltStepIcon {
  --saltIcon-color: var(--salt-status-info-foreground-decorative);
}

.saltStep-stage-completed > .saltStepIcon {
  --saltIcon-color: var(--salt-status-success-foreground-decorative);
}

.saltStep-status-warning > .saltStepIcon {
  --saltIcon-color: var(--salt-status-warning-foreground-decorative);
}

.saltStep-status-error > .saltStepIcon {
  --saltIcon-color: var(--salt-status-error-foreground-decorative);
}
`;const hq=sn("saltStepIcon");function pq({status:n,stage:e,size:t,sizeMultiplier:r=t||1.5,className:i,...s}){const o=rn(),a=mq({stage:e,status:n});return dn({testId:"salt-step-icon",css:fq,window:o}),te.jsx(a,{size:r,className:mt(hq(),i),...s})}function mq({stage:n,status:e}){const t=wh();return k.useMemo(()=>({error:t.ErrorIcon,warning:t.WarningIcon,active:t.ActiveIcon,completed:t.CompletedIcon,pending:t.PendingIcon,inprogress:t.InProgressIcon,locked:t.LockedIcon}),[t])[e||n]}function Cb({children:n,...e}){return te.jsx("div",{className:"salt-visuallyHidden",...e,children:n})}var gq=`.saltStepText-label {
  grid-area: label;
}

.saltStepper-horizontal .saltStepText-label {
  margin-top: var(--salt-spacing-50);
}

.saltStepper-vertical .saltStepText-label {
  padding-top: calc((var(--salt-size-base) - var(--salt-text-label-lineHeight)) / 2);
  padding-bottom: calc((var(--salt-size-base) - var(--salt-text-label-lineHeight)) / 2);
  padding-left: calc((var(--step-depth)) * var(--salt-spacing-100));
}

.saltStep-depth-0 > .saltText.saltStepText-label {
  font-weight: var(--salt-text-fontWeight-strong);
}

.saltStep-depth-0 > .saltText.saltStepText-label {
  font-weight: var(--salt-text-fontWeight-strong);
}

.saltStepText-description {
  grid-area: description;
}

.saltStepper-vertical .saltStepText-description {
  padding-bottom: var(--salt-spacing-300);
  padding-left: calc((var(--step-depth)) * var(--salt-spacing-100));
}

.saltStep-status-warning > .saltStepText-description {
  color: var(--salt-status-warning-foreground-informative);
}

.saltStep-status-error > .saltStepText-description {
  color: var(--salt-status-error-foreground-informative);
}
`;const rk=sn("saltStepText");function ik({id:n,purpose:e,className:t,styleAs:r="label",children:i,...s}){const o=rn();return dn({testId:"salt-step-text",css:gq,window:o}),te.jsx(zm,{id:n,styleAs:"label",className:mt(rk(),rk(e),t),...s,children:i})}const of=sn("saltStep"),_0e=k.forwardRef(function({id:e,label:t,description:r,status:i,stage:s="pending",expanded:o,defaultExpanded:a,onToggle:l,className:c,style:d,children:p,...m},v){const y=_h(e),b=rn(),w=k.useContext(UT),x=k.useContext(wI),A=!!p,[_,T]=Sc({name:"Step",state:"expanded",controlled:o,default:!!a});dn({testId:"salt-step",css:sq,window:b}),k.useEffect(()=>{},[w,x]);const R=s==="active"?"step":void 0,P=w===0?1.5:1,N=i||(s==="inprogress"?"in progress":s),L=`${y}-label`,M=`${y}-description`,U=`${y}-expand-trigger`,V=`${y}-nested-stepper`,H={stateId:`${y}-sr-only-state`,stateText:N!=="active"?N:"",substepsId:`${y}-sr-only-substeps`,substepsText:"substeps",toggleSubstepsId:`${y}-sr-only-toggle-substeps`,toggleSubstepsText:"toggle substeps"};return te.jsxs("li",{id:y,"aria-current":R,className:mt(of(),of(`stage-${s}`),of(`depth-${w}`),i&&of(`status-${i}`),!A&&of("terminal"),A&&_&&of("expanded"),A&&!_&&of("collapsed"),c),style:{"--saltStep-depth":w,...d},...m,ref:v,children:[te.jsx(Cb,{children:`${t} ${r!==void 0?r:""} ${H.stateText}`}),A&&te.jsxs(te.Fragment,{children:[te.jsx(Cb,{id:H.toggleSubstepsId,"aria-hidden":!0,children:H.toggleSubstepsText}),te.jsx(Cb,{id:H.substepsId,"aria-hidden":!0,children:H.substepsText}),te.jsx(Cb,{id:H.stateId,"aria-hidden":!0,children:H.stateText})]}),te.jsx(lq,{}),te.jsx(pq,{stage:s,status:i,sizeMultiplier:P,"aria-hidden":!0}),t&&te.jsx(ik,{id:L,purpose:"label","aria-hidden":!0,children:t}),r&&te.jsx(ik,{id:M,purpose:"description","aria-hidden":!0,children:r}),A&&x==="vertical"&&te.jsx(dq,{id:U,"aria-expanded":_,"aria-controls":V,"aria-labelledby":[L,M,H.stateId,H.toggleSubstepsId].join(" "),expanded:_,onClick:j=>{l==null||l(j),T(!_)}}),A&&x==="vertical"&&te.jsx(iq,{id:V,"aria-labelledby":[L,H.substepsId].join(" "),"aria-hidden":!_,hidden:!_,children:p})]})});var vq=`.saltSliderThumb {
  align-items: center;
  background: var(--salt-accent-borderColor);
  cursor: var(--salt-selectable-cursor-hover);
  display: flex;
  height: var(--salt-size-selectable);
  outline: none;
  position: absolute;
  top: calc(((var(--salt-size-selectable) - var(--salt-size-bar)) / 2) * -1);
  transform: translateX(-50%);
  width: var(--salt-size-border-strong);
  touch-action: none;
}

.saltSliderThumb-disabled {
  background: var(--salt-accent-borderColor-disabled);
  pointer-events: none;
}

.saltSliderThumb-focusVisible {
  outline-style: var(--salt-focused-outlineStyle);
  outline-width: var(--salt-focused-outlineWidth);
  outline-offset: var(--salt-focused-outlineOffset);
  outline-color: var(--salt-focused-outlineColor);
}

.saltSliderThumb:active,
.saltSliderThumb-dragging {
  cursor: var(--draggable-grab-cursor-active);
}

.saltSliderThumb-input {
  border: 0;
  appearance: none;
  cursor: var(--salt-selectable-cursor-hover);
  height: var(--salt-size-base);
  left: var(--slider-progressPercentage);
  margin: 0;
  opacity: 0.0001;
  overflow: hidden;
  -webkit-appearance: none;
  pointer-events: none;
  width: var(--salt-size-base);
  padding: 0;
  position: absolute;
  transform: translateX(-50%);
}

.saltSliderThumb-secondThumb {
  /* The second thumb needs to sit on top the first thumb */
  z-index: 2;
}

/* Visually hide accessible text. Can not
  use visibility: hidden as we need the screen
  reader to announce it */
.saltSliderThumb-accessibleText {
  position: absolute;
  height: 1px;
  width: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
`,yq=`.saltSliderTooltip {
  background: var(--salt-container-primary-background);
  border-color: var(--salt-container-primary-borderColor);
  border-style: var(--saltTooltip-borderStyle, var(--salt-container-borderStyle));
  border-width: var(--saltTooltip-borderWidth, var(--salt-size-border));
  border-radius: var(--saltTooltip-borderRadius, var(--salt-palette-corner-weak, 0));
  box-shadow: var(--saltTooltip-shadow, var(--salt-overlayable-shadow-popout));
  bottom: 50%;
  left: 50%;
  padding: var(--salt-spacing-50) var(--salt-spacing-100);
  position: absolute;
  transform: translate(-50%, -50%);
  text-align: var(--saltTooltip-textAlign, left);
  user-select: none;
  visibility: hidden;
  z-index: var(--saltTooltip-zIndex, var(--salt-zIndex-flyover));
}

.saltSliderTooltip-visible,
.saltSliderTooltip:hover {
  visibility: visible;
}

.saltSliderTooltip-arrow {
  fill: var(--salt-container-primary-background);
  height: var(--salt-size-icon);
  left: 50%;
  position: absolute;
  pointer-events: none;
  top: 100%;
  transform: translateX(-50%);
  stroke: var(--salt-container-primary-borderColor);
  stroke-width: var(--salt-size-border);
  width: var(--salt-size-icon);
}

.saltSliderTooltip-text {
  white-space: nowrap;
}
`;const Tb=sn("saltSliderTooltip"),xq=({value:n,open:e})=>{const t=rn();return dn({testId:"salt-slider-tooltip",css:yq,window:t}),te.jsxs("div",{"aria-hidden":!0,className:mt(Tb(),{[Tb("visible")]:e}),"data-testid":"sliderTooltip",children:[te.jsxs("svg",{className:Tb("arrow"),"aria-hidden":"true",viewBox:"0 1 14 14",children:[te.jsx("path",{d:"M0,0 H14 L7,7 Q7,7 7,7 Z",stroke:" var(--salt-container-primary-background)"}),te.jsx("path",{d:"M0,0 H14 L7,7 Q7,7 7,7 Z",stroke:"var(--salt-container-primary-borderColor)"})]}),te.jsx(zm,{className:Tb("text"),children:n})]})},af=sn("saltSliderThumb"),bq=({"aria-label":n,"aria-valuetext":e,"aria-labelledby":t,accessibleMaxText:r,accessibleMinText:i,disabled:s,format:o,handleInputChange:a,handleKeydownOnThumb:l,handlePointerDown:c,index:d=0,inputRef:p,isFocusVisible:m,max:v,maxLabel:y,min:b,minLabel:w,offsetPercentage:x,restrictToMarks:A,showTooltip:_,sliderValue:T,step:R,stepMultiplier:P,trackDragging:D,...N})=>{{const L=rn();dn({testId:"salt-slider-thumb",css:vq,window:L});const[M,U]=k.useState(!1),H=`saltSlider-${_h()}-${d}`,j=Array.isArray(T)?T[d]:T,K=o?o(j):j,ee=k.useCallback(G=>{G.key==="Escape"&&U(!1)},[]);k.useEffect(()=>(_&&M&&(L==null||L.addEventListener("keydown",ee)),()=>L==null?void 0:L.removeEventListener("keydown",ee)),[ee,M,_,L]);const ne=()=>U(!0),z=()=>{setTimeout(()=>{U(!1)},300)};return te.jsxs("div",{className:mt(af(),{[af("focusVisible")]:m,[af("disabled")]:s,[af("dragging")]:D,[af("secondThumb")]:d===1}),"data-testid":"sliderThumb",onPointerDown:c,style:{left:x},..._&&{onPointerEnter:ne,onPointerLeave:z},children:[_&&te.jsx(xq,{value:K,open:(M||D||m)&&!s}),te.jsx("input",{disabled:s,type:"range",ref:p,className:af("input"),value:j,onChange:a,onKeyDown:l,"aria-labelledby":t,"aria-valuenow":j,"aria-valuetext":e||(o==null?void 0:o(j).toString()),"aria-label":n,"aria-describedby":H,min:b,max:v,step:R,...N}),te.jsxs("span",{"aria-hidden":"true",id:H,className:af("accessibleText"),children:[Array.isArray(T)&&`${d===0?"leading":"trailing"}, ${(o==null?void 0:o(T[0]))||T[0]} to ${(o==null?void 0:o(T[1]))||T[1]}, `,"range"," ",i?`${i} ${b}, `:`minimum ${(o==null?void 0:o(b))||b}, `,r?`${r} ${v} `:`maximum ${(o==null?void 0:o(v))||v}`,A?", custom increments":R!==1&&`, increments of ${R}`]})]})}};var _q=`.saltSliderTrack {
  --slider-track-background: var(--salt-track-borderColor);
  --slider-track-fill: var(--salt-accent-borderColor);
  --slider-progressPercentage: 0%;
  --slider-tick-height: calc((var(--salt-size-selectable) - var(--salt-size-bar)) / 2);
  /* For range */
  --slider-progressPercentageStart: 0%;
  --slider-progressPercentageEnd: 0%;

  display: flex;
  touch-action: none;
  width: 100%;
}

.saltSliderTrack.saltSliderTrack-withMarks {
  /* To wrap the marks within the boundary box */
  margin-bottom: calc(var(--salt-size-base) / 2);
}

.saltSliderTrack-disabled {
  cursor: var(--salt-selectable-cursor-disabled);
}

.saltSliderTrack-container {
  align-items: center;
  display: flex;
  flex-direction: row;
  gap: var(--salt-spacing-100);
  width: 100%;
}

.saltSliderTrack-wrapper {
  align-items: center;
  cursor: var(--salt-selectable-cursor-hover);
  display: flex;
  flex: 1;
  height: var(--salt-size-selectable);
  position: relative;
  width: 100%;
}

.saltSliderTrack-disabled,
.saltSliderTrack-disabled .saltSliderTrack-wrapper {
  cursor: var(--salt-selectable-cursor-disabled);
}

.saltSliderTrack-disabled .saltSliderTrack-wrapper {
  pointer-events: none;
}

.saltSliderTrack-rail {
  display: flex;
  flex: 100%;
  height: var(--salt-size-bar);
  justify-content: space-between;
  position: relative;
}

.saltSliderTrack-rail::before,
.saltSliderTrack-rail::after {
  content: "";
  display: block;
  height: 100%;
}

.saltSliderTrack-rail::before {
  background: var(--slider-track-fill);
  border-top-left-radius: var(--salt-palette-corner-weaker);
  border-bottom-left-radius: var(--salt-palette-corner-weaker);
  width: calc(var(--slider-progressPercentage) - 1.5 * var(--salt-size-border-strong));
}

.saltSliderTrack-hasMinTick.saltSliderTrack-rail::before {
  border-bottom-left-radius: unset;
}

.saltSliderTrack-rail::after {
  background: var(--slider-track-background);
  border-top-right-radius: var(--salt-palette-corner-weaker);
  border-bottom-right-radius: var(--salt-palette-corner-weaker);
  width: calc(100% - var(--slider-progressPercentage) - 1.5 * var(--salt-size-border-strong));
}

.saltSliderTrack-hasMaxTick.saltSliderTrack-rail::after {
  border-bottom-right-radius: unset;
}

.saltSliderTrack-range .saltSliderTrack-rail::before {
  background: var(--slider-track-background);
  width: calc(var(--slider-progressPercentageStart) - (var(--salt-size-border-strong) * 1.5));
}

.saltSliderTrack-range .saltSliderTrack-rail::after {
  background: var(--slider-track-background);
  width: calc(100% - var(--slider-progressPercentageEnd) - (var(--salt-size-border-strong) * 1.5));
}

.saltSliderTrack-range .saltSliderTrack-rail .saltSliderTrack-fill {
  background: var(--slider-track-fill);
  height: 100%;
  left: calc(var(--slider-progressPercentageStart) + 1.5 * var(--salt-size-border-strong));
  position: absolute;
  width: calc(var(--slider-progressPercentageEnd) - var(--slider-progressPercentageStart) - var(--salt-size-border-strong) * 3);
}

.saltSliderTrack-minLabel,
.saltSliderTrack-maxLabel {
  user-select: none;
}

.saltSliderTrack-dragging,
.saltSliderTrack-dragging .saltSliderTrack-wrapper {
  cursor: var(--salt-draggable-grab-cursor-active);
}

.saltSliderTrack-disabled {
  --slider-track-fill: var(--salt-accent-borderColor-disabled);
  --slider-track-background: var(--salt-track-borderColor-disabled);
}

.saltSliderTrack-ticks {
  top: calc(var(--salt-size-bar) + var(--slider-tick-height));
  position: absolute;
  width: 100%;
}

.saltSliderTrack-tick {
  background: var(--slider-track-background);
  height: var(--slider-tick-height);
  position: absolute;
  transform: translate(-50%);
  width: var(--salt-size-border-strong);
}

.saltSliderTrack-withTicks .saltSliderTrack-tickHidden {
  visibility: hidden;
}

.saltSliderTrack-tickSelected {
  background: var(--slider-track-fill);
}

.saltSliderTrack-tick:first-of-type {
  transform: unset;
}

.saltSliderTrack-tick:last-of-type {
  transform: translateX(-100%);
}

.saltSliderTrack-marks {
  position: absolute;
  user-select: none;
  width: 100%;
}

.saltSliderTrack-markLabel {
  color: var(--salt-content-secondary-foreground);
  font-family: var(--salt-text-label-fontFamily);
  font-weight: var(--salt-text-label-fontWeight);
  font-size: var(--salt-text-label-fontSize);
  line-height: var(--salt-text-label-lineHeight);
  overflow: hidden;
  position: absolute;
  text-overflow: ellipsis;
  transform: translateX(-50%);
  top: calc(var(--slider-tick-height) + var(--salt-spacing-50));
  white-space: nowrap;
}

.saltSliderTrack-constrainLabelPosition .saltSliderTrack-markLabel:first-of-type {
  transform: translateX(0%);
}

.saltSliderTrack-constrainLabelPosition .saltSliderTrack-markLabel:last-of-type {
  transform: translateX(-100%);
}

/* Styles applied when slider and range slider are inside a form field */

.saltFormField .saltSliderTrack.saltSliderTrack-withMark {
  margin-bottom: 0;
}

.saltFormField .saltSliderTrack-container {
  --saltFormField-label-width: 10%;

  height: var(--salt-size-base);
}

.saltFormField .saltSliderTrack-markLabel {
  top: calc((var(--salt-size-base) - var(--salt-size-bar)) / 2);
}
`;const Hw=n=>typeof n=="string"?Number.parseFloat(n):n,sk=(n,e,t)=>{if(t===e)return 0;const i=((Number.isNaN(Hw(n))?t:Math.min(Math.max(Hw(n),t),e))-t)/(e-t)*100;return Math.round(i*100)/100},zT=(n,e,t)=>(n-t)/(e-t)*100,az=(n,e,t,r,i,s,o)=>{if(Number.isNaN(n))return t;const a=Math.min(Math.max(n,t),e);if(o&&s){let c=s[0].value,d=Math.abs(a-c);for(let p=1;p<s.length;p++){const m=Math.abs(a-s[p].value);m<d&&(d=m,c=s[p].value)}return c}let l=Math.round(a/r)*r;return l>e?l=e:l<t&&(l=t),Number.parseFloat(l.toFixed(i))},ok=(n,e,t,r,i,s,o,a)=>{if(!n.current)return;const l=n.current.getBoundingClientRect(),c=(e-l.left)/l.width*(t-r)+r,d=Math.round(c/i)*i;return az(d,t,r,i,s,o,a)},wq=(n,e,t,r,i,s,o,a)=>{let l=e;if(o&&a&&a.length>=1){const c=a.findIndex(d=>d.value===e);switch(n.key){case"ArrowUp":case"ArrowRight":case"PageUp":c<a.length-1&&(l=a[c+1].value);break;case"ArrowDown":case"ArrowLeft":case"PageDown":c>0&&(l=a[c-1].value);break;default:return l}}else switch(n.key){case"ArrowUp":case"ArrowRight":l=Math.min(e+t,i);break;case"ArrowDown":case"ArrowLeft":l=Math.max(e-t,s);break;case"Home":l=s;break;case"End":l=i;break;case"PageUp":l=Math.min(e+t*r,i);break;case"PageDown":l=Math.max(e-t*r,s);break;default:return l}return n.preventDefault(),l},Ur=sn("saltSliderTrack"),Sq=k.forwardRef(function({children:e,className:t,constrainLabelPosition:r=!1,disabled:i,showTicks:s,format:o,handlePointerDown:a,isDragging:l,isRange:c=!1,marks:d,max:p,maxLabel:m,min:v,minLabel:y,progressPercentage:b=0,progressPercentageRange:w=[0,0],sliderRef:x,...A},_){const T=rn();dn({testId:"salt-slider-track",css:_q,window:T});const R=L=>{const M=zT(L,p,v);return c?M>w[0]&&M<w[1]:M<b},P=L=>{const M=zT(L,p,v);return c?M===w[0]||M===w[1]:M===b},D=()=>(d==null?void 0:d.some(L=>L.value===v))||!1,N=()=>(d==null?void 0:d.some(L=>L.value===p))||!1;return te.jsx("div",{className:mt(Ur(),t,{[Ur("disabled")]:i,[Ur("dragging")]:l,[Ur("range")]:c,[Ur("withMarks")]:d,[Ur("constrainLabelPosition")]:r,[Ur("withTicks")]:s}),"data-testid":"sliderTrack",ref:_,...A,children:te.jsxs("div",{className:mt(Ur("container")),children:[y&&te.jsx(zm,{"aria-hidden":!0,className:Ur("minLabel"),color:"secondary",disabled:i,styleAs:"label",children:y||(o==null?void 0:o(v))}),te.jsxs("div",{onPointerDown:a,className:Ur("wrapper"),children:[te.jsxs("div",{className:mt(Ur("rail"),{[Ur("hasMinTick")]:D()&&s,[Ur("hasMaxTick")]:N()&&s}),ref:x,style:{...b!==void 0&&{"--slider-progressPercentage":`${b}%`},...(w==null?void 0:w[0])!==void 0&&{"--slider-progressPercentageStart":`${w[0]}%`},...(w==null?void 0:w[1])!==void 0&&{"--slider-progressPercentageEnd":`${w[1]}%`}},children:[c&&te.jsx("div",{className:mt(Ur("fill"))}),e]}),d&&s&&te.jsx("div",{className:Ur("ticks"),children:d.map(({value:L})=>te.jsx("span",{style:{left:`${sk(L,p,v)}%`},className:mt(Ur("tick"),{[Ur("tickSelected")]:R(L)},{[Ur("tickHidden")]:P(L)})},`${L}-tick`))}),d&&te.jsx("div",{className:Ur("marks"),children:d.map(({label:L,value:M})=>te.jsx("span",{"data-testid":"mark",className:Ur("markLabel"),style:{left:`${sk(M,p,v)}%`},children:L},`${M}-mark`))})]}),m&&te.jsx(zm,{"aria-hidden":!0,className:Ur("maxLabel"),color:"secondary",disabled:i,styleAs:"label",children:m||(o==null?void 0:o(p))})]})})}),Aq=({decimalPlaces:n,handleInputChange:e,inputRef:t,marks:r,min:i=0,max:s=10,step:o=1,onChange:a,onChangeEnd:l,restrictToMarks:c,setValue:d,stepMultiplier:p,value:m})=>{const[v,y]=k.useState(!1),[b,w]=k.useState(!1),x=k.useRef(m),A=k.useRef(null),_=rn(),T=k.useCallback(U=>{if(!A.current)return;const V=ok(A,U.clientX,s,i,o,n,r,c);V===void 0||x.current===V||(x.current=V,d(V),a==null||a(U,V))},[n,r,s,i,a,d,c,o]),R=k.useCallback(U=>{y(!1),w(!1),l==null||l(U,x.current)},[l]);k.useEffect(()=>(v?(_==null||_.addEventListener("pointermove",T),_==null||_.addEventListener("pointerup",R)):(_==null||_.removeEventListener("pointermove",T),_==null||_.removeEventListener("pointerup",R)),()=>{_==null||_.removeEventListener("pointermove",T),_==null||_.removeEventListener("pointerup",R)}),[T,R,v,_]);const P=k.useCallback(U=>{U.preventDefault(),U.stopPropagation(),t.current&&t.current.focus(),y(!0),w(!1)},[t]),D=k.useCallback(U=>{U.preventDefault(),t.current&&t.current.focus(),y(!0),w(!1);const V=ok(A,U.clientX,s,i,o,n,r,c);V===void 0||x.current===V||(x.current=V,d(V),a==null||a(U.nativeEvent,V))},[n,t,r,s,i,a,c,d,o]),N=k.useCallback(U=>{const V=wq(U,m,o,p,s,i,c,r);V===void 0||x.current===V||(w(!0),x.current=V,e({target:{value:V.toString()}}))},[m,o,p,s,i,c,r,e]);return{handleBlur:()=>w(!1),handleFocus:()=>w(!0),handleKeydownOnThumb:N,handlePointerDownOnThumb:P,handlePointerDownOnTrack:D,isDragging:v,isFocusVisible:b,sliderRef:A}},w0e=k.forwardRef(function({"aria-label":e,"aria-labelledby":t,"aria-valuetext":r,accessibleMaxText:i,accessibleMinText:s,decimalPlaces:o=2,disabled:a=!1,format:l,marks:c,min:d=0,minLabel:p,max:m=100,maxLabel:v,onChange:y,onChangeEnd:b,restrictToMarks:w=!1,showTooltip:x=!0,step:A=1,stepMultiplier:_=2,value:T,defaultValue:R=d+(m-d)/2,...P},D){const[N,L]=Sc({controlled:T,default:R,name:"Slider",state:"value"}),{a11yProps:{"aria-labelledby":M}={},disabled:U}=rg(),V=U||a,H=k.useRef(null),j=az(N,m,d,A,o,c,w),K=zT(Hw(j),m,d),ee=k.useRef(j),ne=pe=>{const q=Hw(pe.target.value);q!==ee.current&&(L(q),y==null||y(pe.nativeEvent,q),b==null||b(pe.nativeEvent,q),ee.current=q)},{handleBlur:z,handleFocus:G,handleKeydownOnThumb:Y,handlePointerDownOnThumb:le,handlePointerDownOnTrack:ge,isDragging:ie,isFocusVisible:oe,sliderRef:he}=Aq({decimalPlaces:o,handleInputChange:ne,inputRef:H,marks:c,min:d,max:m,step:A,value:j,onChange:y,onChangeEnd:b,restrictToMarks:w,setValue:L,stepMultiplier:_});return te.jsx(Sq,{disabled:V,format:l,handlePointerDown:ge,isDragging:ie,min:d,minLabel:p,max:m,maxLabel:v,marks:c,progressPercentage:K,ref:D,sliderRef:he,...P,children:te.jsx(bq,{"aria-label":e,"aria-labelledby":mt(M,t)||void 0,"aria-valuemax":m,"aria-valuemin":d,"aria-valuetext":r,accessibleMaxText:i,accessibleMinText:s,disabled:V,format:l,onBlur:z,onFocus:G,handleInputChange:ne,handlePointerDown:le,handleKeydownOnThumb:Y,inputRef:H,isFocusVisible:oe,min:d,minLabel:p,max:m,maxLabel:v,offsetPercentage:`${K}%`,restrictToMarks:w,sliderValue:j,showTooltip:x,step:A,stepMultiplier:_,trackDragging:ie})})});var Eq=`/* Styles applied to root component */
.saltTooltip {
  --tooltip-background: var(--saltTooltip-background, var(--salt-container-primary-background));
  --tooltip-zIndex: var(--saltTooltip-zIndex, var(--salt-zIndex-flyover));
  /* apply icon margin based on the text line height so it's aligned on all densities */
  --tooltip-icon-marginTop: calc((var(--salt-text-lineHeight) - max(var(--salt-size-icon), 12px)) / 2);
  --tooltip-status-borderColor: var(--salt-container-primary-borderColor);
  /* Single line height should be size-base */
  --tooltip-padding: calc(var(--salt-spacing-75) - var(--salt-size-border)) var(--salt-spacing-100);
}

.saltTooltip {
  box-sizing: border-box;
  background: var(--tooltip-background);
  border-color: var(--saltTooltip-borderColor, var(--tooltip-status-borderColor));
  border-style: var(--saltTooltip-borderStyle, var(--salt-container-borderStyle));
  border-width: var(--saltTooltip-borderWidth, var(--salt-size-border));
  border-radius: var(--saltTooltip-borderRadius, var(--salt-palette-corner-weak, 0));
  box-shadow: var(--saltTooltip-shadow, var(--salt-overlayable-shadow-popout));
  color: var(--saltTooltip-text-color, var(--salt-content-primary-foreground));
  font-family: var(--salt-text-fontFamily);
  font-size: var(--saltTooltip-fontSize, var(--salt-text-fontSize));
  font-weight: var(--saltTooltip-fontWeight, var(--salt-text-fontWeight));
  line-height: var(--saltTooltip-lineHeight, var(--salt-text-lineHeight));
  max-width: var(--saltTooltip-maxWidth, 230px);
  padding: var(--saltTooltip-padding, var(--tooltip-padding));
  position: relative;
  text-align: var(--saltTooltip-textAlign, left);
  z-index: var(--tooltip-zIndex);
}

/* Styles applied to container */
.saltTooltip-container {
  display: flex;
  align-items: baseline;
  position: relative;
}

/* Styles applied to content */
.saltTooltip-content {
  overflow: hidden;
}

/* Styles applied to status indicator */
.saltTooltip-icon {
  --saltIcon-margin: var(--tooltip-icon-marginTop) var(--salt-spacing-75) 0 0;
  vertical-align: top;
  align-self: flex-start;
}

/* Styles applied when status = "info" */
.saltTooltip-info {
  --tooltip-status-borderColor: var(--salt-status-info-borderColor);
}

/* Styles applied when status = "error" */
.saltTooltip-error {
  --tooltip-status-borderColor: var(--salt-status-error-borderColor);
}

/* Styles applied when status = "warning" */
.saltTooltip-warning {
  --tooltip-status-borderColor: var(--salt-status-warning-borderColor);
}

/* Styles applied when status = "success" */
.saltTooltip-success {
  --tooltip-status-borderColor: var(--salt-status-success-borderColor);
}
`;const Mb=sn("saltTooltip"),Cq=n=>{const e=rn();dn({testId:"salt-tooltip",css:Eq,window:e});const{a11yProps:t}=rg(),{arrowProps:r,content:i,hideArrow:s,hideIcon:o,status:a}=n;return te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:Mb("container"),children:[!o&&a&&te.jsx(YU,{status:a,size:1,className:Mb("icon")}),te.jsx("span",{id:t==null?void 0:t["aria-describedby"],className:Mb("content"),children:i})]}),!s&&te.jsx(mK,{...r,className:Mb("arrow"),strokeWidth:1,fill:"var(--salt-container-primary-background)",stroke:"var(--tooltip-status-borderColor)",height:5,width:10})]})};function Tq(n){return(n==null?void 0:n.ownerDocument)??document}function Mq(n){return Tq(n).defaultView??window}function Rq(n){return n?n instanceof Mq(n).Element:!1}function Iq(n,e,t){return t&&t!=="mouse"?0:typeof n=="number"?n:n==null?void 0:n[e]}const Pq=(n,{delay:e=0})=>{const{open:t,dataRef:r,refs:i}=n,s=k.useRef(),o=k.useRef(),a=k.useRef(!0),{announce:l}=qU();md(()=>{t||(s.current=void 0)}),k.useEffect(()=>{const d=i.reference.current;function p(){var v;const y=(v=i.floating.current)==null?void 0:v.innerText;y&&l(y)}function m(v){clearTimeout(o.current),!t&&(a.current=!1,r.current.openEvent=v,e?o.current=window.setTimeout(()=>{p()},Iq(e,"open",s.current)):p())}if(Rq(d))return d.addEventListener("mouseenter",m),()=>{d.removeEventListener("mouseenter",m)}},[r,e,t,i.reference,i.floating,l]);function c(d){s.current=d.pointerType}return{reference:{onPointerDown:c,onPointerEnter:c},floating:{onMouseEnter(){clearTimeout(o.current)}}}};function Bq(n){const{enterDelay:e,disabled:t,leaveDelay:r,open:i,onOpenChange:s,placement:o,disableHoverListener:a,disableFocusListener:l}=n??{},c=k.useRef(null),[d,p]=Sc({controlled:i,default:!1,name:"Tooltip",state:"open"}),m=U=>{p(U),s==null||s(U)},{floating:v,reference:y,x:b,y:w,strategy:x,placement:A,context:_,elements:T}=zS({open:t?!1:d,onOpenChange:m,placement:o,middleware:[dI(8),fI({limiter:hI()}),LS({fallbackAxisSideDirection:"end",fallbackStrategy:"initialPlacement"}),tK({element:c})]}),{getReferenceProps:R,getFloatingProps:P}=OS([RU(_,{delay:{open:e,close:r},enabled:!(a||t),handleClose:UU()}),NU(_,{enabled:!(l||t)}),FU(_,{role:"tooltip"}),DS(_,{enabled:!t}),Pq(_,{delay:{open:e,close:r}})]);return{arrowProps:{ref:c,context:_},open:d,floating:v,reference:y,getTooltipProps:()=>{const{tabIndex:U,...V}=P({"data-placement":A,ref:v});return V},getTriggerProps:()=>R({ref:y}),getTooltipPosition:()=>{var U,V;return{top:w??0,left:b??0,position:x,width:(U=T.floating)==null?void 0:U.offsetWidth,height:(V=T.floating)==null?void 0:V.offsetHeight}}}}const ak=sn("saltTooltip"),S0e=k.forwardRef(function(e,t){const{children:r,className:i,disabled:s=!1,hideArrow:o=!1,hideIcon:a=!1,open:l,content:c,status:d,placement:p="right",enterDelay:m=300,leaveDelay:v=0,...y}=e,{disabled:b,validationStatus:w}=rg(),x=s||b,A=d??(w!==void 0&&tq.includes(w)?w:void 0),{Component:_}=US(),T={open:l,disabled:x,placement:p,enterDelay:m,leaveDelay:v,...y},{arrowProps:R,open:P,floating:D,reference:N,getTriggerProps:L,getTooltipProps:M,getTooltipPosition:U}=Bq(T),V=$o(oz(r),N),H=$o(D,t),j=c!==void 0&&c!=="";return te.jsxs(te.Fragment,{children:[k.isValidElement(r)&&k.cloneElement(r,{..._I(L(),r.props),ref:V}),te.jsx(_,{className:mt(ak(),{[ak(A??"")]:A},i),open:P&&!x&&j,...M(),ref:H,...U(),children:te.jsx(Cq,{hideIcon:a,status:A,content:c,hideArrow:o,arrowProps:R})})]})});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const py="152",bf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_f={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lz=0,HT=1,cz=2,Lq=3,uz=0,GS=1,a0=2,xa=3,xl=0,fs=1,Ea=2,kq=2,pc=0,Vf=1,GT=2,WT=3,VT=4,dz=5,Cf=100,fz=101,hz=102,jT=103,XT=104,pz=200,mz=201,gz=202,vz=203,SI=204,AI=205,yz=206,xz=207,bz=208,_z=209,wz=210,Sz=0,Az=1,Ez=2,Gw=3,Cz=4,Tz=5,Mz=6,Rz=7,my=0,Iz=1,Pz=2,Ra=0,Bz=1,Lz=2,kz=3,EI=4,Dz=5,WS=300,nd=301,rd=302,U0=303,z0=304,ig=306,id=1e3,Li=1001,Hm=1002,Ir=1003,H0=1004,Dq=1004,Sm=1005,Oq=1005,hr=1006,VS=1007,Nq=1007,bl=1008,Fq=1008,Ac=1009,Oz=1010,Nz=1011,CI=1012,Fz=1013,Bu=1014,cc=1015,Gm=1016,Uz=1017,zz=1018,jf=1020,Hz=1021,Ps=1023,Gz=1024,Wz=1025,ju=1026,oh=1027,Vz=1028,jz=1029,Xz=1030,Jz=1031,Kz=1033,H_=33776,G_=33777,W_=33778,V_=33779,JT=35840,KT=35841,$T=35842,YT=35843,$z=36196,qT=37492,QT=37496,ZT=37808,eM=37809,tM=37810,nM=37811,rM=37812,iM=37813,sM=37814,oM=37815,aM=37816,lM=37817,cM=37818,uM=37819,dM=37820,fM=37821,j_=36492,Yz=36283,hM=36284,pM=36285,mM=36286,qz=2200,Qz=2201,Zz=2202,Wm=2300,ah=2301,X_=2302,Pf=2400,Bf=2401,G0=2402,jS=2500,TI=2501,e4=0,MI=1,Ww=2,RI=3e3,Xu=3001,t4=3200,n4=3201,gd=0,r4=1,Ju="",tn="srgb",Ba="srgb-linear",II="display-p3",Uq=0,J_=7680,zq=7681,Hq=7682,Gq=7683,Wq=34055,Vq=34056,jq=5386,Xq=512,Jq=513,Kq=514,$q=515,Yq=516,qq=517,Qq=518,i4=519,W0=35044,Zq=35048,eQ=35040,tQ=35045,nQ=35049,rQ=35041,iQ=35046,sQ=35050,oQ=35042,aQ="100",gM="300 es",Vw=1035;let Bc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let lk=1234567;const Xf=Math.PI/180,Vm=180/Math.PI;function ho(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Wi[n&255]+Wi[n>>8&255]+Wi[n>>16&255]+Wi[n>>24&255]+"-"+Wi[e&255]+Wi[e>>8&255]+"-"+Wi[e>>16&15|64]+Wi[e>>24&255]+"-"+Wi[t&63|128]+Wi[t>>8&255]+"-"+Wi[t>>16&255]+Wi[t>>24&255]+Wi[r&255]+Wi[r>>8&255]+Wi[r>>16&255]+Wi[r>>24&255]).toLowerCase()}function Pr(n,e,t){return Math.max(e,Math.min(t,n))}function PI(n,e){return(n%e+e)%e}function lQ(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function cQ(n,e,t){return n!==e?(t-n)/(e-n):0}function l0(n,e,t){return(1-t)*n+t*e}function uQ(n,e,t,r){return l0(n,e,1-Math.exp(-t*r))}function dQ(n,e=1){return e-Math.abs(PI(n,e*2)-e)}function fQ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function hQ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function pQ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function mQ(n,e){return n+Math.random()*(e-n)}function gQ(n){return n*(.5-Math.random())}function vQ(n){n!==void 0&&(lk=n);let e=lk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function yQ(n){return n*Xf}function xQ(n){return n*Vm}function vM(n){return(n&n-1)===0&&n!==0}function s4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function o4(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function bQ(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),d=o((e+r)/2),p=s((e-r)/2),m=o((e-r)/2),v=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*p,l*m,a*c);break;case"YZY":n.set(l*m,a*d,l*p,a*c);break;case"ZXZ":n.set(l*p,l*m,a*d,a*c);break;case"XZX":n.set(a*d,l*y,l*v,a*c);break;case"YXY":n.set(l*v,a*d,l*y,a*c);break;case"ZYZ":n.set(l*y,l*v,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function co(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function un(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const dm={DEG2RAD:Xf,RAD2DEG:Vm,generateUUID:ho,clamp:Pr,euclideanModulo:PI,mapLinear:lQ,inverseLerp:cQ,lerp:l0,damp:uQ,pingpong:dQ,smoothstep:fQ,smootherstep:hQ,randInt:pQ,randFloat:mQ,randFloatSpread:gQ,seededRandom:vQ,degToRad:yQ,radToDeg:xQ,isPowerOfTwo:vM,ceilPowerOfTwo:s4,floorPowerOfTwo:o4,setQuaternionFromProperEuler:bQ,normalize:un,denormalize:co};class He{constructor(e=0,t=0){He.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pn{constructor(){pn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],p=r[7],m=r[2],v=r[5],y=r[8],b=i[0],w=i[3],x=i[6],A=i[1],_=i[4],T=i[7],R=i[2],P=i[5],D=i[8];return s[0]=o*b+a*A+l*R,s[3]=o*w+a*_+l*P,s[6]=o*x+a*T+l*D,s[1]=c*b+d*A+p*R,s[4]=c*w+d*_+p*P,s[7]=c*x+d*T+p*D,s[2]=m*b+v*A+y*R,s[5]=m*w+v*_+y*P,s[8]=m*x+v*T+y*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],p=d*o-a*c,m=a*l-d*s,v=c*s-o*l,y=t*p+r*m+i*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/y;return e[0]=p*b,e[1]=(i*c-d*r)*b,e[2]=(a*r-i*o)*b,e[3]=m*b,e[4]=(d*t-i*l)*b,e[5]=(i*s-a*t)*b,e[6]=v*b,e[7]=(r*l-c*t)*b,e[8]=(o*t-r*s)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(bE.makeScale(e,t)),this}rotate(e){return this.premultiply(bE.makeRotation(-e)),this}translate(e,t){return this.premultiply(bE.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bE=new pn;function a4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const _Q={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fm(n,e){return new _Q[n](e)}function V0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const ck={};function c0(n){n in ck||(ck[n]=!0,console.warn(n))}function Am(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function _E(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const wQ=new pn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),SQ=new pn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function AQ(n){return n.convertSRGBToLinear().applyMatrix3(SQ)}function EQ(n){return n.applyMatrix3(wQ).convertLinearToSRGB()}const CQ={[Ba]:n=>n,[tn]:n=>n.convertSRGBToLinear(),[II]:AQ},TQ={[Ba]:n=>n,[tn]:n=>n.convertLinearToSRGB(),[II]:EQ},zo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Ba},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=CQ[e],i=TQ[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let pp;class BI{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{pp===void 0&&(pp=V0("canvas")),pp.width=e.width,pp.height=e.height;const r=pp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=pp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=V0("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Am(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Am(t[r]/255)*255):t[r]=Am(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Lf{constructor(e=null){this.isSource=!0,this.uuid=ho(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(wE(i[o].image)):s.push(wE(i[o]))}else s=wE(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function wE(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?BI.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let MQ=0;class gr extends Bc{constructor(e=gr.DEFAULT_IMAGE,t=gr.DEFAULT_MAPPING,r=Li,i=Li,s=hr,o=bl,a=Ps,l=Ac,c=gr.DEFAULT_ANISOTROPY,d=Ju){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:MQ++}),this.uuid=ho(),this.name="",this.source=new Lf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(c0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Xu?tn:Ju),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==WS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case id:e.x=e.x-Math.floor(e.x);break;case Li:e.x=e.x<0?0:1;break;case Hm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case id:e.y=e.y-Math.floor(e.y);break;case Li:e.y=e.y<0?0:1;break;case Hm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return c0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===tn?Xu:RI}set encoding(e){c0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Xu?tn:Ju}}gr.DEFAULT_IMAGE=null;gr.DEFAULT_MAPPING=WS;gr.DEFAULT_ANISOTROPY=1;class kn{constructor(e=0,t=0,r=0,i=1){kn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],d=l[4],p=l[8],m=l[1],v=l[5],y=l[9],b=l[2],w=l[6],x=l[10];if(Math.abs(d-m)<.01&&Math.abs(p-b)<.01&&Math.abs(y-w)<.01){if(Math.abs(d+m)<.1&&Math.abs(p+b)<.1&&Math.abs(y+w)<.1&&Math.abs(c+v+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,T=(v+1)/2,R=(x+1)/2,P=(d+m)/4,D=(p+b)/4,N=(y+w)/4;return _>T&&_>R?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=P/r,s=D/r):T>R?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=P/i,s=N/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=D/s,i=N/s),this.set(r,i,s,t),this}let A=Math.sqrt((w-y)*(w-y)+(p-b)*(p-b)+(m-d)*(m-d));return Math.abs(A)<.001&&(A=1),this.x=(w-y)/A,this.y=(p-b)/A,this.z=(m-d)/A,this.w=Math.acos((c+v+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class La extends Bc{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new kn(0,0,e,t),this.scissorTest=!1,this.viewport=new kn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(c0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Xu?tn:Ju),this.texture=new gr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:hr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Lf(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class XS extends gr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ir,this.minFilter=Ir,this.wrapR=Li,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class RQ extends La{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new XS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class LI extends gr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ir,this.minFilter=Ir,this.wrapR=Li,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class IQ extends La{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new LI(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class PQ extends La{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ei{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],p=r[i+3];const m=s[o+0],v=s[o+1],y=s[o+2],b=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=p;return}if(a===1){e[t+0]=m,e[t+1]=v,e[t+2]=y,e[t+3]=b;return}if(p!==b||l!==m||c!==v||d!==y){let w=1-a;const x=l*m+c*v+d*y+p*b,A=x>=0?1:-1,_=1-x*x;if(_>Number.EPSILON){const R=Math.sqrt(_),P=Math.atan2(R,x*A);w=Math.sin(w*P)/R,a=Math.sin(a*P)/R}const T=a*A;if(l=l*w+m*T,c=c*w+v*T,d=d*w+y*T,p=p*w+b*T,w===1-a){const R=1/Math.sqrt(l*l+c*c+d*d+p*p);l*=R,c*=R,d*=R,p*=R}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],p=s[o],m=s[o+1],v=s[o+2],y=s[o+3];return e[t]=a*y+d*p+l*v-c*m,e[t+1]=l*y+d*m+c*p-a*v,e[t+2]=c*y+d*v+a*m-l*p,e[t+3]=d*y-a*p-l*m-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),p=a(s/2),m=l(r/2),v=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=m*d*p+c*v*y,this._y=c*v*p-m*d*y,this._z=c*d*y+m*v*p,this._w=c*d*p-m*v*y;break;case"YXZ":this._x=m*d*p+c*v*y,this._y=c*v*p-m*d*y,this._z=c*d*y-m*v*p,this._w=c*d*p+m*v*y;break;case"ZXY":this._x=m*d*p-c*v*y,this._y=c*v*p+m*d*y,this._z=c*d*y+m*v*p,this._w=c*d*p-m*v*y;break;case"ZYX":this._x=m*d*p-c*v*y,this._y=c*v*p+m*d*y,this._z=c*d*y-m*v*p,this._w=c*d*p+m*v*y;break;case"YZX":this._x=m*d*p+c*v*y,this._y=c*v*p+m*d*y,this._z=c*d*y-m*v*p,this._w=c*d*p-m*v*y;break;case"XZY":this._x=m*d*p-c*v*y,this._y=c*v*p-m*d*y,this._z=c*d*y+m*v*p,this._w=c*d*p+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],p=t[10],m=r+a+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(d-l)*v,this._y=(s-c)*v,this._z=(o-i)*v}else if(r>a&&r>p){const v=2*Math.sqrt(1+r-a-p);this._w=(d-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+c)/v}else if(a>p){const v=2*Math.sqrt(1+a-r-p);this._w=(s-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+p-r-a);this._w=(o-i)/v,this._x=(s+c)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),p=Math.sin((1-t)*d)/c,m=Math.sin(t*d)/c;return this._w=o*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=s*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(uk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(uk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,d=l*r+a*t-s*i,p=l*i+s*r-o*t,m=-s*t-o*r-a*i;return this.x=c*l+m*-s+d*-a-p*-o,this.y=d*l+m*-o+p*-s-c*-a,this.z=p*l+m*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return SE.copy(this).projectOnVector(e),this.sub(SE)}reflect(e){return this.sub(SE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const SE=new $,uk=new Ei;class Qo{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Jl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Jl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Jl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),mp.copy(e.boundingBox),mp.applyMatrix4(e.matrixWorld),this.union(mp);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Jl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Jl)}else i.boundingBox===null&&i.computeBoundingBox(),mp.copy(i.boundingBox),mp.applyMatrix4(e.matrixWorld),this.union(mp)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Jl),Jl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Av),Rb.subVectors(this.max,Av),gp.subVectors(e.a,Av),vp.subVectors(e.b,Av),yp.subVectors(e.c,Av),fu.subVectors(vp,gp),hu.subVectors(yp,vp),lf.subVectors(gp,yp);let t=[0,-fu.z,fu.y,0,-hu.z,hu.y,0,-lf.z,lf.y,fu.z,0,-fu.x,hu.z,0,-hu.x,lf.z,0,-lf.x,-fu.y,fu.x,0,-hu.y,hu.x,0,-lf.y,lf.x,0];return!AE(t,gp,vp,yp,Rb)||(t=[1,0,0,0,1,0,0,0,1],!AE(t,gp,vp,yp,Rb))?!1:(Ib.crossVectors(fu,hu),t=[Ib.x,Ib.y,Ib.z],AE(t,gp,vp,yp,Rb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xl=[new $,new $,new $,new $,new $,new $,new $,new $],Jl=new $,mp=new Qo,gp=new $,vp=new $,yp=new $,fu=new $,hu=new $,lf=new $,Av=new $,Rb=new $,Ib=new $,cf=new $;function AE(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){cf.fromArray(n,s);const a=i.x*Math.abs(cf.x)+i.y*Math.abs(cf.y)+i.z*Math.abs(cf.z),l=e.dot(cf),c=t.dot(cf),d=r.dot(cf);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const BQ=new Qo,Ev=new $,EE=new $;class ka{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):BQ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ev.subVectors(e,this.center);const t=Ev.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Ev,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(EE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ev.copy(e.center).add(EE)),this.expandByPoint(Ev.copy(e.center).sub(EE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Kl=new $,CE=new $,Pb=new $,pu=new $,TE=new $,Bb=new $,ME=new $;class sg{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Kl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Kl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Kl.copy(this.origin).addScaledVector(this.direction,t),Kl.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){CE.copy(e).add(t).multiplyScalar(.5),Pb.copy(t).sub(e).normalize(),pu.copy(this.origin).sub(CE);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Pb),a=pu.dot(this.direction),l=-pu.dot(Pb),c=pu.lengthSq(),d=Math.abs(1-o*o);let p,m,v,y;if(d>0)if(p=o*l-a,m=o*a-l,y=s*d,p>=0)if(m>=-y)if(m<=y){const b=1/d;p*=b,m*=b,v=p*(p+o*m+2*a)+m*(o*p+m+2*l)+c}else m=s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+c;else m=-s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+c;else m<=-y?(p=Math.max(0,-(-o*s+a)),m=p>0?-s:Math.min(Math.max(-s,-l),s),v=-p*p+m*(m+2*l)+c):m<=y?(p=0,m=Math.min(Math.max(-s,-l),s),v=m*(m+2*l)+c):(p=Math.max(0,-(o*s+a)),m=p>0?s:Math.min(Math.max(-s,-l),s),v=-p*p+m*(m+2*l)+c);else m=o>0?-s:s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(CE).addScaledVector(Pb,m),v}intersectSphere(e,t){Kl.subVectors(e.center,this.origin);const r=Kl.dot(this.direction),i=Kl.dot(Kl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,m=this.origin;return c>=0?(r=(e.min.x-m.x)*c,i=(e.max.x-m.x)*c):(r=(e.max.x-m.x)*c,i=(e.min.x-m.x)*c),d>=0?(s=(e.min.y-m.y)*d,o=(e.max.y-m.y)*d):(s=(e.max.y-m.y)*d,o=(e.min.y-m.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),p>=0?(a=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(a=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Kl)!==null}intersectTriangle(e,t,r,i,s){TE.subVectors(t,e),Bb.subVectors(r,e),ME.crossVectors(TE,Bb);let o=this.direction.dot(ME),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;pu.subVectors(this.origin,e);const l=a*this.direction.dot(Bb.crossVectors(pu,Bb));if(l<0)return null;const c=a*this.direction.dot(TE.cross(pu));if(c<0||l+c>o)return null;const d=-a*pu.dot(ME);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ht{constructor(){Ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,d,p,m,v,y,b,w){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=d,x[10]=p,x[14]=m,x[3]=v,x[7]=y,x[11]=b,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ht().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/xp.setFromMatrixColumn(e,0).length(),s=1/xp.setFromMatrixColumn(e,1).length(),o=1/xp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const m=o*d,v=o*p,y=a*d,b=a*p;t[0]=l*d,t[4]=-l*p,t[8]=c,t[1]=v+y*c,t[5]=m-b*c,t[9]=-a*l,t[2]=b-m*c,t[6]=y+v*c,t[10]=o*l}else if(e.order==="YXZ"){const m=l*d,v=l*p,y=c*d,b=c*p;t[0]=m+b*a,t[4]=y*a-v,t[8]=o*c,t[1]=o*p,t[5]=o*d,t[9]=-a,t[2]=v*a-y,t[6]=b+m*a,t[10]=o*l}else if(e.order==="ZXY"){const m=l*d,v=l*p,y=c*d,b=c*p;t[0]=m-b*a,t[4]=-o*p,t[8]=y+v*a,t[1]=v+y*a,t[5]=o*d,t[9]=b-m*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const m=o*d,v=o*p,y=a*d,b=a*p;t[0]=l*d,t[4]=y*c-v,t[8]=m*c+b,t[1]=l*p,t[5]=b*c+m,t[9]=v*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const m=o*l,v=o*c,y=a*l,b=a*c;t[0]=l*d,t[4]=b-m*p,t[8]=y*p+v,t[1]=p,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=v*p+y,t[10]=m-b*p}else if(e.order==="XZY"){const m=o*l,v=o*c,y=a*l,b=a*c;t[0]=l*d,t[4]=-p,t[8]=c*d,t[1]=m*p+b,t[5]=o*d,t[9]=v*p-y,t[2]=y*p-v,t[6]=a*d,t[10]=b*p+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(LQ,e,kQ)}lookAt(e,t,r){const i=this.elements;return ro.subVectors(e,t),ro.lengthSq()===0&&(ro.z=1),ro.normalize(),mu.crossVectors(r,ro),mu.lengthSq()===0&&(Math.abs(r.z)===1?ro.x+=1e-4:ro.z+=1e-4,ro.normalize(),mu.crossVectors(r,ro)),mu.normalize(),Lb.crossVectors(ro,mu),i[0]=mu.x,i[4]=Lb.x,i[8]=ro.x,i[1]=mu.y,i[5]=Lb.y,i[9]=ro.y,i[2]=mu.z,i[6]=Lb.z,i[10]=ro.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],p=r[5],m=r[9],v=r[13],y=r[2],b=r[6],w=r[10],x=r[14],A=r[3],_=r[7],T=r[11],R=r[15],P=i[0],D=i[4],N=i[8],L=i[12],M=i[1],U=i[5],V=i[9],H=i[13],j=i[2],K=i[6],ee=i[10],ne=i[14],z=i[3],G=i[7],Y=i[11],le=i[15];return s[0]=o*P+a*M+l*j+c*z,s[4]=o*D+a*U+l*K+c*G,s[8]=o*N+a*V+l*ee+c*Y,s[12]=o*L+a*H+l*ne+c*le,s[1]=d*P+p*M+m*j+v*z,s[5]=d*D+p*U+m*K+v*G,s[9]=d*N+p*V+m*ee+v*Y,s[13]=d*L+p*H+m*ne+v*le,s[2]=y*P+b*M+w*j+x*z,s[6]=y*D+b*U+w*K+x*G,s[10]=y*N+b*V+w*ee+x*Y,s[14]=y*L+b*H+w*ne+x*le,s[3]=A*P+_*M+T*j+R*z,s[7]=A*D+_*U+T*K+R*G,s[11]=A*N+_*V+T*ee+R*Y,s[15]=A*L+_*H+T*ne+R*le,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],p=e[6],m=e[10],v=e[14],y=e[3],b=e[7],w=e[11],x=e[15];return y*(+s*l*p-i*c*p-s*a*m+r*c*m+i*a*v-r*l*v)+b*(+t*l*v-t*c*m+s*o*m-i*o*v+i*c*d-s*l*d)+w*(+t*c*p-t*a*v-s*o*p+r*o*v+s*a*d-r*c*d)+x*(-i*a*d-t*l*p+t*a*m+i*o*p-r*o*m+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],p=e[9],m=e[10],v=e[11],y=e[12],b=e[13],w=e[14],x=e[15],A=p*w*c-b*m*c+b*l*v-a*w*v-p*l*x+a*m*x,_=y*m*c-d*w*c-y*l*v+o*w*v+d*l*x-o*m*x,T=d*b*c-y*p*c+y*a*v-o*b*v-d*a*x+o*p*x,R=y*p*l-d*b*l-y*a*m+o*b*m+d*a*w-o*p*w,P=t*A+r*_+i*T+s*R;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/P;return e[0]=A*D,e[1]=(b*m*s-p*w*s-b*i*v+r*w*v+p*i*x-r*m*x)*D,e[2]=(a*w*s-b*l*s+b*i*c-r*w*c-a*i*x+r*l*x)*D,e[3]=(p*l*s-a*m*s-p*i*c+r*m*c+a*i*v-r*l*v)*D,e[4]=_*D,e[5]=(d*w*s-y*m*s+y*i*v-t*w*v-d*i*x+t*m*x)*D,e[6]=(y*l*s-o*w*s-y*i*c+t*w*c+o*i*x-t*l*x)*D,e[7]=(o*m*s-d*l*s+d*i*c-t*m*c-o*i*v+t*l*v)*D,e[8]=T*D,e[9]=(y*p*s-d*b*s-y*r*v+t*b*v+d*r*x-t*p*x)*D,e[10]=(o*b*s-y*a*s+y*r*c-t*b*c-o*r*x+t*a*x)*D,e[11]=(d*a*s-o*p*s-d*r*c+t*p*c+o*r*v-t*a*v)*D,e[12]=R*D,e[13]=(d*b*i-y*p*i+y*r*m-t*b*m-d*r*w+t*p*w)*D,e[14]=(y*a*i-o*b*i-y*r*l+t*b*l+o*r*w-t*a*w)*D,e[15]=(o*p*i-d*a*i+d*r*l-t*p*l-o*r*m+t*a*m)*D,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,p=a+a,m=s*c,v=s*d,y=s*p,b=o*d,w=o*p,x=a*p,A=l*c,_=l*d,T=l*p,R=r.x,P=r.y,D=r.z;return i[0]=(1-(b+x))*R,i[1]=(v+T)*R,i[2]=(y-_)*R,i[3]=0,i[4]=(v-T)*P,i[5]=(1-(m+x))*P,i[6]=(w+A)*P,i[7]=0,i[8]=(y+_)*D,i[9]=(w-A)*D,i[10]=(1-(m+b))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=xp.set(i[0],i[1],i[2]).length();const o=xp.set(i[4],i[5],i[6]).length(),a=xp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],pa.copy(this);const c=1/s,d=1/o,p=1/a;return pa.elements[0]*=c,pa.elements[1]*=c,pa.elements[2]*=c,pa.elements[4]*=d,pa.elements[5]*=d,pa.elements[6]*=d,pa.elements[8]*=p,pa.elements[9]*=p,pa.elements[10]*=p,t.setFromRotationMatrix(pa),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),d=(t+e)/(t-e),p=(r+i)/(r-i),m=-(o+s)/(o-s),v=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=m,a[14]=v,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),d=1/(o-s),p=(t+e)*l,m=(r+i)*c,v=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-m,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-v,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const xp=new $,pa=new Ht,LQ=new $(0,0,0),kQ=new $(1,1,1),mu=new $,Lb=new $,ro=new $,dk=new Ht,fk=new Ei;class gy{constructor(e=0,t=0,r=0,i=gy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],p=i[2],m=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(Pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-Pr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return dk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dk,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return fk.setFromEuler(this),this.setFromQuaternion(fk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gy.DEFAULT_ORDER="XYZ";class Jf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let DQ=0;const hk=new $,bp=new Ei,$l=new Ht,kb=new $,Cv=new $,OQ=new $,NQ=new Ei,pk=new $(1,0,0),mk=new $(0,1,0),gk=new $(0,0,1),FQ={type:"added"},vk={type:"removed"};class wn extends Bc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:DQ++}),this.uuid=ho(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const e=new $,t=new gy,r=new Ei,i=new $(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ht},normalMatrix:{value:new pn}}),this.matrix=new Ht,this.matrixWorld=new Ht,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Jf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return bp.setFromAxisAngle(e,t),this.quaternion.multiply(bp),this}rotateOnWorldAxis(e,t){return bp.setFromAxisAngle(e,t),this.quaternion.premultiply(bp),this}rotateX(e){return this.rotateOnAxis(pk,e)}rotateY(e){return this.rotateOnAxis(mk,e)}rotateZ(e){return this.rotateOnAxis(gk,e)}translateOnAxis(e,t){return hk.copy(e).applyQuaternion(this.quaternion),this.position.add(hk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(pk,e)}translateY(e){return this.translateOnAxis(mk,e)}translateZ(e){return this.translateOnAxis(gk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($l.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?kb.copy(e):kb.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Cv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$l.lookAt(Cv,kb,this.up):$l.lookAt(kb,Cv,this.up),this.quaternion.setFromRotationMatrix($l),i&&($l.extractRotation(i.matrixWorld),bp.setFromRotationMatrix($l),this.quaternion.premultiply(bp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(FQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vk)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(vk)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$l.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$l.multiply(e.parent.matrixWorld)),e.applyMatrix4($l),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cv,e,OQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cv,NQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const p=l[c];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),p=o(e.shapes),m=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}wn.DEFAULT_UP=new $(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ma=new $,Yl=new $,RE=new $,ql=new $,_p=new $,wp=new $,yk=new $,IE=new $,PE=new $,BE=new $;let Db=!1;class Rs{constructor(e=new $,t=new $,r=new $){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ma.subVectors(e,t),i.cross(ma);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ma.subVectors(i,t),Yl.subVectors(r,t),RE.subVectors(e,t);const o=ma.dot(ma),a=ma.dot(Yl),l=ma.dot(RE),c=Yl.dot(Yl),d=Yl.dot(RE),p=o*c-a*a;if(p===0)return s.set(-2,-1,-1);const m=1/p,v=(c*l-a*d)*m,y=(o*d-a*l)*m;return s.set(1-v-y,y,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ql),ql.x>=0&&ql.y>=0&&ql.x+ql.y<=1}static getUV(e,t,r,i,s,o,a,l){return Db===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Db=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ql),l.setScalar(0),l.addScaledVector(s,ql.x),l.addScaledVector(o,ql.y),l.addScaledVector(a,ql.z),l}static isFrontFacing(e,t,r,i){return ma.subVectors(r,t),Yl.subVectors(e,t),ma.cross(Yl).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ma.subVectors(this.c,this.b),Yl.subVectors(this.a,this.b),ma.cross(Yl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Rs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Rs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Db===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Db=!0),Rs.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Rs.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Rs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Rs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;_p.subVectors(i,r),wp.subVectors(s,r),IE.subVectors(e,r);const l=_p.dot(IE),c=wp.dot(IE);if(l<=0&&c<=0)return t.copy(r);PE.subVectors(e,i);const d=_p.dot(PE),p=wp.dot(PE);if(d>=0&&p<=d)return t.copy(i);const m=l*p-d*c;if(m<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(_p,o);BE.subVectors(e,s);const v=_p.dot(BE),y=wp.dot(BE);if(y>=0&&v<=y)return t.copy(s);const b=v*c-l*y;if(b<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(wp,a);const w=d*y-v*p;if(w<=0&&p-d>=0&&v-y>=0)return yk.subVectors(s,i),a=(p-d)/(p-d+(v-y)),t.copy(i).addScaledVector(yk,a);const x=1/(w+b+m);return o=b*x,a=m*x,t.copy(r).addScaledVector(_p,o).addScaledVector(wp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let UQ=0;class ai extends Bc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:UQ++}),this.uuid=ho(),this.name="",this.type="Material",this.blending=Vf,this.side=xl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SI,this.blendDst=AI,this.blendEquation=Cf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Gw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=i4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=J_,this.stencilZFail=J_,this.stencilZPass=J_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Vf&&(r.blending=this.blending),this.side!==xl&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const l4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ga={h:0,s:0,l:0},Ob={h:0,s:0,l:0};function LE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ut{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=tn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,zo.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=zo.workingColorSpace){return this.r=e,this.g=t,this.b=r,zo.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=zo.workingColorSpace){if(e=PI(e,1),t=Pr(t,0,1),r=Pr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=LE(o,s,e+1/3),this.g=LE(o,s,e),this.b=LE(o,s,e-1/3)}return zo.toWorkingColorSpace(this,i),this}setStyle(e,t=tn){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=tn){const r=l4[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Am(e.r),this.g=Am(e.g),this.b=Am(e.b),this}copyLinearToSRGB(e){return this.r=_E(e.r),this.g=_E(e.g),this.b=_E(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=tn){return zo.fromWorkingColorSpace(Vi.copy(this),e),Math.round(Pr(Vi.r*255,0,255))*65536+Math.round(Pr(Vi.g*255,0,255))*256+Math.round(Pr(Vi.b*255,0,255))}getHexString(e=tn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=zo.workingColorSpace){zo.fromWorkingColorSpace(Vi.copy(this),t);const r=Vi.r,i=Vi.g,s=Vi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const p=o-a;switch(c=d<=.5?p/(o+a):p/(2-o-a),o){case r:l=(i-s)/p+(i<s?6:0);break;case i:l=(s-r)/p+2;break;case s:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=zo.workingColorSpace){return zo.fromWorkingColorSpace(Vi.copy(this),t),e.r=Vi.r,e.g=Vi.g,e.b=Vi.b,e}getStyle(e=tn){zo.fromWorkingColorSpace(Vi.copy(this),e);const t=Vi.r,r=Vi.g,i=Vi.b;return e!==tn?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(ga),ga.h+=e,ga.s+=t,ga.l+=r,this.setHSL(ga.h,ga.s,ga.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ga),e.getHSL(Ob);const r=l0(ga.h,Ob.h,t),i=l0(ga.s,Ob.s,t),s=l0(ga.l,Ob.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vi=new ut;ut.NAMES=l4;class uo extends ai{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const sc=zQ();function zQ(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ts(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Pr(n,-65504,65504),sc.floatView[0]=n;const e=sc.uint32View[0],t=e>>23&511;return sc.baseTable[t]+((e&8388607)>>sc.shiftTable[t])}function Vv(n){const e=n>>10;return sc.uint32View[0]=sc.mantissaTable[sc.offsetTable[e]+(n&1023)]+sc.exponentTable[e],sc.floatView[0]}const HQ={toHalfFloat:Ts,fromHalfFloat:Vv},Jr=new $,Nb=new He;class Tn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=W0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Nb.fromBufferAttribute(this,t),Nb.applyMatrix3(e),this.setXY(t,Nb.x,Nb.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyMatrix3(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyMatrix4(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.applyNormalMatrix(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Jr.fromBufferAttribute(this,t),Jr.transformDirection(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=co(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=co(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=co(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),s=un(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==W0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class GQ extends Tn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class WQ extends Tn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class VQ extends Tn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class jQ extends Tn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class kI extends Tn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class XQ extends Tn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class DI extends Tn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class JQ extends Tn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Vv(this.array[e*this.itemSize]);return this.normalized&&(t=co(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=Ts(t),this}getY(e){let t=Vv(this.array[e*this.itemSize+1]);return this.normalized&&(t=co(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=Ts(t),this}getZ(e){let t=Vv(this.array[e*this.itemSize+2]);return this.normalized&&(t=co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=Ts(t),this}getW(e){let t=Vv(this.array[e*this.itemSize+3]);return this.normalized&&(t=co(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=Ts(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.array[e+0]=Ts(t),this.array[e+1]=Ts(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=Ts(t),this.array[e+1]=Ts(r),this.array[e+2]=Ts(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),s=un(s,this.array)),this.array[e+0]=Ts(t),this.array[e+1]=Ts(r),this.array[e+2]=Ts(i),this.array[e+3]=Ts(s),this}}class At extends Tn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class KQ extends Tn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let $Q=0;const Uo=new Ht,kE=new wn,Sp=new $,io=new Qo,Tv=new Qo,_i=new $;class nn extends Bc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:$Q++}),this.uuid=ho(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(a4(e)?DI:kI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new pn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Uo.makeRotationFromQuaternion(e),this.applyMatrix4(Uo),this}rotateX(e){return Uo.makeRotationX(e),this.applyMatrix4(Uo),this}rotateY(e){return Uo.makeRotationY(e),this.applyMatrix4(Uo),this}rotateZ(e){return Uo.makeRotationZ(e),this.applyMatrix4(Uo),this}translate(e,t,r){return Uo.makeTranslation(e,t,r),this.applyMatrix4(Uo),this}scale(e,t,r){return Uo.makeScale(e,t,r),this.applyMatrix4(Uo),this}lookAt(e){return kE.lookAt(e),kE.updateMatrix(),this.applyMatrix4(kE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sp).negate(),this.translate(Sp.x,Sp.y,Sp.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new At(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];io.setFromBufferAttribute(s),this.morphTargetsRelative?(_i.addVectors(this.boundingBox.min,io.min),this.boundingBox.expandByPoint(_i),_i.addVectors(this.boundingBox.max,io.max),this.boundingBox.expandByPoint(_i)):(this.boundingBox.expandByPoint(io.min),this.boundingBox.expandByPoint(io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ka);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(io.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Tv.setFromBufferAttribute(a),this.morphTargetsRelative?(_i.addVectors(io.min,Tv.min),io.expandByPoint(_i),_i.addVectors(io.max,Tv.max),io.expandByPoint(_i)):(io.expandByPoint(Tv.min),io.expandByPoint(Tv.max))}io.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)_i.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(_i));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)_i.fromBufferAttribute(a,c),l&&(Sp.fromBufferAttribute(e,c),_i.add(Sp)),i=Math.max(i,r.distanceToSquared(_i))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Tn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let M=0;M<a;M++)c[M]=new $,d[M]=new $;const p=new $,m=new $,v=new $,y=new He,b=new He,w=new He,x=new $,A=new $;function _(M,U,V){p.fromArray(i,M*3),m.fromArray(i,U*3),v.fromArray(i,V*3),y.fromArray(o,M*2),b.fromArray(o,U*2),w.fromArray(o,V*2),m.sub(p),v.sub(p),b.sub(y),w.sub(y);const H=1/(b.x*w.y-w.x*b.y);isFinite(H)&&(x.copy(m).multiplyScalar(w.y).addScaledVector(v,-b.y).multiplyScalar(H),A.copy(v).multiplyScalar(b.x).addScaledVector(m,-w.x).multiplyScalar(H),c[M].add(x),c[U].add(x),c[V].add(x),d[M].add(A),d[U].add(A),d[V].add(A))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let M=0,U=T.length;M<U;++M){const V=T[M],H=V.start,j=V.count;for(let K=H,ee=H+j;K<ee;K+=3)_(r[K+0],r[K+1],r[K+2])}const R=new $,P=new $,D=new $,N=new $;function L(M){D.fromArray(s,M*3),N.copy(D);const U=c[M];R.copy(U),R.sub(D.multiplyScalar(D.dot(U))).normalize(),P.crossVectors(N,U);const H=P.dot(d[M])<0?-1:1;l[M*4]=R.x,l[M*4+1]=R.y,l[M*4+2]=R.z,l[M*4+3]=H}for(let M=0,U=T.length;M<U;++M){const V=T[M],H=V.start,j=V.count;for(let K=H,ee=H+j;K<ee;K+=3)L(r[K+0]),L(r[K+1]),L(r[K+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Tn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,c=new $,d=new $,p=new $;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),b=e.getX(m+1),w=e.getX(m+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,b),o.fromBufferAttribute(t,w),d.subVectors(o,s),p.subVectors(i,s),d.cross(p),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,b),c.fromBufferAttribute(r,w),a.add(d),l.add(d),c.add(d),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(w,c.x,c.y,c.z)}else for(let m=0,v=t.count;m<v;m+=3)i.fromBufferAttribute(t,m+0),s.fromBufferAttribute(t,m+1),o.fromBufferAttribute(t,m+2),d.subVectors(o,s),p.subVectors(i,s),d.cross(p),r.setXYZ(m+0,d.x,d.y,d.z),r.setXYZ(m+1,d.x,d.y,d.z),r.setXYZ(m+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)_i.fromBufferAttribute(e,t),_i.normalize(),e.setXYZ(t,_i.x,_i.y,_i.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,p=a.normalized,m=new c.constructor(l.length*d);let v=0,y=0;for(let b=0,w=l.length;b<w;b++){a.isInterleavedBufferAttribute?v=l[b]*a.data.stride+a.offset:v=l[b]*d;for(let x=0;x<d;x++)m[y++]=c[v++]}return new Tn(m,d,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new nn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=e(m,r);l.push(v)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let p=0,m=c.length;p<m;p++){const v=c[p];d.push(v.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],p=s[c];for(let m=0,v=p.length;m<v;m++)d.push(p[m].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const p=o[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const xk=new Ht,rl=new sg,Fb=new ka,bk=new $,Ap=new $,Ep=new $,Cp=new $,DE=new $,Ub=new $,zb=new He,Hb=new He,Gb=new He,_k=new $,wk=new $,Sk=new $,Wb=new $,Vb=new $;class Si extends wn{constructor(e=new nn,t=new uo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Ub.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],p=s[l];d!==0&&(DE.fromBufferAttribute(p,e),o?Ub.addScaledVector(DE,d):Ub.addScaledVector(DE.sub(t),d))}t.add(Ub)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Fb.copy(r.boundingSphere),Fb.applyMatrix4(s),rl.copy(e.ray).recast(e.near),!(Fb.containsPoint(rl.origin)===!1&&(rl.intersectSphere(Fb,bk)===null||rl.origin.distanceToSquared(bk)>(e.far-e.near)**2))&&(xk.copy(s).invert(),rl.copy(e.ray).applyMatrix4(xk),!(r.boundingBox!==null&&rl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let r;const i=this.geometry,s=this.material,o=i.index,a=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,d=i.attributes.normal,p=i.groups,m=i.drawRange;if(o!==null)if(Array.isArray(s))for(let v=0,y=p.length;v<y;v++){const b=p[v],w=s[b.materialIndex],x=Math.max(b.start,m.start),A=Math.min(o.count,Math.min(b.start+b.count,m.start+m.count));for(let _=x,T=A;_<T;_+=3){const R=o.getX(_),P=o.getX(_+1),D=o.getX(_+2);r=jb(this,w,e,rl,l,c,d,R,P,D),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),y=Math.min(o.count,m.start+m.count);for(let b=v,w=y;b<w;b+=3){const x=o.getX(b),A=o.getX(b+1),_=o.getX(b+2);r=jb(this,s,e,rl,l,c,d,x,A,_),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}else if(a!==void 0)if(Array.isArray(s))for(let v=0,y=p.length;v<y;v++){const b=p[v],w=s[b.materialIndex],x=Math.max(b.start,m.start),A=Math.min(a.count,Math.min(b.start+b.count,m.start+m.count));for(let _=x,T=A;_<T;_+=3){const R=_,P=_+1,D=_+2;r=jb(this,w,e,rl,l,c,d,R,P,D),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let b=v,w=y;b<w;b+=3){const x=b,A=b+1,_=b+2;r=jb(this,s,e,rl,l,c,d,x,A,_),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}}}function YQ(n,e,t,r,i,s,o,a){let l;if(e.side===fs?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===xl,a),l===null)return null;Vb.copy(a),Vb.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Vb);return c<t.near||c>t.far?null:{distance:c,point:Vb.clone(),object:n}}function jb(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,Ap),n.getVertexPosition(l,Ep),n.getVertexPosition(c,Cp);const d=YQ(n,e,t,r,Ap,Ep,Cp,Wb);if(d){i&&(zb.fromBufferAttribute(i,a),Hb.fromBufferAttribute(i,l),Gb.fromBufferAttribute(i,c),d.uv=Rs.getInterpolation(Wb,Ap,Ep,Cp,zb,Hb,Gb,new He)),s&&(zb.fromBufferAttribute(s,a),Hb.fromBufferAttribute(s,l),Gb.fromBufferAttribute(s,c),d.uv1=Rs.getInterpolation(Wb,Ap,Ep,Cp,zb,Hb,Gb,new He),d.uv2=d.uv1),o&&(_k.fromBufferAttribute(o,a),wk.fromBufferAttribute(o,l),Sk.fromBufferAttribute(o,c),d.normal=Rs.getInterpolation(Wb,Ap,Ep,Cp,_k,wk,Sk,new $),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new $,materialIndex:0};Rs.getNormal(Ap,Ep,Cp,p.normal),d.face=p}return d}class vd extends nn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],p=[];let m=0,v=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new At(c,3)),this.setAttribute("normal",new At(d,3)),this.setAttribute("uv",new At(p,2));function y(b,w,x,A,_,T,R,P,D,N,L){const M=T/D,U=R/N,V=T/2,H=R/2,j=P/2,K=D+1,ee=N+1;let ne=0,z=0;const G=new $;for(let Y=0;Y<ee;Y++){const le=Y*U-H;for(let ge=0;ge<K;ge++){const ie=ge*M-V;G[b]=ie*A,G[w]=le*_,G[x]=j,c.push(G.x,G.y,G.z),G[b]=0,G[w]=0,G[x]=P>0?1:-1,d.push(G.x,G.y,G.z),p.push(ge/D),p.push(1-Y/N),ne+=1}}for(let Y=0;Y<N;Y++)for(let le=0;le<D;le++){const ge=m+le+K*Y,ie=m+le+K*(Y+1),oe=m+(le+1)+K*(Y+1),he=m+(le+1)+K*Y;l.push(ge,ie,he),l.push(ie,oe,he),z+=6}a.addGroup(v,z,L),v+=z,m+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function jm(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ls(n){const e={};for(let t=0;t<n.length;t++){const r=jm(n[t]);for(const i in r)e[i]=r[i]}return e}function qQ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function c4(n){return n.getRenderTarget()===null?n.outputColorSpace:Ba}const u4={clone:jm,merge:ls};var QQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ZQ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class _l extends ai{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=QQ,this.fragmentShader=ZQ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jm(e.uniforms),this.uniformsGroups=qQ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class vy extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ht,this.projectionMatrix=new Ht,this.projectionMatrixInverse=new Ht}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Br extends vy{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Vm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vm*2*Math.atan(Math.tan(Xf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Xf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Tp=-90,Mp=1;class d4 extends wn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Br(Tp,Mp,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Br(Tp,Mp,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Br(Tp,Mp,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Br(Tp,Mp,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Br(Tp,Mp,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Br(Tp,Mp,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,d=e.getRenderTarget(),p=e.toneMapping,m=e.xr.enabled;e.toneMapping=Ra,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=p,e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class yy extends gr{constructor(e,t,r,i,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:nd,super(e,t,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class f4 extends La{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(c0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Xu?tn:Ju),this.texture=new yy(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new vd(5,5,5),s=new _l({name:"CubemapFromEquirect",uniforms:jm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:fs,blending:pc});s.uniforms.tEquirect.value=t;const o=new Si(i,s),a=t.minFilter;return t.minFilter===bl&&(t.minFilter=hr),new d4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const OE=new $,eZ=new $,tZ=new pn;class rc{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=OE.subVectors(r,t).cross(eZ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(OE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||tZ.getNormalMatrix(e),i=this.coplanarPoint(OE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const uf=new ka,Xb=new $;class JS{constructor(e=new rc,t=new rc,r=new rc,i=new rc,s=new rc,o=new rc){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],d=r[6],p=r[7],m=r[8],v=r[9],y=r[10],b=r[11],w=r[12],x=r[13],A=r[14],_=r[15];return t[0].setComponents(a-i,p-l,b-m,_-w).normalize(),t[1].setComponents(a+i,p+l,b+m,_+w).normalize(),t[2].setComponents(a+s,p+c,b+v,_+x).normalize(),t[3].setComponents(a-s,p-c,b-v,_-x).normalize(),t[4].setComponents(a-o,p-d,b-y,_-A).normalize(),t[5].setComponents(a+o,p+d,b+y,_+A).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),uf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uf)}intersectsSprite(e){return uf.center.set(0,0,0),uf.radius=.7071067811865476,uf.applyMatrix4(e.matrixWorld),this.intersectsSphere(uf)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Xb.x=i.normal.x>0?e.max.x:e.min.x,Xb.y=i.normal.y>0?e.max.y:e.min.y,Xb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Xb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function h4(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function nZ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,d){const p=c.array,m=c.usage,v=n.createBuffer();n.bindBuffer(d,v),n.bufferData(d,p,m),c.onUploadCallback();let y;if(p instanceof Float32Array)y=n.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)y=n.SHORT;else if(p instanceof Uint32Array)y=n.UNSIGNED_INT;else if(p instanceof Int32Array)y=n.INT;else if(p instanceof Int8Array)y=n.BYTE;else if(p instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:y,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,p){const m=d.array,v=d.updateRange;n.bindBuffer(p,c),v.count===-1?n.bufferSubData(p,0,m):(t?n.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):n.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d&&(n.deleteBuffer(d.buffer),r.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const m=r.get(c);(!m||m.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);p===void 0?r.set(c,i(c,d)):p.version<c.version&&(s(p.buffer,c,d),p.version=c.version)}return{get:o,remove:a,update:l}}class og extends nn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,p=e/a,m=t/l,v=[],y=[],b=[],w=[];for(let x=0;x<d;x++){const A=x*m-o;for(let _=0;_<c;_++){const T=_*p-s;y.push(T,-A,0),b.push(0,0,1),w.push(_/a),w.push(1-x/l)}}for(let x=0;x<l;x++)for(let A=0;A<a;A++){const _=A+c*x,T=A+c*(x+1),R=A+1+c*(x+1),P=A+1+c*x;v.push(_,T,P),v.push(T,R,P)}this.setIndex(v),this.setAttribute("position",new At(y,3)),this.setAttribute("normal",new At(b,3)),this.setAttribute("uv",new At(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new og(e.width,e.height,e.widthSegments,e.heightSegments)}}var rZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sZ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,oZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cZ="vec3 transformed = vec3( position );",uZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dZ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,fZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,hZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,bZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,_Z=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,wZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,SZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,AZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,EZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,CZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,TZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",IZ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,PZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,BZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,LZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,DZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,OZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,NZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,FZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UZ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,HZ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,GZ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,WZ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,VZ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XZ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,JZ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KZ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$Z=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YZ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qZ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,QZ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ZZ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eee=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tee=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,nee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ree=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,see=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,oee=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,aee=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lee=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cee=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uee=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dee=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fee=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hee=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pee=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mee=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,gee=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,vee=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bee=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_ee=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,wee=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,See=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Aee=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Eee=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Cee=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Tee=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Mee=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ree=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Iee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Pee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Bee=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Lee=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,kee=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Dee=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Oee=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Nee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Fee=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uee=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,zee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Hee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Gee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Wee=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Vee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Xee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Jee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Kee=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$ee=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yee=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,qee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ete=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tte=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rte=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ite=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ste=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ote=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ate=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,cte=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ute=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dte=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fte=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hte=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pte=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mte=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gte=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vte=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yte=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xte=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bte=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_te=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wte=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ste=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ate=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ete=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cte=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Tte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Mte=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Rte=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ite=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cn={alphamap_fragment:rZ,alphamap_pars_fragment:iZ,alphatest_fragment:sZ,alphatest_pars_fragment:oZ,aomap_fragment:aZ,aomap_pars_fragment:lZ,begin_vertex:cZ,beginnormal_vertex:uZ,bsdfs:dZ,iridescence_fragment:fZ,bumpmap_pars_fragment:hZ,clipping_planes_fragment:pZ,clipping_planes_pars_fragment:mZ,clipping_planes_pars_vertex:gZ,clipping_planes_vertex:vZ,color_fragment:yZ,color_pars_fragment:xZ,color_pars_vertex:bZ,color_vertex:_Z,common:wZ,cube_uv_reflection_fragment:SZ,defaultnormal_vertex:AZ,displacementmap_pars_vertex:EZ,displacementmap_vertex:CZ,emissivemap_fragment:TZ,emissivemap_pars_fragment:MZ,encodings_fragment:RZ,encodings_pars_fragment:IZ,envmap_fragment:PZ,envmap_common_pars_fragment:BZ,envmap_pars_fragment:LZ,envmap_pars_vertex:kZ,envmap_physical_pars_fragment:XZ,envmap_vertex:DZ,fog_vertex:OZ,fog_pars_vertex:NZ,fog_fragment:FZ,fog_pars_fragment:UZ,gradientmap_pars_fragment:zZ,lightmap_fragment:HZ,lightmap_pars_fragment:GZ,lights_lambert_fragment:WZ,lights_lambert_pars_fragment:VZ,lights_pars_begin:jZ,lights_toon_fragment:JZ,lights_toon_pars_fragment:KZ,lights_phong_fragment:$Z,lights_phong_pars_fragment:YZ,lights_physical_fragment:qZ,lights_physical_pars_fragment:QZ,lights_fragment_begin:ZZ,lights_fragment_maps:eee,lights_fragment_end:tee,logdepthbuf_fragment:nee,logdepthbuf_pars_fragment:ree,logdepthbuf_pars_vertex:iee,logdepthbuf_vertex:see,map_fragment:oee,map_pars_fragment:aee,map_particle_fragment:lee,map_particle_pars_fragment:cee,metalnessmap_fragment:uee,metalnessmap_pars_fragment:dee,morphcolor_vertex:fee,morphnormal_vertex:hee,morphtarget_pars_vertex:pee,morphtarget_vertex:mee,normal_fragment_begin:gee,normal_fragment_maps:vee,normal_pars_fragment:yee,normal_pars_vertex:xee,normal_vertex:bee,normalmap_pars_fragment:_ee,clearcoat_normal_fragment_begin:wee,clearcoat_normal_fragment_maps:See,clearcoat_pars_fragment:Aee,iridescence_pars_fragment:Eee,output_fragment:Cee,packing:Tee,premultiplied_alpha_fragment:Mee,project_vertex:Ree,dithering_fragment:Iee,dithering_pars_fragment:Pee,roughnessmap_fragment:Bee,roughnessmap_pars_fragment:Lee,shadowmap_pars_fragment:kee,shadowmap_pars_vertex:Dee,shadowmap_vertex:Oee,shadowmask_pars_fragment:Nee,skinbase_vertex:Fee,skinning_pars_vertex:Uee,skinning_vertex:zee,skinnormal_vertex:Hee,specularmap_fragment:Gee,specularmap_pars_fragment:Wee,tonemapping_fragment:Vee,tonemapping_pars_fragment:jee,transmission_fragment:Xee,transmission_pars_fragment:Jee,uv_pars_fragment:Kee,uv_pars_vertex:$ee,uv_vertex:Yee,worldpos_vertex:qee,background_vert:Qee,background_frag:Zee,backgroundCube_vert:ete,backgroundCube_frag:tte,cube_vert:nte,cube_frag:rte,depth_vert:ite,depth_frag:ste,distanceRGBA_vert:ote,distanceRGBA_frag:ate,equirect_vert:lte,equirect_frag:cte,linedashed_vert:ute,linedashed_frag:dte,meshbasic_vert:fte,meshbasic_frag:hte,meshlambert_vert:pte,meshlambert_frag:mte,meshmatcap_vert:gte,meshmatcap_frag:vte,meshnormal_vert:yte,meshnormal_frag:xte,meshphong_vert:bte,meshphong_frag:_te,meshphysical_vert:wte,meshphysical_frag:Ste,meshtoon_vert:Ate,meshtoon_frag:Ete,points_vert:Cte,points_frag:Tte,shadow_vert:Mte,shadow_frag:Rte,sprite_vert:Ite,sprite_frag:Pte},st={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pn},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pn},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new pn}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pn},alphaMap:{value:null},alphaTest:{value:0}}},Sa={basic:{uniforms:ls([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:ls([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new ut(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:ls([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:ls([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:ls([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new ut(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:ls([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:ls([st.points,st.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:ls([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:ls([st.common,st.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:ls([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:ls([st.sprite,st.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new pn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:cn.backgroundCube_vert,fragmentShader:cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:ls([st.common,st.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:ls([st.lights,st.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};Sa.physical={uniforms:ls([Sa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pn},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pn},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pn},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pn},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pn}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};const Jb={r:0,b:0,g:0};function Bte(n,e,t,r,i,s,o){const a=new ut(0);let l=s===!0?0:1,c,d,p=null,m=0,v=null;function y(w,x){let A=!1,_=x.isScene===!0?x.background:null;switch(_&&_.isTexture&&(_=(x.backgroundBlurriness>0?t:e).get(_)),_===null?b(a,l):_&&_.isColor&&(b(_,1),A=!0),n.xr.getEnvironmentBlendMode()){case"opaque":A=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),A=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),A=!0;break}(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===ig)?(d===void 0&&(d=new Si(new vd(1,1,1),new _l({name:"BackgroundCubeMaterial",uniforms:jm(Sa.backgroundCube.uniforms),vertexShader:Sa.backgroundCube.vertexShader,fragmentShader:Sa.backgroundCube.fragmentShader,side:fs,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,D,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),d.material.uniforms.envMap.value=_,d.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,d.material.toneMapped=_.colorSpace!==tn,(p!==_||m!==_.version||v!==n.toneMapping)&&(d.material.needsUpdate=!0,p=_,m=_.version,v=n.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Si(new og(2,2),new _l({name:"BackgroundMaterial",uniforms:jm(Sa.background.uniforms),vertexShader:Sa.background.vertexShader,fragmentShader:Sa.background.fragmentShader,side:xl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=_.colorSpace!==tn,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(p!==_||m!==_.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,p=_,m=_.version,v=n.toneMapping),c.layers.enableAll(),w.unshift(c,c.geometry,c.material,0,0,null))}function b(w,x){w.getRGB(Jb,c4(n)),r.buffers.color.setClear(Jb.r,Jb.g,Jb.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(w,x=1){a.set(w),l=x,b(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(w){l=w,b(a,l)},render:y}}function Lte(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=w(null);let c=l,d=!1;function p(j,K,ee,ne,z){let G=!1;if(o){const Y=b(ne,ee,K);c!==Y&&(c=Y,v(c.object)),G=x(j,ne,ee,z),G&&A(j,ne,ee,z)}else{const Y=K.wireframe===!0;(c.geometry!==ne.id||c.program!==ee.id||c.wireframe!==Y)&&(c.geometry=ne.id,c.program=ee.id,c.wireframe=Y,G=!0)}z!==null&&t.update(z,n.ELEMENT_ARRAY_BUFFER),(G||d)&&(d=!1,N(j,K,ee,ne),z!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(z).buffer))}function m(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function v(j){return r.isWebGL2?n.bindVertexArray(j):s.bindVertexArrayOES(j)}function y(j){return r.isWebGL2?n.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function b(j,K,ee){const ne=ee.wireframe===!0;let z=a[j.id];z===void 0&&(z={},a[j.id]=z);let G=z[K.id];G===void 0&&(G={},z[K.id]=G);let Y=G[ne];return Y===void 0&&(Y=w(m()),G[ne]=Y),Y}function w(j){const K=[],ee=[],ne=[];for(let z=0;z<i;z++)K[z]=0,ee[z]=0,ne[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:ee,attributeDivisors:ne,object:j,attributes:{},index:null}}function x(j,K,ee,ne){const z=c.attributes,G=K.attributes;let Y=0;const le=ee.getAttributes();for(const ge in le)if(le[ge].location>=0){const oe=z[ge];let he=G[ge];if(he===void 0&&(ge==="instanceMatrix"&&j.instanceMatrix&&(he=j.instanceMatrix),ge==="instanceColor"&&j.instanceColor&&(he=j.instanceColor)),oe===void 0||oe.attribute!==he||he&&oe.data!==he.data)return!0;Y++}return c.attributesNum!==Y||c.index!==ne}function A(j,K,ee,ne){const z={},G=K.attributes;let Y=0;const le=ee.getAttributes();for(const ge in le)if(le[ge].location>=0){let oe=G[ge];oe===void 0&&(ge==="instanceMatrix"&&j.instanceMatrix&&(oe=j.instanceMatrix),ge==="instanceColor"&&j.instanceColor&&(oe=j.instanceColor));const he={};he.attribute=oe,oe&&oe.data&&(he.data=oe.data),z[ge]=he,Y++}c.attributes=z,c.attributesNum=Y,c.index=ne}function _(){const j=c.newAttributes;for(let K=0,ee=j.length;K<ee;K++)j[K]=0}function T(j){R(j,0)}function R(j,K){const ee=c.newAttributes,ne=c.enabledAttributes,z=c.attributeDivisors;ee[j]=1,ne[j]===0&&(n.enableVertexAttribArray(j),ne[j]=1),z[j]!==K&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,K),z[j]=K)}function P(){const j=c.newAttributes,K=c.enabledAttributes;for(let ee=0,ne=K.length;ee<ne;ee++)K[ee]!==j[ee]&&(n.disableVertexAttribArray(ee),K[ee]=0)}function D(j,K,ee,ne,z,G){r.isWebGL2===!0&&(ee===n.INT||ee===n.UNSIGNED_INT)?n.vertexAttribIPointer(j,K,ee,z,G):n.vertexAttribPointer(j,K,ee,ne,z,G)}function N(j,K,ee,ne){if(r.isWebGL2===!1&&(j.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const z=ne.attributes,G=ee.getAttributes(),Y=K.defaultAttributeValues;for(const le in G){const ge=G[le];if(ge.location>=0){let ie=z[le];if(ie===void 0&&(le==="instanceMatrix"&&j.instanceMatrix&&(ie=j.instanceMatrix),le==="instanceColor"&&j.instanceColor&&(ie=j.instanceColor)),ie!==void 0){const oe=ie.normalized,he=ie.itemSize,pe=t.get(ie);if(pe===void 0)continue;const q=pe.buffer,Ie=pe.type,ke=pe.bytesPerElement;if(ie.isInterleavedBufferAttribute){const xe=ie.data,Le=xe.stride,we=ie.offset;if(xe.isInstancedInterleavedBuffer){for(let Se=0;Se<ge.locationSize;Se++)R(ge.location+Se,xe.meshPerAttribute);j.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Se=0;Se<ge.locationSize;Se++)T(ge.location+Se);n.bindBuffer(n.ARRAY_BUFFER,q);for(let Se=0;Se<ge.locationSize;Se++)D(ge.location+Se,he/ge.locationSize,Ie,oe,Le*ke,(we+he/ge.locationSize*Se)*ke)}else{if(ie.isInstancedBufferAttribute){for(let xe=0;xe<ge.locationSize;xe++)R(ge.location+xe,ie.meshPerAttribute);j.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let xe=0;xe<ge.locationSize;xe++)T(ge.location+xe);n.bindBuffer(n.ARRAY_BUFFER,q);for(let xe=0;xe<ge.locationSize;xe++)D(ge.location+xe,he/ge.locationSize,Ie,oe,he*ke,he/ge.locationSize*xe*ke)}}else if(Y!==void 0){const oe=Y[le];if(oe!==void 0)switch(oe.length){case 2:n.vertexAttrib2fv(ge.location,oe);break;case 3:n.vertexAttrib3fv(ge.location,oe);break;case 4:n.vertexAttrib4fv(ge.location,oe);break;default:n.vertexAttrib1fv(ge.location,oe)}}}}P()}function L(){V();for(const j in a){const K=a[j];for(const ee in K){const ne=K[ee];for(const z in ne)y(ne[z].object),delete ne[z];delete K[ee]}delete a[j]}}function M(j){if(a[j.id]===void 0)return;const K=a[j.id];for(const ee in K){const ne=K[ee];for(const z in ne)y(ne[z].object),delete ne[z];delete K[ee]}delete a[j.id]}function U(j){for(const K in a){const ee=a[K];if(ee[j.id]===void 0)continue;const ne=ee[j.id];for(const z in ne)y(ne[z].object),delete ne[z];delete ee[j.id]}}function V(){H(),d=!0,c!==l&&(c=l,v(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:V,resetDefaultState:H,dispose:L,releaseStatesOfGeometry:M,releaseStatesOfProgram:U,initAttributes:_,enableAttribute:T,disableUnusedAttributes:P}}function kte(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,p){if(p===0)return;let m,v;if(i)m=n,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,c,d,p),t.update(d,s,p)}this.setMode=o,this.render=a,this.renderInstances=l}function Dte(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(D){if(D==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),x=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=m>0,T=o||e.has("OES_texture_float"),R=_&&T,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:b,maxVertexUniforms:w,maxVaryings:x,maxFragmentUniforms:A,vertexTextures:_,floatFragmentTextures:T,floatVertexTextures:R,maxSamples:P}}function Ote(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new rc,a=new pn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const v=p.length!==0||m||r!==0||i;return i=m,r=p.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,m){t=d(p,m,0)},this.setState=function(p,m,v){const y=p.clippingPlanes,b=p.clipIntersection,w=p.clipShadows,x=n.get(p);if(!i||y===null||y.length===0||s&&!w)s?d(null):c();else{const A=s?0:r,_=A*4;let T=x.clippingState||null;l.value=T,T=d(y,m,_,v);for(let R=0;R!==_;++R)T[R]=t[R];x.clippingState=T,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(p,m,v,y){const b=p!==null?p.length:0;let w=null;if(b!==0){if(w=l.value,y!==!0||w===null){const x=v+b*4,A=m.matrixWorldInverse;a.getNormalMatrix(A),(w===null||w.length<x)&&(w=new Float32Array(x));for(let _=0,T=v;_!==b;++_,T+=4)o.copy(p[_]).applyMatrix4(A,a),o.normal.toArray(w,T),w[T+3]=o.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,w}}function Nte(n){let e=new WeakMap;function t(o,a){return a===U0?o.mapping=nd:a===z0&&(o.mapping=rd),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===U0||a===z0)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new f4(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class mc extends vy{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hm=4,Ak=[.125,.215,.35,.446,.526,.582],Tf=20,NE=new mc,Ek=new ut;let FE=null;const wf=(1+Math.sqrt(5))/2,Rp=1/wf,Ck=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,wf,Rp),new $(0,wf,-Rp),new $(Rp,0,wf),new $(-Rp,0,wf),new $(wf,Rp,0),new $(-wf,Rp,0)];class yM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){FE=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Rk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Mk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(FE),e.scissorTest=!1,Kb(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===nd||e.mapping===rd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),FE=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:hr,minFilter:hr,generateMipmaps:!1,type:Gm,format:Ps,colorSpace:Ba,depthBuffer:!1},i=Tk(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Tk(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Fte(s)),this._blurMaterial=Ute(s,e,t)}return i}_compileMaterial(e){const t=new Si(this._lodPlanes[0],e);this._renderer.compile(t,NE)}_sceneToCubeUV(e,t,r,i){const a=new Br(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,m=d.toneMapping;d.getClearColor(Ek),d.toneMapping=Ra,d.autoClear=!1;const v=new uo({name:"PMREM.Background",side:fs,depthWrite:!1,depthTest:!1}),y=new Si(new vd,v);let b=!1;const w=e.background;w?w.isColor&&(v.color.copy(w),e.background=null,b=!0):(v.color.copy(Ek),b=!0);for(let x=0;x<6;x++){const A=x%3;A===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):A===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const _=this._cubeSize;Kb(i,A*_,x>2?_:0,_,_),d.setRenderTarget(i),b&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=m,d.autoClear=p,e.background=w}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===nd||e.mapping===rd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Rk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Mk());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Si(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Kb(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,NE)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Ck[(i-1)%Ck.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,p=new Si(this._lodPlanes[i],c),m=c.uniforms,v=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Tf-1),b=s/y,w=isFinite(s)?1+Math.floor(d*b):Tf;w>Tf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Tf}`);const x=[];let A=0;for(let D=0;D<Tf;++D){const N=D/b,L=Math.exp(-N*N/2);x.push(L),D===0?A+=L:D<w&&(A+=2*L)}for(let D=0;D<x.length;D++)x[D]=x[D]/A;m.envMap.value=e.texture,m.samples.value=w,m.weights.value=x,m.latitudinal.value=o==="latitudinal",a&&(m.poleAxis.value=a);const{_lodMax:_}=this;m.dTheta.value=y,m.mipInt.value=_-r;const T=this._sizeLods[i],R=3*T*(i>_-hm?i-_+hm:0),P=4*(this._cubeSize-T);Kb(t,R,P,3*T,2*T),l.setRenderTarget(t),l.render(p,NE)}}function Fte(n){const e=[],t=[],r=[];let i=n;const s=n-hm+1+Ak.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-hm?l=Ak[o-n+hm-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,p=1+c,m=[d,d,p,d,p,p,d,d,p,p,d,p],v=6,y=6,b=3,w=2,x=1,A=new Float32Array(b*y*v),_=new Float32Array(w*y*v),T=new Float32Array(x*y*v);for(let P=0;P<v;P++){const D=P%3*2/3-1,N=P>2?0:-1,L=[D,N,0,D+2/3,N,0,D+2/3,N+1,0,D,N,0,D+2/3,N+1,0,D,N+1,0];A.set(L,b*y*P),_.set(m,w*y*P);const M=[P,P,P,P,P,P];T.set(M,x*y*P)}const R=new nn;R.setAttribute("position",new Tn(A,b)),R.setAttribute("uv",new Tn(_,w)),R.setAttribute("faceIndex",new Tn(T,x)),e.push(R),i>hm&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function Tk(n,e,t){const r=new La(n,e,t);return r.texture.mapping=ig,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Kb(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Ute(n,e,t){const r=new Float32Array(Tf),i=new $(0,1,0);return new _l({name:"SphericalGaussianBlur",defines:{n:Tf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:OI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function Mk(){return new _l({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:OI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function Rk(){return new _l({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:OI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pc,depthTest:!1,depthWrite:!1})}function OI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zte(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===U0||l===z0,d=l===nd||l===rd;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let p=e.get(a);return t===null&&(t=new yM(n)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}else{if(e.has(a))return e.get(a).texture;{const p=a.image;if(c&&p&&p.height>0||d&&p&&i(p)){t===null&&(t=new yM(n));const m=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,m),a.addEventListener("dispose",s),m.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Hte(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Gte(n,e,t,r){const i={},s=new WeakMap;function o(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);m.removeEventListener("dispose",o),delete i[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function a(p,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,t.memory.geometries++),m}function l(p){const m=p.attributes;for(const y in m)e.update(m[y],n.ARRAY_BUFFER);const v=p.morphAttributes;for(const y in v){const b=v[y];for(let w=0,x=b.length;w<x;w++)e.update(b[w],n.ARRAY_BUFFER)}}function c(p){const m=[],v=p.index,y=p.attributes.position;let b=0;if(v!==null){const A=v.array;b=v.version;for(let _=0,T=A.length;_<T;_+=3){const R=A[_+0],P=A[_+1],D=A[_+2];m.push(R,P,P,D,D,R)}}else{const A=y.array;b=y.version;for(let _=0,T=A.length/3-1;_<T;_+=3){const R=_+0,P=_+1,D=_+2;m.push(R,P,P,D,D,R)}}const w=new(a4(m)?DI:kI)(m,1);w.version=b;const x=s.get(p);x&&e.remove(x),s.set(p,w)}function d(p){const m=s.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&c(p)}else c(p);return s.get(p)}return{get:a,update:l,getWireframeAttribute:d}}function Wte(n,e,t,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function d(m,v){n.drawElements(s,v,a,m*l),t.update(v,s,1)}function p(m,v,y){if(y===0)return;let b,w;if(i)b=n,w="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[w](s,v,a,m*l,y),t.update(v,s,y)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=p}function Vte(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function jte(n,e){return n[0]-e[0]}function Xte(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Jte(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new kn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,y=v!==void 0?v.length:0;let b=s.get(d);if(b===void 0||b.count!==y){let j=function(){V.dispose(),s.delete(d),d.removeEventListener("dispose",j)};b!==void 0&&b.texture.dispose();const A=d.morphAttributes.position!==void 0,_=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,R=d.morphAttributes.position||[],P=d.morphAttributes.normal||[],D=d.morphAttributes.color||[];let N=0;A===!0&&(N=1),_===!0&&(N=2),T===!0&&(N=3);let L=d.attributes.position.count*N,M=1;L>e.maxTextureSize&&(M=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const U=new Float32Array(L*M*4*y),V=new XS(U,L,M,y);V.type=cc,V.needsUpdate=!0;const H=N*4;for(let K=0;K<y;K++){const ee=R[K],ne=P[K],z=D[K],G=L*M*4*K;for(let Y=0;Y<ee.count;Y++){const le=Y*H;A===!0&&(o.fromBufferAttribute(ee,Y),U[G+le+0]=o.x,U[G+le+1]=o.y,U[G+le+2]=o.z,U[G+le+3]=0),_===!0&&(o.fromBufferAttribute(ne,Y),U[G+le+4]=o.x,U[G+le+5]=o.y,U[G+le+6]=o.z,U[G+le+7]=0),T===!0&&(o.fromBufferAttribute(z,Y),U[G+le+8]=o.x,U[G+le+9]=o.y,U[G+le+10]=o.z,U[G+le+11]=z.itemSize===4?o.w:1)}}b={count:y,texture:V,size:new He(L,M)},s.set(d,b),d.addEventListener("dispose",j)}let w=0;for(let A=0;A<m.length;A++)w+=m[A];const x=d.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",b.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}else{const v=m===void 0?0:m.length;let y=r[d.id];if(y===void 0||y.length!==v){y=[];for(let _=0;_<v;_++)y[_]=[_,0];r[d.id]=y}for(let _=0;_<v;_++){const T=y[_];T[0]=_,T[1]=m[_]}y.sort(Xte);for(let _=0;_<8;_++)_<v&&y[_][1]?(a[_][0]=y[_][0],a[_][1]=y[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(jte);const b=d.morphAttributes.position,w=d.morphAttributes.normal;let x=0;for(let _=0;_<8;_++){const T=a[_],R=T[0],P=T[1];R!==Number.MAX_SAFE_INTEGER&&P?(b&&d.getAttribute("morphTarget"+_)!==b[R]&&d.setAttribute("morphTarget"+_,b[R]),w&&d.getAttribute("morphNormal"+_)!==w[R]&&d.setAttribute("morphNormal"+_,w[R]),i[_]=P,x+=P):(b&&d.hasAttribute("morphTarget"+_)===!0&&d.deleteAttribute("morphTarget"+_),w&&d.hasAttribute("morphNormal"+_)===!0&&d.deleteAttribute("morphNormal"+_),i[_]=0)}const A=d.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",A),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Kte(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,p=e.get(l,d);return i.get(p)!==c&&(e.update(p),i.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),p}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const p4=new gr,m4=new XS,g4=new LI,v4=new yy,Ik=[],Pk=[],Bk=new Float32Array(16),Lk=new Float32Array(9),kk=new Float32Array(4);function ag(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Ik[i];if(s===void 0&&(s=new Float32Array(i),Ik[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function li(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ci(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function KS(n,e){let t=Pk[e];t===void 0&&(t=new Int32Array(e),Pk[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function $te(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Yte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2fv(this.addr,e),ci(t,e)}}function qte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(li(t,e))return;n.uniform3fv(this.addr,e),ci(t,e)}}function Qte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4fv(this.addr,e),ci(t,e)}}function Zte(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(li(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ci(t,e)}else{if(li(t,r))return;kk.set(r),n.uniformMatrix2fv(this.addr,!1,kk),ci(t,r)}}function ene(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(li(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ci(t,e)}else{if(li(t,r))return;Lk.set(r),n.uniformMatrix3fv(this.addr,!1,Lk),ci(t,r)}}function tne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(li(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ci(t,e)}else{if(li(t,r))return;Bk.set(r),n.uniformMatrix4fv(this.addr,!1,Bk),ci(t,r)}}function nne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function rne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2iv(this.addr,e),ci(t,e)}}function ine(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(li(t,e))return;n.uniform3iv(this.addr,e),ci(t,e)}}function sne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4iv(this.addr,e),ci(t,e)}}function one(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ane(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(li(t,e))return;n.uniform2uiv(this.addr,e),ci(t,e)}}function lne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(li(t,e))return;n.uniform3uiv(this.addr,e),ci(t,e)}}function cne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(li(t,e))return;n.uniform4uiv(this.addr,e),ci(t,e)}}function une(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||p4,i)}function dne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||g4,i)}function fne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||v4,i)}function hne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||m4,i)}function pne(n){switch(n){case 5126:return $te;case 35664:return Yte;case 35665:return qte;case 35666:return Qte;case 35674:return Zte;case 35675:return ene;case 35676:return tne;case 5124:case 35670:return nne;case 35667:case 35671:return rne;case 35668:case 35672:return ine;case 35669:case 35673:return sne;case 5125:return one;case 36294:return ane;case 36295:return lne;case 36296:return cne;case 35678:case 36198:case 36298:case 36306:case 35682:return une;case 35679:case 36299:case 36307:return dne;case 35680:case 36300:case 36308:case 36293:return fne;case 36289:case 36303:case 36311:case 36292:return hne}}function mne(n,e){n.uniform1fv(this.addr,e)}function gne(n,e){const t=ag(e,this.size,2);n.uniform2fv(this.addr,t)}function vne(n,e){const t=ag(e,this.size,3);n.uniform3fv(this.addr,t)}function yne(n,e){const t=ag(e,this.size,4);n.uniform4fv(this.addr,t)}function xne(n,e){const t=ag(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function bne(n,e){const t=ag(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function _ne(n,e){const t=ag(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function wne(n,e){n.uniform1iv(this.addr,e)}function Sne(n,e){n.uniform2iv(this.addr,e)}function Ane(n,e){n.uniform3iv(this.addr,e)}function Ene(n,e){n.uniform4iv(this.addr,e)}function Cne(n,e){n.uniform1uiv(this.addr,e)}function Tne(n,e){n.uniform2uiv(this.addr,e)}function Mne(n,e){n.uniform3uiv(this.addr,e)}function Rne(n,e){n.uniform4uiv(this.addr,e)}function Ine(n,e,t){const r=this.cache,i=e.length,s=KS(t,i);li(r,s)||(n.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||p4,s[o])}function Pne(n,e,t){const r=this.cache,i=e.length,s=KS(t,i);li(r,s)||(n.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||g4,s[o])}function Bne(n,e,t){const r=this.cache,i=e.length,s=KS(t,i);li(r,s)||(n.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||v4,s[o])}function Lne(n,e,t){const r=this.cache,i=e.length,s=KS(t,i);li(r,s)||(n.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||m4,s[o])}function kne(n){switch(n){case 5126:return mne;case 35664:return gne;case 35665:return vne;case 35666:return yne;case 35674:return xne;case 35675:return bne;case 35676:return _ne;case 5124:case 35670:return wne;case 35667:case 35671:return Sne;case 35668:case 35672:return Ane;case 35669:case 35673:return Ene;case 5125:return Cne;case 36294:return Tne;case 36295:return Mne;case 36296:return Rne;case 35678:case 36198:case 36298:case 36306:case 35682:return Ine;case 35679:case 36299:case 36307:return Pne;case 35680:case 36300:case 36308:case 36293:return Bne;case 36289:case 36303:case 36311:case 36292:return Lne}}class Dne{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=pne(t.type)}}class One{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=kne(t.type)}}class Nne{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const UE=/(\w+)(\])?(\[|\.)?/g;function Dk(n,e){n.seq.push(e),n.map[e.id]=e}function Fne(n,e,t){const r=n.name,i=r.length;for(UE.lastIndex=0;;){const s=UE.exec(r),o=UE.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){Dk(t,c===void 0?new Dne(a,n,e):new One(a,n,e));break}else{let p=t.map[a];p===void 0&&(p=new Nne(a),Dk(t,p)),t=p}}}class K_{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Fne(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function Ok(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Une=0;function zne(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function Hne(n){switch(n){case Ba:return["Linear","( value )"];case tn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function Nk(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+zne(n.getShaderSource(e),o)}else return i}function Gne(n,e){const t=Hne(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Wne(n,e){let t;switch(e){case Bz:t="Linear";break;case Lz:t="Reinhard";break;case kz:t="OptimizedCineon";break;case EI:t="ACESFilmic";break;case Dz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Vne(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jv).join(`
`)}function jne(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Xne(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function jv(n){return n!==""}function Fk(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Uk(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Jne=/^[ \t]*#include +<([\w\d./]+)>/gm;function xM(n){return n.replace(Jne,Kne)}function Kne(n,e){const t=cn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return xM(t)}const $ne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zk(n){return n.replace($ne,Yne)}function Yne(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Hk(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function qne(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===GS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===a0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xa&&(e="SHADOWMAP_TYPE_VSM"),e}function Qne(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case nd:case rd:e="ENVMAP_TYPE_CUBE";break;case ig:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Zne(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case rd:e="ENVMAP_MODE_REFRACTION";break}return e}function ere(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case my:e="ENVMAP_BLENDING_MULTIPLY";break;case Iz:e="ENVMAP_BLENDING_MIX";break;case Pz:e="ENVMAP_BLENDING_ADD";break}return e}function tre(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function nre(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=qne(t),c=Qne(t),d=Zne(t),p=ere(t),m=tre(t),v=t.isWebGL2?"":Vne(t),y=jne(s),b=i.createProgram();let w,x,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=[y].filter(jv).join(`
`),w.length>0&&(w+=`
`),x=[v,y].filter(jv).join(`
`),x.length>0&&(x+=`
`)):(w=[Hk(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jv).join(`
`),x=[v,Hk(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ra?"#define TONE_MAPPING":"",t.toneMapping!==Ra?cn.tonemapping_pars_fragment:"",t.toneMapping!==Ra?Wne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cn.encodings_pars_fragment,Gne("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(jv).join(`
`)),o=xM(o),o=Fk(o,t),o=Uk(o,t),a=xM(a),a=Fk(a,t),a=Uk(a,t),o=zk(o),a=zk(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",t.glslVersion===gM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===gM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const _=A+w+o,T=A+x+a,R=Ok(i,i.VERTEX_SHADER,_),P=Ok(i,i.FRAGMENT_SHADER,T);if(i.attachShader(b,R),i.attachShader(b,P),t.index0AttributeName!==void 0?i.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b),n.debug.checkShaderErrors){const L=i.getProgramInfoLog(b).trim(),M=i.getShaderInfoLog(R).trim(),U=i.getShaderInfoLog(P).trim();let V=!0,H=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(V=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,b,R,P);else{const j=Nk(i,R,"vertex"),K=Nk(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Program Info Log: `+L+`
`+j+`
`+K)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(M===""||U==="")&&(H=!1);H&&(this.diagnostics={runnable:V,programLog:L,vertexShader:{log:M,prefix:w},fragmentShader:{log:U,prefix:x}})}i.deleteShader(R),i.deleteShader(P);let D;this.getUniforms=function(){return D===void 0&&(D=new K_(i,b)),D};let N;return this.getAttributes=function(){return N===void 0&&(N=Xne(i,b)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.name=t.shaderName,this.id=Une++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=R,this.fragmentShader=P,this}let rre=0;class ire{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new sre(e),t.set(e,r)),r}}class sre{constructor(e){this.id=rre++,this.code=e,this.usedTimes=0}}function ore(n,e,t,r,i,s,o){const a=new Jf,l=new ire,c=[],d=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(L){return L===1?"uv1":L===2?"uv2":L===3?"uv3":"uv"}function w(L,M,U,V,H){const j=V.fog,K=H.geometry,ee=L.isMeshStandardMaterial?V.environment:null,ne=(L.isMeshStandardMaterial?t:e).get(L.envMap||ee),z=ne&&ne.mapping===ig?ne.image.height:null,G=y[L.type];L.precision!==null&&(v=i.getMaxPrecision(L.precision),v!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",v,"instead."));const Y=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,le=Y!==void 0?Y.length:0;let ge=0;K.morphAttributes.position!==void 0&&(ge=1),K.morphAttributes.normal!==void 0&&(ge=2),K.morphAttributes.color!==void 0&&(ge=3);let ie,oe,he,pe;if(G){const fn=Sa[G];ie=fn.vertexShader,oe=fn.fragmentShader}else ie=L.vertexShader,oe=L.fragmentShader,l.update(L),he=l.getVertexShaderID(L),pe=l.getFragmentShaderID(L);const q=n.getRenderTarget(),Ie=H.isInstancedMesh===!0,ke=!!L.map,xe=!!L.matcap,Le=!!ne,we=!!L.aoMap,Se=!!L.lightMap,Me=!!L.bumpMap,Ke=!!L.normalMap,Ye=!!L.displacementMap,nt=!!L.emissiveMap,vt=!!L.metalnessMap,Je=!!L.roughnessMap,rt=L.clearcoat>0,Ve=L.iridescence>0,Q=L.sheen>0,X=L.transmission>0,ye=rt&&!!L.clearcoatMap,ze=rt&&!!L.clearcoatNormalMap,Xe=rt&&!!L.clearcoatRoughnessMap,qe=Ve&&!!L.iridescenceMap,dt=Ve&&!!L.iridescenceThicknessMap,et=Q&&!!L.sheenColorMap,Pe=Q&&!!L.sheenRoughnessMap,ft=!!L.specularMap,_t=!!L.specularColorMap,gt=!!L.specularIntensityMap,it=X&&!!L.transmissionMap,pt=X&&!!L.thicknessMap,ce=!!L.gradientMap,Fe=!!L.alphaMap,lt=L.alphaTest>0,ae=!!L.extensions,Ee=!!K.attributes.uv1,je=!!K.attributes.uv2,tt=!!K.attributes.uv3;return{isWebGL2:d,shaderID:G,shaderName:L.type,vertexShader:ie,fragmentShader:oe,defines:L.defines,customVertexShaderID:he,customFragmentShaderID:pe,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:v,instancing:Ie,instancingColor:Ie&&H.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:q===null?n.outputColorSpace:q.isXRRenderTarget===!0?q.texture.colorSpace:Ba,map:ke,matcap:xe,envMap:Le,envMapMode:Le&&ne.mapping,envMapCubeUVHeight:z,aoMap:we,lightMap:Se,bumpMap:Me,normalMap:Ke,displacementMap:m&&Ye,emissiveMap:nt,normalMapObjectSpace:Ke&&L.normalMapType===r4,normalMapTangentSpace:Ke&&L.normalMapType===gd,metalnessMap:vt,roughnessMap:Je,clearcoat:rt,clearcoatMap:ye,clearcoatNormalMap:ze,clearcoatRoughnessMap:Xe,iridescence:Ve,iridescenceMap:qe,iridescenceThicknessMap:dt,sheen:Q,sheenColorMap:et,sheenRoughnessMap:Pe,specularMap:ft,specularColorMap:_t,specularIntensityMap:gt,transmission:X,transmissionMap:it,thicknessMap:pt,gradientMap:ce,opaque:L.transparent===!1&&L.blending===Vf,alphaMap:Fe,alphaTest:lt,combine:L.combine,mapUv:ke&&b(L.map.channel),aoMapUv:we&&b(L.aoMap.channel),lightMapUv:Se&&b(L.lightMap.channel),bumpMapUv:Me&&b(L.bumpMap.channel),normalMapUv:Ke&&b(L.normalMap.channel),displacementMapUv:Ye&&b(L.displacementMap.channel),emissiveMapUv:nt&&b(L.emissiveMap.channel),metalnessMapUv:vt&&b(L.metalnessMap.channel),roughnessMapUv:Je&&b(L.roughnessMap.channel),clearcoatMapUv:ye&&b(L.clearcoatMap.channel),clearcoatNormalMapUv:ze&&b(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&b(L.clearcoatRoughnessMap.channel),iridescenceMapUv:qe&&b(L.iridescenceMap.channel),iridescenceThicknessMapUv:dt&&b(L.iridescenceThicknessMap.channel),sheenColorMapUv:et&&b(L.sheenColorMap.channel),sheenRoughnessMapUv:Pe&&b(L.sheenRoughnessMap.channel),specularMapUv:ft&&b(L.specularMap.channel),specularColorMapUv:_t&&b(L.specularColorMap.channel),specularIntensityMapUv:gt&&b(L.specularIntensityMap.channel),transmissionMapUv:it&&b(L.transmissionMap.channel),thicknessMapUv:pt&&b(L.thicknessMap.channel),alphaMapUv:Fe&&b(L.alphaMap.channel),vertexTangents:Ke&&!!K.attributes.tangent,vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,vertexUv1s:Ee,vertexUv2s:je,vertexUv3s:tt,pointsUvs:H.isPoints===!0&&!!K.attributes.uv&&(ke||Fe),fog:!!j,useFog:L.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:H.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:le,morphTextureStride:ge,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:L.toneMapped?n.toneMapping:Ra,useLegacyLights:n.useLegacyLights,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Ea,flipSided:L.side===fs,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:ae&&L.extensions.derivatives===!0,extensionFragDepth:ae&&L.extensions.fragDepth===!0,extensionDrawBuffers:ae&&L.extensions.drawBuffers===!0,extensionShaderTextureLOD:ae&&L.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:L.customProgramCacheKey()}}function x(L){const M=[];if(L.shaderID?M.push(L.shaderID):(M.push(L.customVertexShaderID),M.push(L.customFragmentShaderID)),L.defines!==void 0)for(const U in L.defines)M.push(U),M.push(L.defines[U]);return L.isRawShaderMaterial===!1&&(A(M,L),_(M,L),M.push(n.outputColorSpace)),M.push(L.customProgramCacheKey),M.join()}function A(L,M){L.push(M.precision),L.push(M.outputColorSpace),L.push(M.envMapMode),L.push(M.envMapCubeUVHeight),L.push(M.mapUv),L.push(M.alphaMapUv),L.push(M.lightMapUv),L.push(M.aoMapUv),L.push(M.bumpMapUv),L.push(M.normalMapUv),L.push(M.displacementMapUv),L.push(M.emissiveMapUv),L.push(M.metalnessMapUv),L.push(M.roughnessMapUv),L.push(M.clearcoatMapUv),L.push(M.clearcoatNormalMapUv),L.push(M.clearcoatRoughnessMapUv),L.push(M.iridescenceMapUv),L.push(M.iridescenceThicknessMapUv),L.push(M.sheenColorMapUv),L.push(M.sheenRoughnessMapUv),L.push(M.specularMapUv),L.push(M.specularColorMapUv),L.push(M.specularIntensityMapUv),L.push(M.transmissionMapUv),L.push(M.thicknessMapUv),L.push(M.combine),L.push(M.fogExp2),L.push(M.sizeAttenuation),L.push(M.morphTargetsCount),L.push(M.morphAttributeCount),L.push(M.numDirLights),L.push(M.numPointLights),L.push(M.numSpotLights),L.push(M.numSpotLightMaps),L.push(M.numHemiLights),L.push(M.numRectAreaLights),L.push(M.numDirLightShadows),L.push(M.numPointLightShadows),L.push(M.numSpotLightShadows),L.push(M.numSpotLightShadowsWithMaps),L.push(M.shadowMapType),L.push(M.toneMapping),L.push(M.numClippingPlanes),L.push(M.numClipIntersection),L.push(M.depthPacking)}function _(L,M){a.disableAll(),M.isWebGL2&&a.enable(0),M.supportsVertexTextures&&a.enable(1),M.instancing&&a.enable(2),M.instancingColor&&a.enable(3),M.matcap&&a.enable(4),M.envMap&&a.enable(5),M.normalMapObjectSpace&&a.enable(6),M.normalMapTangentSpace&&a.enable(7),M.clearcoat&&a.enable(8),M.iridescence&&a.enable(9),M.alphaTest&&a.enable(10),M.vertexColors&&a.enable(11),M.vertexAlphas&&a.enable(12),M.vertexUv1s&&a.enable(13),M.vertexUv2s&&a.enable(14),M.vertexUv3s&&a.enable(15),M.vertexTangents&&a.enable(16),L.push(a.mask),a.disableAll(),M.fog&&a.enable(0),M.useFog&&a.enable(1),M.flatShading&&a.enable(2),M.logarithmicDepthBuffer&&a.enable(3),M.skinning&&a.enable(4),M.morphTargets&&a.enable(5),M.morphNormals&&a.enable(6),M.morphColors&&a.enable(7),M.premultipliedAlpha&&a.enable(8),M.shadowMapEnabled&&a.enable(9),M.useLegacyLights&&a.enable(10),M.doubleSided&&a.enable(11),M.flipSided&&a.enable(12),M.useDepthPacking&&a.enable(13),M.dithering&&a.enable(14),M.transmission&&a.enable(15),M.sheen&&a.enable(16),M.opaque&&a.enable(17),M.pointsUvs&&a.enable(18),L.push(a.mask)}function T(L){const M=y[L.type];let U;if(M){const V=Sa[M];U=u4.clone(V.uniforms)}else U=L.uniforms;return U}function R(L,M){let U;for(let V=0,H=c.length;V<H;V++){const j=c[V];if(j.cacheKey===M){U=j,++U.usedTimes;break}}return U===void 0&&(U=new nre(n,M,L,s),c.push(U)),U}function P(L){if(--L.usedTimes===0){const M=c.indexOf(L);c[M]=c[c.length-1],c.pop(),L.destroy()}}function D(L){l.remove(L)}function N(){l.dispose()}return{getParameters:w,getProgramCacheKey:x,getUniforms:T,acquireProgram:R,releaseProgram:P,releaseShaderCache:D,programs:c,dispose:N}}function are(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function lre(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Gk(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Wk(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(p,m,v,y,b,w){let x=n[e];return x===void 0?(x={id:p.id,object:p,geometry:m,material:v,groupOrder:y,renderOrder:p.renderOrder,z:b,group:w},n[e]=x):(x.id=p.id,x.object=p,x.geometry=m,x.material=v,x.groupOrder=y,x.renderOrder=p.renderOrder,x.z=b,x.group=w),e++,x}function a(p,m,v,y,b,w){const x=o(p,m,v,y,b,w);v.transmission>0?r.push(x):v.transparent===!0?i.push(x):t.push(x)}function l(p,m,v,y,b,w){const x=o(p,m,v,y,b,w);v.transmission>0?r.unshift(x):v.transparent===!0?i.unshift(x):t.unshift(x)}function c(p,m){t.length>1&&t.sort(p||lre),r.length>1&&r.sort(m||Gk),i.length>1&&i.sort(m||Gk)}function d(){for(let p=e,m=n.length;p<m;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function cre(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new Wk,n.set(r,[o])):i>=s.length?(o=new Wk,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ure(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new ut};break;case"SpotLight":t={position:new $,direction:new $,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":t={color:new ut,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function dre(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let fre=0;function hre(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function pre(n,e){const t=new ure,r=dre(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)i.probe.push(new $);const s=new $,o=new Ht,a=new Ht;function l(d,p){let m=0,v=0,y=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let b=0,w=0,x=0,A=0,_=0,T=0,R=0,P=0,D=0,N=0;d.sort(hre);const L=p===!0?Math.PI:1;for(let U=0,V=d.length;U<V;U++){const H=d[U],j=H.color,K=H.intensity,ee=H.distance,ne=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=j.r*K*L,v+=j.g*K*L,y+=j.b*K*L;else if(H.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(H.sh.coefficients[z],K);else if(H.isDirectionalLight){const z=t.get(H);if(z.color.copy(H.color).multiplyScalar(H.intensity*L),H.castShadow){const G=H.shadow,Y=r.get(H);Y.shadowBias=G.bias,Y.shadowNormalBias=G.normalBias,Y.shadowRadius=G.radius,Y.shadowMapSize=G.mapSize,i.directionalShadow[b]=Y,i.directionalShadowMap[b]=ne,i.directionalShadowMatrix[b]=H.shadow.matrix,T++}i.directional[b]=z,b++}else if(H.isSpotLight){const z=t.get(H);z.position.setFromMatrixPosition(H.matrixWorld),z.color.copy(j).multiplyScalar(K*L),z.distance=ee,z.coneCos=Math.cos(H.angle),z.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),z.decay=H.decay,i.spot[x]=z;const G=H.shadow;if(H.map&&(i.spotLightMap[D]=H.map,D++,G.updateMatrices(H),H.castShadow&&N++),i.spotLightMatrix[x]=G.matrix,H.castShadow){const Y=r.get(H);Y.shadowBias=G.bias,Y.shadowNormalBias=G.normalBias,Y.shadowRadius=G.radius,Y.shadowMapSize=G.mapSize,i.spotShadow[x]=Y,i.spotShadowMap[x]=ne,P++}x++}else if(H.isRectAreaLight){const z=t.get(H);z.color.copy(j).multiplyScalar(K),z.halfWidth.set(H.width*.5,0,0),z.halfHeight.set(0,H.height*.5,0),i.rectArea[A]=z,A++}else if(H.isPointLight){const z=t.get(H);if(z.color.copy(H.color).multiplyScalar(H.intensity*L),z.distance=H.distance,z.decay=H.decay,H.castShadow){const G=H.shadow,Y=r.get(H);Y.shadowBias=G.bias,Y.shadowNormalBias=G.normalBias,Y.shadowRadius=G.radius,Y.shadowMapSize=G.mapSize,Y.shadowCameraNear=G.camera.near,Y.shadowCameraFar=G.camera.far,i.pointShadow[w]=Y,i.pointShadowMap[w]=ne,i.pointShadowMatrix[w]=H.shadow.matrix,R++}i.point[w]=z,w++}else if(H.isHemisphereLight){const z=t.get(H);z.skyColor.copy(H.color).multiplyScalar(K*L),z.groundColor.copy(H.groundColor).multiplyScalar(K*L),i.hemi[_]=z,_++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=st.LTC_FLOAT_1,i.rectAreaLTC2=st.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=st.LTC_HALF_1,i.rectAreaLTC2=st.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=y;const M=i.hash;(M.directionalLength!==b||M.pointLength!==w||M.spotLength!==x||M.rectAreaLength!==A||M.hemiLength!==_||M.numDirectionalShadows!==T||M.numPointShadows!==R||M.numSpotShadows!==P||M.numSpotMaps!==D)&&(i.directional.length=b,i.spot.length=x,i.rectArea.length=A,i.point.length=w,i.hemi.length=_,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=P+D-N,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=N,M.directionalLength=b,M.pointLength=w,M.spotLength=x,M.rectAreaLength=A,M.hemiLength=_,M.numDirectionalShadows=T,M.numPointShadows=R,M.numSpotShadows=P,M.numSpotMaps=D,i.version=fre++)}function c(d,p){let m=0,v=0,y=0,b=0,w=0;const x=p.matrixWorldInverse;for(let A=0,_=d.length;A<_;A++){const T=d[A];if(T.isDirectionalLight){const R=i.directional[m];R.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(x),m++}else if(T.isSpotLight){const R=i.spot[y];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(x),R.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(x),y++}else if(T.isRectAreaLight){const R=i.rectArea[b];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(x),a.identity(),o.copy(T.matrixWorld),o.premultiply(x),a.extractRotation(o),R.halfWidth.set(T.width*.5,0,0),R.halfHeight.set(0,T.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),b++}else if(T.isPointLight){const R=i.point[v];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(x),v++}else if(T.isHemisphereLight){const R=i.hemi[w];R.direction.setFromMatrixPosition(T.matrixWorld),R.direction.transformDirection(x),w++}}}return{setup:l,setupView:c,state:i}}function Vk(n,e){const t=new pre(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(p){r.push(p)}function a(p){i.push(p)}function l(p){t.setup(r,p)}function c(p){t.setupView(r,p)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function mre(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Vk(n,e),t.set(s,[l])):o>=a.length?(l=new Vk(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class NI extends ai{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=t4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class FI extends ai{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const gre=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vre=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yre(n,e,t){let r=new JS;const i=new He,s=new He,o=new kn,a=new NI({depthPacking:n4}),l=new FI,c={},d=t.maxTextureSize,p={[xl]:fs,[fs]:xl,[Ea]:Ea},m=new _l({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:gre,fragmentShader:vre}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new nn;y.setAttribute("position",new Tn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Si(y,m),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=GS;let x=this.type;this.render=function(R,P,D){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||R.length===0)return;const N=n.getRenderTarget(),L=n.getActiveCubeFace(),M=n.getActiveMipmapLevel(),U=n.state;U.setBlending(pc),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const V=x!==xa&&this.type===xa,H=x===xa&&this.type!==xa;for(let j=0,K=R.length;j<K;j++){const ee=R[j],ne=ee.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;i.copy(ne.mapSize);const z=ne.getFrameExtents();if(i.multiply(z),s.copy(ne.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/z.x),i.x=s.x*z.x,ne.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/z.y),i.y=s.y*z.y,ne.mapSize.y=s.y)),ne.map===null||V===!0||H===!0){const Y=this.type!==xa?{minFilter:Ir,magFilter:Ir}:{};ne.map!==null&&ne.map.dispose(),ne.map=new La(i.x,i.y,Y),ne.map.texture.name=ee.name+".shadowMap",ne.camera.updateProjectionMatrix()}n.setRenderTarget(ne.map),n.clear();const G=ne.getViewportCount();for(let Y=0;Y<G;Y++){const le=ne.getViewport(Y);o.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),U.viewport(o),ne.updateMatrices(ee,Y),r=ne.getFrustum(),T(P,D,ne.camera,ee,this.type)}ne.isPointLightShadow!==!0&&this.type===xa&&A(ne,D),ne.needsUpdate=!1}x=this.type,w.needsUpdate=!1,n.setRenderTarget(N,L,M)};function A(R,P){const D=e.update(b);m.defines.VSM_SAMPLES!==R.blurSamples&&(m.defines.VSM_SAMPLES=R.blurSamples,v.defines.VSM_SAMPLES=R.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new La(i.x,i.y)),m.uniforms.shadow_pass.value=R.map.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(P,null,D,m,b,null),v.uniforms.shadow_pass.value=R.mapPass.texture,v.uniforms.resolution.value=R.mapSize,v.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(P,null,D,v,b,null)}function _(R,P,D,N){let L=null;const M=D.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(M!==void 0)L=M;else if(L=D.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const U=L.uuid,V=P.uuid;let H=c[U];H===void 0&&(H={},c[U]=H);let j=H[V];j===void 0&&(j=L.clone(),H[V]=j),L=j}if(L.visible=P.visible,L.wireframe=P.wireframe,N===xa?L.side=P.shadowSide!==null?P.shadowSide:P.side:L.side=P.shadowSide!==null?P.shadowSide:p[P.side],L.alphaMap=P.alphaMap,L.alphaTest=P.alphaTest,L.map=P.map,L.clipShadows=P.clipShadows,L.clippingPlanes=P.clippingPlanes,L.clipIntersection=P.clipIntersection,L.displacementMap=P.displacementMap,L.displacementScale=P.displacementScale,L.displacementBias=P.displacementBias,L.wireframeLinewidth=P.wireframeLinewidth,L.linewidth=P.linewidth,D.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const U=n.properties.get(L);U.light=D}return L}function T(R,P,D,N,L){if(R.visible===!1)return;if(R.layers.test(P.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&L===xa)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,R.matrixWorld);const V=e.update(R),H=R.material;if(Array.isArray(H)){const j=V.groups;for(let K=0,ee=j.length;K<ee;K++){const ne=j[K],z=H[ne.materialIndex];if(z&&z.visible){const G=_(R,z,N,L);n.renderBufferDirect(D,null,V,G,R,ne)}}}else if(H.visible){const j=_(R,H,N,L);n.renderBufferDirect(D,null,V,j,R,null)}}const U=R.children;for(let V=0,H=U.length;V<H;V++)T(U[V],P,D,N,L)}}function xre(n,e,t){const r=t.isWebGL2;function i(){let ae=!1;const Ee=new kn;let je=null;const tt=new kn(0,0,0,0);return{setMask:function(yt){je!==yt&&!ae&&(n.colorMask(yt,yt,yt,yt),je=yt)},setLocked:function(yt){ae=yt},setClear:function(yt,fn,Wt,En,yr){yr===!0&&(yt*=En,fn*=En,Wt*=En),Ee.set(yt,fn,Wt,En),tt.equals(Ee)===!1&&(n.clearColor(yt,fn,Wt,En),tt.copy(Ee))},reset:function(){ae=!1,je=null,tt.set(-1,0,0,0)}}}function s(){let ae=!1,Ee=null,je=null,tt=null;return{setTest:function(yt){yt?q(n.DEPTH_TEST):Ie(n.DEPTH_TEST)},setMask:function(yt){Ee!==yt&&!ae&&(n.depthMask(yt),Ee=yt)},setFunc:function(yt){if(je!==yt){switch(yt){case Sz:n.depthFunc(n.NEVER);break;case Az:n.depthFunc(n.ALWAYS);break;case Ez:n.depthFunc(n.LESS);break;case Gw:n.depthFunc(n.LEQUAL);break;case Cz:n.depthFunc(n.EQUAL);break;case Tz:n.depthFunc(n.GEQUAL);break;case Mz:n.depthFunc(n.GREATER);break;case Rz:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}je=yt}},setLocked:function(yt){ae=yt},setClear:function(yt){tt!==yt&&(n.clearDepth(yt),tt=yt)},reset:function(){ae=!1,Ee=null,je=null,tt=null}}}function o(){let ae=!1,Ee=null,je=null,tt=null,yt=null,fn=null,Wt=null,En=null,yr=null;return{setTest:function(xn){ae||(xn?q(n.STENCIL_TEST):Ie(n.STENCIL_TEST))},setMask:function(xn){Ee!==xn&&!ae&&(n.stencilMask(xn),Ee=xn)},setFunc:function(xn,er,xr){(je!==xn||tt!==er||yt!==xr)&&(n.stencilFunc(xn,er,xr),je=xn,tt=er,yt=xr)},setOp:function(xn,er,xr){(fn!==xn||Wt!==er||En!==xr)&&(n.stencilOp(xn,er,xr),fn=xn,Wt=er,En=xr)},setLocked:function(xn){ae=xn},setClear:function(xn){yr!==xn&&(n.clearStencil(xn),yr=xn)},reset:function(){ae=!1,Ee=null,je=null,tt=null,yt=null,fn=null,Wt=null,En=null,yr=null}}}const a=new i,l=new s,c=new o,d=new WeakMap,p=new WeakMap;let m={},v={},y=new WeakMap,b=[],w=null,x=!1,A=null,_=null,T=null,R=null,P=null,D=null,N=null,L=!1,M=null,U=null,V=null,H=null,j=null;const K=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,ne=0;const z=n.getParameter(n.VERSION);z.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(z)[1]),ee=ne>=1):z.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),ee=ne>=2);let G=null,Y={};const le=n.getParameter(n.SCISSOR_BOX),ge=n.getParameter(n.VIEWPORT),ie=new kn().fromArray(le),oe=new kn().fromArray(ge);function he(ae,Ee,je,tt){const yt=new Uint8Array(4),fn=n.createTexture();n.bindTexture(ae,fn),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Wt=0;Wt<je;Wt++)r&&(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ee,0,n.RGBA,1,1,tt,0,n.RGBA,n.UNSIGNED_BYTE,yt):n.texImage2D(Ee+Wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,yt);return fn}const pe={};pe[n.TEXTURE_2D]=he(n.TEXTURE_2D,n.TEXTURE_2D,1),pe[n.TEXTURE_CUBE_MAP]=he(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(pe[n.TEXTURE_2D_ARRAY]=he(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),pe[n.TEXTURE_3D]=he(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),q(n.DEPTH_TEST),l.setFunc(Gw),Ye(!1),nt(HT),q(n.CULL_FACE),Me(pc);function q(ae){m[ae]!==!0&&(n.enable(ae),m[ae]=!0)}function Ie(ae){m[ae]!==!1&&(n.disable(ae),m[ae]=!1)}function ke(ae,Ee){return v[ae]!==Ee?(n.bindFramebuffer(ae,Ee),v[ae]=Ee,r&&(ae===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Ee),ae===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Ee)),!0):!1}function xe(ae,Ee){let je=b,tt=!1;if(ae)if(je=y.get(Ee),je===void 0&&(je=[],y.set(Ee,je)),ae.isWebGLMultipleRenderTargets){const yt=ae.texture;if(je.length!==yt.length||je[0]!==n.COLOR_ATTACHMENT0){for(let fn=0,Wt=yt.length;fn<Wt;fn++)je[fn]=n.COLOR_ATTACHMENT0+fn;je.length=yt.length,tt=!0}}else je[0]!==n.COLOR_ATTACHMENT0&&(je[0]=n.COLOR_ATTACHMENT0,tt=!0);else je[0]!==n.BACK&&(je[0]=n.BACK,tt=!0);tt&&(t.isWebGL2?n.drawBuffers(je):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(je))}function Le(ae){return w!==ae?(n.useProgram(ae),w=ae,!0):!1}const we={[Cf]:n.FUNC_ADD,[fz]:n.FUNC_SUBTRACT,[hz]:n.FUNC_REVERSE_SUBTRACT};if(r)we[jT]=n.MIN,we[XT]=n.MAX;else{const ae=e.get("EXT_blend_minmax");ae!==null&&(we[jT]=ae.MIN_EXT,we[XT]=ae.MAX_EXT)}const Se={[pz]:n.ZERO,[mz]:n.ONE,[gz]:n.SRC_COLOR,[SI]:n.SRC_ALPHA,[wz]:n.SRC_ALPHA_SATURATE,[bz]:n.DST_COLOR,[yz]:n.DST_ALPHA,[vz]:n.ONE_MINUS_SRC_COLOR,[AI]:n.ONE_MINUS_SRC_ALPHA,[_z]:n.ONE_MINUS_DST_COLOR,[xz]:n.ONE_MINUS_DST_ALPHA};function Me(ae,Ee,je,tt,yt,fn,Wt,En){if(ae===pc){x===!0&&(Ie(n.BLEND),x=!1);return}if(x===!1&&(q(n.BLEND),x=!0),ae!==dz){if(ae!==A||En!==L){if((_!==Cf||P!==Cf)&&(n.blendEquation(n.FUNC_ADD),_=Cf,P=Cf),En)switch(ae){case Vf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case GT:n.blendFunc(n.ONE,n.ONE);break;case WT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case VT:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case Vf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case GT:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case WT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case VT:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}T=null,R=null,D=null,N=null,A=ae,L=En}return}yt=yt||Ee,fn=fn||je,Wt=Wt||tt,(Ee!==_||yt!==P)&&(n.blendEquationSeparate(we[Ee],we[yt]),_=Ee,P=yt),(je!==T||tt!==R||fn!==D||Wt!==N)&&(n.blendFuncSeparate(Se[je],Se[tt],Se[fn],Se[Wt]),T=je,R=tt,D=fn,N=Wt),A=ae,L=!1}function Ke(ae,Ee){ae.side===Ea?Ie(n.CULL_FACE):q(n.CULL_FACE);let je=ae.side===fs;Ee&&(je=!je),Ye(je),ae.blending===Vf&&ae.transparent===!1?Me(pc):Me(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),a.setMask(ae.colorWrite);const tt=ae.stencilWrite;c.setTest(tt),tt&&(c.setMask(ae.stencilWriteMask),c.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),c.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),Je(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?q(n.SAMPLE_ALPHA_TO_COVERAGE):Ie(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ye(ae){M!==ae&&(ae?n.frontFace(n.CW):n.frontFace(n.CCW),M=ae)}function nt(ae){ae!==lz?(q(n.CULL_FACE),ae!==U&&(ae===HT?n.cullFace(n.BACK):ae===cz?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ie(n.CULL_FACE),U=ae}function vt(ae){ae!==V&&(ee&&n.lineWidth(ae),V=ae)}function Je(ae,Ee,je){ae?(q(n.POLYGON_OFFSET_FILL),(H!==Ee||j!==je)&&(n.polygonOffset(Ee,je),H=Ee,j=je)):Ie(n.POLYGON_OFFSET_FILL)}function rt(ae){ae?q(n.SCISSOR_TEST):Ie(n.SCISSOR_TEST)}function Ve(ae){ae===void 0&&(ae=n.TEXTURE0+K-1),G!==ae&&(n.activeTexture(ae),G=ae)}function Q(ae,Ee,je){je===void 0&&(G===null?je=n.TEXTURE0+K-1:je=G);let tt=Y[je];tt===void 0&&(tt={type:void 0,texture:void 0},Y[je]=tt),(tt.type!==ae||tt.texture!==Ee)&&(G!==je&&(n.activeTexture(je),G=je),n.bindTexture(ae,Ee||pe[ae]),tt.type=ae,tt.texture=Ee)}function X(){const ae=Y[G];ae!==void 0&&ae.type!==void 0&&(n.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function ye(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ze(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Xe(){try{n.texSubImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function qe(){try{n.texSubImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function dt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function et(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Pe(){try{n.texStorage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ft(){try{n.texStorage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function _t(){try{n.texImage2D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function gt(){try{n.texImage3D.apply(n,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function it(ae){ie.equals(ae)===!1&&(n.scissor(ae.x,ae.y,ae.z,ae.w),ie.copy(ae))}function pt(ae){oe.equals(ae)===!1&&(n.viewport(ae.x,ae.y,ae.z,ae.w),oe.copy(ae))}function ce(ae,Ee){let je=p.get(Ee);je===void 0&&(je=new WeakMap,p.set(Ee,je));let tt=je.get(ae);tt===void 0&&(tt=n.getUniformBlockIndex(Ee,ae.name),je.set(ae,tt))}function Fe(ae,Ee){const tt=p.get(Ee).get(ae);d.get(Ee)!==tt&&(n.uniformBlockBinding(Ee,tt,ae.__bindingPointIndex),d.set(Ee,tt))}function lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},G=null,Y={},v={},y=new WeakMap,b=[],w=null,x=!1,A=null,_=null,T=null,R=null,P=null,D=null,N=null,L=!1,M=null,U=null,V=null,H=null,j=null,ie.set(0,0,n.canvas.width,n.canvas.height),oe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:q,disable:Ie,bindFramebuffer:ke,drawBuffers:xe,useProgram:Le,setBlending:Me,setMaterial:Ke,setFlipSided:Ye,setCullFace:nt,setLineWidth:vt,setPolygonOffset:Je,setScissorTest:rt,activeTexture:Ve,bindTexture:Q,unbindTexture:X,compressedTexImage2D:ye,compressedTexImage3D:ze,texImage2D:_t,texImage3D:gt,updateUBOMapping:ce,uniformBlockBinding:Fe,texStorage2D:Pe,texStorage3D:ft,texSubImage2D:Xe,texSubImage3D:qe,compressedTexSubImage2D:dt,compressedTexSubImage3D:et,scissor:it,viewport:pt,reset:lt}}function bre(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,d=i.maxTextureSize,p=i.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let b;const w=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(Q,X){return x?new OffscreenCanvas(Q,X):V0("canvas")}function _(Q,X,ye,ze){let Xe=1;if((Q.width>ze||Q.height>ze)&&(Xe=ze/Math.max(Q.width,Q.height)),Xe<1||X===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const qe=X?o4:Math.floor,dt=qe(Xe*Q.width),et=qe(Xe*Q.height);b===void 0&&(b=A(dt,et));const Pe=ye?A(dt,et):b;return Pe.width=dt,Pe.height=et,Pe.getContext("2d").drawImage(Q,0,0,dt,et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+dt+"x"+et+")."),Pe}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function T(Q){return vM(Q.width)&&vM(Q.height)}function R(Q){return a?!1:Q.wrapS!==Li||Q.wrapT!==Li||Q.minFilter!==Ir&&Q.minFilter!==hr}function P(Q,X){return Q.generateMipmaps&&X&&Q.minFilter!==Ir&&Q.minFilter!==hr}function D(Q){n.generateMipmap(Q)}function N(Q,X,ye,ze,Xe=!1){if(a===!1)return X;if(Q!==null){if(n[Q]!==void 0)return n[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let qe=X;return X===n.RED&&(ye===n.FLOAT&&(qe=n.R32F),ye===n.HALF_FLOAT&&(qe=n.R16F),ye===n.UNSIGNED_BYTE&&(qe=n.R8)),X===n.RG&&(ye===n.FLOAT&&(qe=n.RG32F),ye===n.HALF_FLOAT&&(qe=n.RG16F),ye===n.UNSIGNED_BYTE&&(qe=n.RG8)),X===n.RGBA&&(ye===n.FLOAT&&(qe=n.RGBA32F),ye===n.HALF_FLOAT&&(qe=n.RGBA16F),ye===n.UNSIGNED_BYTE&&(qe=ze===tn&&Xe===!1?n.SRGB8_ALPHA8:n.RGBA8),ye===n.UNSIGNED_SHORT_4_4_4_4&&(qe=n.RGBA4),ye===n.UNSIGNED_SHORT_5_5_5_1&&(qe=n.RGB5_A1)),(qe===n.R16F||qe===n.R32F||qe===n.RG16F||qe===n.RG32F||qe===n.RGBA16F||qe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),qe}function L(Q,X,ye){return P(Q,ye)===!0||Q.isFramebufferTexture&&Q.minFilter!==Ir&&Q.minFilter!==hr?Math.log2(Math.max(X.width,X.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?X.mipmaps.length:1}function M(Q){return Q===Ir||Q===H0||Q===Sm?n.NEAREST:n.LINEAR}function U(Q){const X=Q.target;X.removeEventListener("dispose",U),H(X),X.isVideoTexture&&y.delete(X)}function V(Q){const X=Q.target;X.removeEventListener("dispose",V),K(X)}function H(Q){const X=r.get(Q);if(X.__webglInit===void 0)return;const ye=Q.source,ze=w.get(ye);if(ze){const Xe=ze[X.__cacheKey];Xe.usedTimes--,Xe.usedTimes===0&&j(Q),Object.keys(ze).length===0&&w.delete(ye)}r.remove(Q)}function j(Q){const X=r.get(Q);n.deleteTexture(X.__webglTexture);const ye=Q.source,ze=w.get(ye);delete ze[X.__cacheKey],o.memory.textures--}function K(Q){const X=Q.texture,ye=r.get(Q),ze=r.get(X);if(ze.__webglTexture!==void 0&&(n.deleteTexture(ze.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Xe=0;Xe<6;Xe++)n.deleteFramebuffer(ye.__webglFramebuffer[Xe]),ye.__webglDepthbuffer&&n.deleteRenderbuffer(ye.__webglDepthbuffer[Xe]);else{if(n.deleteFramebuffer(ye.__webglFramebuffer),ye.__webglDepthbuffer&&n.deleteRenderbuffer(ye.__webglDepthbuffer),ye.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ye.__webglMultisampledFramebuffer),ye.__webglColorRenderbuffer)for(let Xe=0;Xe<ye.__webglColorRenderbuffer.length;Xe++)ye.__webglColorRenderbuffer[Xe]&&n.deleteRenderbuffer(ye.__webglColorRenderbuffer[Xe]);ye.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ye.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Xe=0,qe=X.length;Xe<qe;Xe++){const dt=r.get(X[Xe]);dt.__webglTexture&&(n.deleteTexture(dt.__webglTexture),o.memory.textures--),r.remove(X[Xe])}r.remove(X),r.remove(Q)}let ee=0;function ne(){ee=0}function z(){const Q=ee;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),ee+=1,Q}function G(Q){const X=[];return X.push(Q.wrapS),X.push(Q.wrapT),X.push(Q.wrapR||0),X.push(Q.magFilter),X.push(Q.minFilter),X.push(Q.anisotropy),X.push(Q.internalFormat),X.push(Q.format),X.push(Q.type),X.push(Q.generateMipmaps),X.push(Q.premultiplyAlpha),X.push(Q.flipY),X.push(Q.unpackAlignment),X.push(Q.colorSpace),X.join()}function Y(Q,X){const ye=r.get(Q);if(Q.isVideoTexture&&rt(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ye.__version!==Q.version){const ze=Q.image;if(ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ie(ye,Q,X);return}}t.bindTexture(n.TEXTURE_2D,ye.__webglTexture,n.TEXTURE0+X)}function le(Q,X){const ye=r.get(Q);if(Q.version>0&&ye.__version!==Q.version){Ie(ye,Q,X);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ye.__webglTexture,n.TEXTURE0+X)}function ge(Q,X){const ye=r.get(Q);if(Q.version>0&&ye.__version!==Q.version){Ie(ye,Q,X);return}t.bindTexture(n.TEXTURE_3D,ye.__webglTexture,n.TEXTURE0+X)}function ie(Q,X){const ye=r.get(Q);if(Q.version>0&&ye.__version!==Q.version){ke(ye,Q,X);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ye.__webglTexture,n.TEXTURE0+X)}const oe={[id]:n.REPEAT,[Li]:n.CLAMP_TO_EDGE,[Hm]:n.MIRRORED_REPEAT},he={[Ir]:n.NEAREST,[H0]:n.NEAREST_MIPMAP_NEAREST,[Sm]:n.NEAREST_MIPMAP_LINEAR,[hr]:n.LINEAR,[VS]:n.LINEAR_MIPMAP_NEAREST,[bl]:n.LINEAR_MIPMAP_LINEAR};function pe(Q,X,ye){if(ye?(n.texParameteri(Q,n.TEXTURE_WRAP_S,oe[X.wrapS]),n.texParameteri(Q,n.TEXTURE_WRAP_T,oe[X.wrapT]),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,oe[X.wrapR]),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,he[X.magFilter]),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,he[X.minFilter])):(n.texParameteri(Q,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(Q,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(X.wrapS!==Li||X.wrapT!==Li)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,M(X.magFilter)),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,M(X.minFilter)),X.minFilter!==Ir&&X.minFilter!==hr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ze=e.get("EXT_texture_filter_anisotropic");if(X.magFilter===Ir||X.minFilter!==Sm&&X.minFilter!==bl||X.type===cc&&e.has("OES_texture_float_linear")===!1||a===!1&&X.type===Gm&&e.has("OES_texture_half_float_linear")===!1)return;(X.anisotropy>1||r.get(X).__currentAnisotropy)&&(n.texParameterf(Q,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy)}}function q(Q,X){let ye=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,X.addEventListener("dispose",U));const ze=X.source;let Xe=w.get(ze);Xe===void 0&&(Xe={},w.set(ze,Xe));const qe=G(X);if(qe!==Q.__cacheKey){Xe[qe]===void 0&&(Xe[qe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ye=!0),Xe[qe].usedTimes++;const dt=Xe[Q.__cacheKey];dt!==void 0&&(Xe[Q.__cacheKey].usedTimes--,dt.usedTimes===0&&j(X)),Q.__cacheKey=qe,Q.__webglTexture=Xe[qe].texture}return ye}function Ie(Q,X,ye){let ze=n.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(ze=n.TEXTURE_2D_ARRAY),X.isData3DTexture&&(ze=n.TEXTURE_3D);const Xe=q(Q,X),qe=X.source;t.bindTexture(ze,Q.__webglTexture,n.TEXTURE0+ye);const dt=r.get(qe);if(qe.version!==dt.__version||Xe===!0){t.activeTexture(n.TEXTURE0+ye),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,X.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,X.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const et=R(X)&&T(X.image)===!1;let Pe=_(X.image,et,!1,d);Pe=Ve(X,Pe);const ft=T(Pe)||a,_t=s.convert(X.format,X.colorSpace);let gt=s.convert(X.type),it=N(X.internalFormat,_t,gt,X.colorSpace);pe(ze,X,ft);let pt;const ce=X.mipmaps,Fe=a&&X.isVideoTexture!==!0,lt=dt.__version===void 0||Xe===!0,ae=L(X,Pe,ft);if(X.isDepthTexture)it=n.DEPTH_COMPONENT,a?X.type===cc?it=n.DEPTH_COMPONENT32F:X.type===Bu?it=n.DEPTH_COMPONENT24:X.type===jf?it=n.DEPTH24_STENCIL8:it=n.DEPTH_COMPONENT16:X.type===cc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),X.format===ju&&it===n.DEPTH_COMPONENT&&X.type!==CI&&X.type!==Bu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),X.type=Bu,gt=s.convert(X.type)),X.format===oh&&it===n.DEPTH_COMPONENT&&(it=n.DEPTH_STENCIL,X.type!==jf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),X.type=jf,gt=s.convert(X.type))),lt&&(Fe?t.texStorage2D(n.TEXTURE_2D,1,it,Pe.width,Pe.height):t.texImage2D(n.TEXTURE_2D,0,it,Pe.width,Pe.height,0,_t,gt,null));else if(X.isDataTexture)if(ce.length>0&&ft){Fe&&lt&&t.texStorage2D(n.TEXTURE_2D,ae,it,ce[0].width,ce[0].height);for(let Ee=0,je=ce.length;Ee<je;Ee++)pt=ce[Ee],Fe?t.texSubImage2D(n.TEXTURE_2D,Ee,0,0,pt.width,pt.height,_t,gt,pt.data):t.texImage2D(n.TEXTURE_2D,Ee,it,pt.width,pt.height,0,_t,gt,pt.data);X.generateMipmaps=!1}else Fe?(lt&&t.texStorage2D(n.TEXTURE_2D,ae,it,Pe.width,Pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Pe.width,Pe.height,_t,gt,Pe.data)):t.texImage2D(n.TEXTURE_2D,0,it,Pe.width,Pe.height,0,_t,gt,Pe.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){Fe&&lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ae,it,ce[0].width,ce[0].height,Pe.depth);for(let Ee=0,je=ce.length;Ee<je;Ee++)pt=ce[Ee],X.format!==Ps?_t!==null?Fe?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ee,0,0,0,pt.width,pt.height,Pe.depth,_t,pt.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ee,it,pt.width,pt.height,Pe.depth,0,pt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ee,0,0,0,pt.width,pt.height,Pe.depth,_t,gt,pt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ee,it,pt.width,pt.height,Pe.depth,0,_t,gt,pt.data)}else{Fe&&lt&&t.texStorage2D(n.TEXTURE_2D,ae,it,ce[0].width,ce[0].height);for(let Ee=0,je=ce.length;Ee<je;Ee++)pt=ce[Ee],X.format!==Ps?_t!==null?Fe?t.compressedTexSubImage2D(n.TEXTURE_2D,Ee,0,0,pt.width,pt.height,_t,pt.data):t.compressedTexImage2D(n.TEXTURE_2D,Ee,it,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?t.texSubImage2D(n.TEXTURE_2D,Ee,0,0,pt.width,pt.height,_t,gt,pt.data):t.texImage2D(n.TEXTURE_2D,Ee,it,pt.width,pt.height,0,_t,gt,pt.data)}else if(X.isDataArrayTexture)Fe?(lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ae,it,Pe.width,Pe.height,Pe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,_t,gt,Pe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,it,Pe.width,Pe.height,Pe.depth,0,_t,gt,Pe.data);else if(X.isData3DTexture)Fe?(lt&&t.texStorage3D(n.TEXTURE_3D,ae,it,Pe.width,Pe.height,Pe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,_t,gt,Pe.data)):t.texImage3D(n.TEXTURE_3D,0,it,Pe.width,Pe.height,Pe.depth,0,_t,gt,Pe.data);else if(X.isFramebufferTexture){if(lt)if(Fe)t.texStorage2D(n.TEXTURE_2D,ae,it,Pe.width,Pe.height);else{let Ee=Pe.width,je=Pe.height;for(let tt=0;tt<ae;tt++)t.texImage2D(n.TEXTURE_2D,tt,it,Ee,je,0,_t,gt,null),Ee>>=1,je>>=1}}else if(ce.length>0&&ft){Fe&&lt&&t.texStorage2D(n.TEXTURE_2D,ae,it,ce[0].width,ce[0].height);for(let Ee=0,je=ce.length;Ee<je;Ee++)pt=ce[Ee],Fe?t.texSubImage2D(n.TEXTURE_2D,Ee,0,0,_t,gt,pt):t.texImage2D(n.TEXTURE_2D,Ee,it,_t,gt,pt);X.generateMipmaps=!1}else Fe?(lt&&t.texStorage2D(n.TEXTURE_2D,ae,it,Pe.width,Pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,gt,Pe)):t.texImage2D(n.TEXTURE_2D,0,it,_t,gt,Pe);P(X,ft)&&D(ze),dt.__version=qe.version,X.onUpdate&&X.onUpdate(X)}Q.__version=X.version}function ke(Q,X,ye){if(X.image.length!==6)return;const ze=q(Q,X),Xe=X.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+ye);const qe=r.get(Xe);if(Xe.version!==qe.__version||ze===!0){t.activeTexture(n.TEXTURE0+ye),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,X.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,X.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const dt=X.isCompressedTexture||X.image[0].isCompressedTexture,et=X.image[0]&&X.image[0].isDataTexture,Pe=[];for(let Ee=0;Ee<6;Ee++)!dt&&!et?Pe[Ee]=_(X.image[Ee],!1,!0,c):Pe[Ee]=et?X.image[Ee].image:X.image[Ee],Pe[Ee]=Ve(X,Pe[Ee]);const ft=Pe[0],_t=T(ft)||a,gt=s.convert(X.format,X.colorSpace),it=s.convert(X.type),pt=N(X.internalFormat,gt,it,X.colorSpace),ce=a&&X.isVideoTexture!==!0,Fe=qe.__version===void 0||ze===!0;let lt=L(X,ft,_t);pe(n.TEXTURE_CUBE_MAP,X,_t);let ae;if(dt){ce&&Fe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,lt,pt,ft.width,ft.height);for(let Ee=0;Ee<6;Ee++){ae=Pe[Ee].mipmaps;for(let je=0;je<ae.length;je++){const tt=ae[je];X.format!==Ps?gt!==null?ce?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je,0,0,tt.width,tt.height,gt,tt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je,pt,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je,0,0,tt.width,tt.height,gt,it,tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je,pt,tt.width,tt.height,0,gt,it,tt.data)}}}else{ae=X.mipmaps,ce&&Fe&&(ae.length>0&&lt++,t.texStorage2D(n.TEXTURE_CUBE_MAP,lt,pt,Pe[0].width,Pe[0].height));for(let Ee=0;Ee<6;Ee++)if(et){ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Pe[Ee].width,Pe[Ee].height,gt,it,Pe[Ee].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,pt,Pe[Ee].width,Pe[Ee].height,0,gt,it,Pe[Ee].data);for(let je=0;je<ae.length;je++){const yt=ae[je].image[Ee].image;ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je+1,0,0,yt.width,yt.height,gt,it,yt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je+1,pt,yt.width,yt.height,0,gt,it,yt.data)}}else{ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,gt,it,Pe[Ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,pt,gt,it,Pe[Ee]);for(let je=0;je<ae.length;je++){const tt=ae[je];ce?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je+1,0,0,gt,it,tt.image[Ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,je+1,pt,gt,it,tt.image[Ee])}}}P(X,_t)&&D(n.TEXTURE_CUBE_MAP),qe.__version=Xe.version,X.onUpdate&&X.onUpdate(X)}Q.__version=X.version}function xe(Q,X,ye,ze,Xe){const qe=s.convert(ye.format,ye.colorSpace),dt=s.convert(ye.type),et=N(ye.internalFormat,qe,dt,ye.colorSpace);r.get(X).__hasExternalTextures||(Xe===n.TEXTURE_3D||Xe===n.TEXTURE_2D_ARRAY?t.texImage3D(Xe,0,et,X.width,X.height,X.depth,0,qe,dt,null):t.texImage2D(Xe,0,et,X.width,X.height,0,qe,dt,null)),t.bindFramebuffer(n.FRAMEBUFFER,Q),Je(X)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ze,Xe,r.get(ye).__webglTexture,0,vt(X)):(Xe===n.TEXTURE_2D||Xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ze,Xe,r.get(ye).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Le(Q,X,ye){if(n.bindRenderbuffer(n.RENDERBUFFER,Q),X.depthBuffer&&!X.stencilBuffer){let ze=n.DEPTH_COMPONENT16;if(ye||Je(X)){const Xe=X.depthTexture;Xe&&Xe.isDepthTexture&&(Xe.type===cc?ze=n.DEPTH_COMPONENT32F:Xe.type===Bu&&(ze=n.DEPTH_COMPONENT24));const qe=vt(X);Je(X)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,qe,ze,X.width,X.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,qe,ze,X.width,X.height)}else n.renderbufferStorage(n.RENDERBUFFER,ze,X.width,X.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Q)}else if(X.depthBuffer&&X.stencilBuffer){const ze=vt(X);ye&&Je(X)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ze,n.DEPTH24_STENCIL8,X.width,X.height):Je(X)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ze,n.DEPTH24_STENCIL8,X.width,X.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Q)}else{const ze=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let Xe=0;Xe<ze.length;Xe++){const qe=ze[Xe],dt=s.convert(qe.format,qe.colorSpace),et=s.convert(qe.type),Pe=N(qe.internalFormat,dt,et,qe.colorSpace),ft=vt(X);ye&&Je(X)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Pe,X.width,X.height):Je(X)?m.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Pe,X.width,X.height):n.renderbufferStorage(n.RENDERBUFFER,Pe,X.width,X.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function we(Q,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Q),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(X.depthTexture).__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),Y(X.depthTexture,0);const ze=r.get(X.depthTexture).__webglTexture,Xe=vt(X);if(X.depthTexture.format===ju)Je(X)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ze,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ze,0);else if(X.depthTexture.format===oh)Je(X)?m.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ze,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function Se(Q){const X=r.get(Q),ye=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!X.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");we(X.__webglFramebuffer,Q)}else if(ye){X.__webglDepthbuffer=[];for(let ze=0;ze<6;ze++)t.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer[ze]),X.__webglDepthbuffer[ze]=n.createRenderbuffer(),Le(X.__webglDepthbuffer[ze],Q,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer=n.createRenderbuffer(),Le(X.__webglDepthbuffer,Q,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Me(Q,X,ye){const ze=r.get(Q);X!==void 0&&xe(ze.__webglFramebuffer,Q,Q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),ye!==void 0&&Se(Q)}function Ke(Q){const X=Q.texture,ye=r.get(Q),ze=r.get(X);Q.addEventListener("dispose",V),Q.isWebGLMultipleRenderTargets!==!0&&(ze.__webglTexture===void 0&&(ze.__webglTexture=n.createTexture()),ze.__version=X.version,o.memory.textures++);const Xe=Q.isWebGLCubeRenderTarget===!0,qe=Q.isWebGLMultipleRenderTargets===!0,dt=T(Q)||a;if(Xe){ye.__webglFramebuffer=[];for(let et=0;et<6;et++)ye.__webglFramebuffer[et]=n.createFramebuffer()}else{if(ye.__webglFramebuffer=n.createFramebuffer(),qe)if(i.drawBuffers){const et=Q.texture;for(let Pe=0,ft=et.length;Pe<ft;Pe++){const _t=r.get(et[Pe]);_t.__webglTexture===void 0&&(_t.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Je(Q)===!1){const et=qe?X:[X];ye.__webglMultisampledFramebuffer=n.createFramebuffer(),ye.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let Pe=0;Pe<et.length;Pe++){const ft=et[Pe];ye.__webglColorRenderbuffer[Pe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ye.__webglColorRenderbuffer[Pe]);const _t=s.convert(ft.format,ft.colorSpace),gt=s.convert(ft.type),it=N(ft.internalFormat,_t,gt,ft.colorSpace,Q.isXRRenderTarget===!0),pt=vt(Q);n.renderbufferStorageMultisample(n.RENDERBUFFER,pt,it,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Pe,n.RENDERBUFFER,ye.__webglColorRenderbuffer[Pe])}n.bindRenderbuffer(n.RENDERBUFFER,null),Q.depthBuffer&&(ye.__webglDepthRenderbuffer=n.createRenderbuffer(),Le(ye.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Xe){t.bindTexture(n.TEXTURE_CUBE_MAP,ze.__webglTexture),pe(n.TEXTURE_CUBE_MAP,X,dt);for(let et=0;et<6;et++)xe(ye.__webglFramebuffer[et],Q,X,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et);P(X,dt)&&D(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(qe){const et=Q.texture;for(let Pe=0,ft=et.length;Pe<ft;Pe++){const _t=et[Pe],gt=r.get(_t);t.bindTexture(n.TEXTURE_2D,gt.__webglTexture),pe(n.TEXTURE_2D,_t,dt),xe(ye.__webglFramebuffer,Q,_t,n.COLOR_ATTACHMENT0+Pe,n.TEXTURE_2D),P(_t,dt)&&D(n.TEXTURE_2D)}t.unbindTexture()}else{let et=n.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?et=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(et,ze.__webglTexture),pe(et,X,dt),xe(ye.__webglFramebuffer,Q,X,n.COLOR_ATTACHMENT0,et),P(X,dt)&&D(et),t.unbindTexture()}Q.depthBuffer&&Se(Q)}function Ye(Q){const X=T(Q)||a,ye=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let ze=0,Xe=ye.length;ze<Xe;ze++){const qe=ye[ze];if(P(qe,X)){const dt=Q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,et=r.get(qe).__webglTexture;t.bindTexture(dt,et),D(dt),t.unbindTexture()}}}function nt(Q){if(a&&Q.samples>0&&Je(Q)===!1){const X=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ye=Q.width,ze=Q.height;let Xe=n.COLOR_BUFFER_BIT;const qe=[],dt=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,et=r.get(Q),Pe=Q.isWebGLMultipleRenderTargets===!0;if(Pe)for(let ft=0;ft<X.length;ft++)t.bindFramebuffer(n.FRAMEBUFFER,et.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,et.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,et.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,et.__webglFramebuffer);for(let ft=0;ft<X.length;ft++){qe.push(n.COLOR_ATTACHMENT0+ft),Q.depthBuffer&&qe.push(dt);const _t=et.__ignoreDepthValues!==void 0?et.__ignoreDepthValues:!1;if(_t===!1&&(Q.depthBuffer&&(Xe|=n.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(Xe|=n.STENCIL_BUFFER_BIT)),Pe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,et.__webglColorRenderbuffer[ft]),_t===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[dt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[dt])),Pe){const gt=r.get(X[ft]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,gt,0)}n.blitFramebuffer(0,0,ye,ze,0,0,ye,ze,Xe,n.NEAREST),v&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,qe)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Pe)for(let ft=0;ft<X.length;ft++){t.bindFramebuffer(n.FRAMEBUFFER,et.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,et.__webglColorRenderbuffer[ft]);const _t=r.get(X[ft]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,et.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,_t,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,et.__webglMultisampledFramebuffer)}}function vt(Q){return Math.min(p,Q.samples)}function Je(Q){const X=r.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function rt(Q){const X=o.render.frame;y.get(Q)!==X&&(y.set(Q,X),Q.update())}function Ve(Q,X){const ye=Q.colorSpace,ze=Q.format,Xe=Q.type;return Q.isCompressedTexture===!0||Q.format===Vw||ye!==Ba&&ye!==Ju&&(ye===tn?a===!1?e.has("EXT_sRGB")===!0&&ze===Ps?(Q.format=Vw,Q.minFilter=hr,Q.generateMipmaps=!1):X=BI.sRGBToLinear(X):(ze!==Ps||Xe!==Ac)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ye)),X}this.allocateTextureUnit=z,this.resetTextureUnits=ne,this.setTexture2D=Y,this.setTexture2DArray=le,this.setTexture3D=ge,this.setTextureCube=ie,this.rebindTextures=Me,this.setupRenderTarget=Ke,this.updateRenderTargetMipmap=Ye,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=Se,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Je}function y4(n,e,t){const r=t.isWebGL2;function i(s,o=Ju){let a;if(s===Ac)return n.UNSIGNED_BYTE;if(s===Uz)return n.UNSIGNED_SHORT_4_4_4_4;if(s===zz)return n.UNSIGNED_SHORT_5_5_5_1;if(s===Oz)return n.BYTE;if(s===Nz)return n.SHORT;if(s===CI)return n.UNSIGNED_SHORT;if(s===Fz)return n.INT;if(s===Bu)return n.UNSIGNED_INT;if(s===cc)return n.FLOAT;if(s===Gm)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Hz)return n.ALPHA;if(s===Ps)return n.RGBA;if(s===Gz)return n.LUMINANCE;if(s===Wz)return n.LUMINANCE_ALPHA;if(s===ju)return n.DEPTH_COMPONENT;if(s===oh)return n.DEPTH_STENCIL;if(s===Vw)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Vz)return n.RED;if(s===jz)return n.RED_INTEGER;if(s===Xz)return n.RG;if(s===Jz)return n.RG_INTEGER;if(s===Kz)return n.RGBA_INTEGER;if(s===H_||s===G_||s===W_||s===V_)if(o===tn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===H_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===G_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===W_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===V_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===H_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===G_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===W_)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===V_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===JT||s===KT||s===$T||s===YT)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===JT)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===KT)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===$T)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===YT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===$z)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===qT||s===QT)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===qT)return o===tn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===QT)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===ZT||s===eM||s===tM||s===nM||s===rM||s===iM||s===sM||s===oM||s===aM||s===lM||s===cM||s===uM||s===dM||s===fM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===ZT)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===eM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===tM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===nM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===rM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===iM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===sM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===oM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===aM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===lM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===cM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===uM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===dM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===fM)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===j_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===j_)return o===tn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Yz||s===hM||s===pM||s===mM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===j_)return a.COMPRESSED_RED_RGTC1_EXT;if(s===hM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===pM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===mM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===jf?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class x4 extends Br{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class uc extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _re={type:"move"};class zE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new uc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new uc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new uc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const b of e.hand.values()){const w=t.getJointPose(b,r),x=this._getHandJoint(c,b);w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=w.radius),x.visible=w!==null}const d=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],m=d.position.distanceTo(p.position),v=.02,y=.005;c.inputState.pinching&&m>v+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=v-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(_re)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new uc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class b4 extends gr{constructor(e,t,r,i,s,o,a,l,c,d){if(d=d!==void 0?d:ju,d!==ju&&d!==oh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===ju&&(r=Bu),r===void 0&&d===oh&&(r=jf),super(null,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ir,this.minFilter=l!==void 0?l:Ir,this.flipY=!1,this.generateMipmaps=!1}}class wre extends Bc{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,p=null,m=null,v=null,y=null;const b=t.getContextAttributes();let w=null,x=null;const A=[],_=[],T=new Set,R=new Map,P=new Br;P.layers.enable(1),P.viewport=new kn;const D=new Br;D.layers.enable(2),D.viewport=new kn;const N=[P,D],L=new x4;L.layers.enable(1),L.layers.enable(2);let M=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let oe=A[ie];return oe===void 0&&(oe=new zE,A[ie]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(ie){let oe=A[ie];return oe===void 0&&(oe=new zE,A[ie]=oe),oe.getGripSpace()},this.getHand=function(ie){let oe=A[ie];return oe===void 0&&(oe=new zE,A[ie]=oe),oe.getHandSpace()};function V(ie){const oe=_.indexOf(ie.inputSource);if(oe===-1)return;const he=A[oe];he!==void 0&&(he.update(ie.inputSource,ie.frame,c||o),he.dispatchEvent({type:ie.type,data:ie.inputSource}))}function H(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",j);for(let ie=0;ie<A.length;ie++){const oe=_[ie];oe!==null&&(_[ie]=null,A[ie].disconnect(oe))}M=null,U=null,e.setRenderTarget(w),v=null,m=null,p=null,i=null,x=null,ge.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){s=ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){a=ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ie){c=ie},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(ie){if(i=ie,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",H),i.addEventListener("inputsourceschange",j),b.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const oe={antialias:i.renderState.layers===void 0?b.antialias:!0,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,t,oe),i.updateRenderState({baseLayer:v}),x=new La(v.framebufferWidth,v.framebufferHeight,{format:Ps,type:Ac,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let oe=null,he=null,pe=null;b.depth&&(pe=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,oe=b.stencil?oh:ju,he=b.stencil?jf:Bu);const q={colorFormat:t.RGBA8,depthFormat:pe,scaleFactor:s};p=new XRWebGLBinding(i,t),m=p.createProjectionLayer(q),i.updateRenderState({layers:[m]}),x=new La(m.textureWidth,m.textureHeight,{format:Ps,type:Ac,depthTexture:new b4(m.textureWidth,m.textureHeight,he,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0});const Ie=e.properties.get(x);Ie.__ignoreDepthValues=m.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ge.setContext(i),ge.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function j(ie){for(let oe=0;oe<ie.removed.length;oe++){const he=ie.removed[oe],pe=_.indexOf(he);pe>=0&&(_[pe]=null,A[pe].disconnect(he))}for(let oe=0;oe<ie.added.length;oe++){const he=ie.added[oe];let pe=_.indexOf(he);if(pe===-1){for(let Ie=0;Ie<A.length;Ie++)if(Ie>=_.length){_.push(he),pe=Ie;break}else if(_[Ie]===null){_[Ie]=he,pe=Ie;break}if(pe===-1)break}const q=A[pe];q&&q.connect(he)}}const K=new $,ee=new $;function ne(ie,oe,he){K.setFromMatrixPosition(oe.matrixWorld),ee.setFromMatrixPosition(he.matrixWorld);const pe=K.distanceTo(ee),q=oe.projectionMatrix.elements,Ie=he.projectionMatrix.elements,ke=q[14]/(q[10]-1),xe=q[14]/(q[10]+1),Le=(q[9]+1)/q[5],we=(q[9]-1)/q[5],Se=(q[8]-1)/q[0],Me=(Ie[8]+1)/Ie[0],Ke=ke*Se,Ye=ke*Me,nt=pe/(-Se+Me),vt=nt*-Se;oe.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(vt),ie.translateZ(nt),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert();const Je=ke+nt,rt=xe+nt,Ve=Ke-vt,Q=Ye+(pe-vt),X=Le*xe/rt*Je,ye=we*xe/rt*Je;ie.projectionMatrix.makePerspective(Ve,Q,X,ye,Je,rt),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}function z(ie,oe){oe===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(oe.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(i===null)return;L.near=D.near=P.near=ie.near,L.far=D.far=P.far=ie.far,(M!==L.near||U!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),M=L.near,U=L.far);const oe=ie.parent,he=L.cameras;z(L,oe);for(let pe=0;pe<he.length;pe++)z(he[pe],oe);he.length===2?ne(L,P,D):L.projectionMatrix.copy(P.projectionMatrix),G(ie,L,oe)};function G(ie,oe,he){he===null?ie.matrix.copy(oe.matrixWorld):(ie.matrix.copy(he.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(oe.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0);const pe=ie.children;for(let q=0,Ie=pe.length;q<Ie;q++)pe[q].updateMatrixWorld(!0);ie.projectionMatrix.copy(oe.projectionMatrix),ie.projectionMatrixInverse.copy(oe.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=Vm*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(ie){l=ie,m!==null&&(m.fixedFoveation=ie),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ie)},this.getPlanes=function(){return T};let Y=null;function le(ie,oe){if(d=oe.getViewerPose(c||o),y=oe,d!==null){const he=d.views;v!==null&&(e.setRenderTargetFramebuffer(x,v.framebuffer),e.setRenderTarget(x));let pe=!1;he.length!==L.cameras.length&&(L.cameras.length=0,pe=!0);for(let q=0;q<he.length;q++){const Ie=he[q];let ke=null;if(v!==null)ke=v.getViewport(Ie);else{const Le=p.getViewSubImage(m,Ie);ke=Le.viewport,q===0&&(e.setRenderTargetTextures(x,Le.colorTexture,m.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(x))}let xe=N[q];xe===void 0&&(xe=new Br,xe.layers.enable(q),xe.viewport=new kn,N[q]=xe),xe.matrix.fromArray(Ie.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(Ie.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(ke.x,ke.y,ke.width,ke.height),q===0&&(L.matrix.copy(xe.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),pe===!0&&L.cameras.push(xe)}}for(let he=0;he<A.length;he++){const pe=_[he],q=A[he];pe!==null&&q!==void 0&&q.update(pe,oe,c||o)}if(Y&&Y(ie,oe),oe.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:oe.detectedPlanes});let he=null;for(const pe of T)oe.detectedPlanes.has(pe)||(he===null&&(he=[]),he.push(pe));if(he!==null)for(const pe of he)T.delete(pe),R.delete(pe),r.dispatchEvent({type:"planeremoved",data:pe});for(const pe of oe.detectedPlanes)if(!T.has(pe))T.add(pe),R.set(pe,oe.lastChangedTime),r.dispatchEvent({type:"planeadded",data:pe});else{const q=R.get(pe);pe.lastChangedTime>q&&(R.set(pe,pe.lastChangedTime),r.dispatchEvent({type:"planechanged",data:pe}))}}y=null}const ge=new h4;ge.setAnimationLoop(le),this.setAnimationLoop=function(ie){Y=ie},this.dispose=function(){}}}function Sre(n,e){function t(w,x){w.matrixAutoUpdate===!0&&w.updateMatrix(),x.value.copy(w.matrix)}function r(w,x){x.color.getRGB(w.fogColor.value,c4(n)),x.isFog?(w.fogNear.value=x.near,w.fogFar.value=x.far):x.isFogExp2&&(w.fogDensity.value=x.density)}function i(w,x,A,_,T){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(w,x):x.isMeshToonMaterial?(s(w,x),p(w,x)):x.isMeshPhongMaterial?(s(w,x),d(w,x)):x.isMeshStandardMaterial?(s(w,x),m(w,x),x.isMeshPhysicalMaterial&&v(w,x,T)):x.isMeshMatcapMaterial?(s(w,x),y(w,x)):x.isMeshDepthMaterial?s(w,x):x.isMeshDistanceMaterial?(s(w,x),b(w,x)):x.isMeshNormalMaterial?s(w,x):x.isLineBasicMaterial?(o(w,x),x.isLineDashedMaterial&&a(w,x)):x.isPointsMaterial?l(w,x,A,_):x.isSpriteMaterial?c(w,x):x.isShadowMaterial?(w.color.value.copy(x.color),w.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(w,x){w.opacity.value=x.opacity,x.color&&w.diffuse.value.copy(x.color),x.emissive&&w.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.bumpMap&&(w.bumpMap.value=x.bumpMap,t(x.bumpMap,w.bumpMapTransform),w.bumpScale.value=x.bumpScale,x.side===fs&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,t(x.normalMap,w.normalMapTransform),w.normalScale.value.copy(x.normalScale),x.side===fs&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,t(x.displacementMap,w.displacementMapTransform),w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias),x.emissiveMap&&(w.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,w.emissiveMapTransform)),x.specularMap&&(w.specularMap.value=x.specularMap,t(x.specularMap,w.specularMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest);const A=e.get(x).envMap;if(A&&(w.envMap.value=A,w.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=x.reflectivity,w.ior.value=x.ior,w.refractionRatio.value=x.refractionRatio),x.lightMap){w.lightMap.value=x.lightMap;const _=n.useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=x.lightMapIntensity*_,t(x.lightMap,w.lightMapTransform)}x.aoMap&&(w.aoMap.value=x.aoMap,w.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,w.aoMapTransform))}function o(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform))}function a(w,x){w.dashSize.value=x.dashSize,w.totalSize.value=x.dashSize+x.gapSize,w.scale.value=x.scale}function l(w,x,A,_){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.size.value=x.size*A,w.scale.value=_*.5,x.map&&(w.map.value=x.map,t(x.map,w.uvTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function c(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.rotation.value=x.rotation,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function d(w,x){w.specular.value.copy(x.specular),w.shininess.value=Math.max(x.shininess,1e-4)}function p(w,x){x.gradientMap&&(w.gradientMap.value=x.gradientMap)}function m(w,x){w.metalness.value=x.metalness,x.metalnessMap&&(w.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,w.metalnessMapTransform)),w.roughness.value=x.roughness,x.roughnessMap&&(w.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,w.roughnessMapTransform)),e.get(x).envMap&&(w.envMapIntensity.value=x.envMapIntensity)}function v(w,x,A){w.ior.value=x.ior,x.sheen>0&&(w.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),w.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(w.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,w.sheenColorMapTransform)),x.sheenRoughnessMap&&(w.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,w.sheenRoughnessMapTransform))),x.clearcoat>0&&(w.clearcoat.value=x.clearcoat,w.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(w.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,w.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(w.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===fs&&w.clearcoatNormalScale.value.negate())),x.iridescence>0&&(w.iridescence.value=x.iridescence,w.iridescenceIOR.value=x.iridescenceIOR,w.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(w.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,w.iridescenceMapTransform)),x.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),x.transmission>0&&(w.transmission.value=x.transmission,w.transmissionSamplerMap.value=A.texture,w.transmissionSamplerSize.value.set(A.width,A.height),x.transmissionMap&&(w.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,w.transmissionMapTransform)),w.thickness.value=x.thickness,x.thicknessMap&&(w.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=x.attenuationDistance,w.attenuationColor.value.copy(x.attenuationColor)),w.specularIntensity.value=x.specularIntensity,w.specularColor.value.copy(x.specularColor),x.specularColorMap&&(w.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,w.specularColorMapTransform)),x.specularIntensityMap&&(w.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,w.specularIntensityMapTransform))}function y(w,x){x.matcap&&(w.matcap.value=x.matcap)}function b(w,x){const A=e.get(x).light;w.referencePosition.value.setFromMatrixPosition(A.matrixWorld),w.nearDistance.value=A.shadow.camera.near,w.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Are(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,_){const T=_.program;r.uniformBlockBinding(A,T)}function c(A,_){let T=i[A.id];T===void 0&&(y(A),T=d(A),i[A.id]=T,A.addEventListener("dispose",w));const R=_.program;r.updateUBOMapping(A,R);const P=e.render.frame;s[A.id]!==P&&(m(A),s[A.id]=P)}function d(A){const _=p();A.__bindingPointIndex=_;const T=n.createBuffer(),R=A.__size,P=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,R,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,T),T}function p(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(A){const _=i[A.id],T=A.uniforms,R=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let P=0,D=T.length;P<D;P++){const N=T[P];if(v(N,P,R)===!0){const L=N.__offset,M=Array.isArray(N.value)?N.value:[N.value];let U=0;for(let V=0;V<M.length;V++){const H=M[V],j=b(H);typeof H=="number"?(N.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,L+U,N.__data)):H.isMatrix3?(N.__data[0]=H.elements[0],N.__data[1]=H.elements[1],N.__data[2]=H.elements[2],N.__data[3]=H.elements[0],N.__data[4]=H.elements[3],N.__data[5]=H.elements[4],N.__data[6]=H.elements[5],N.__data[7]=H.elements[0],N.__data[8]=H.elements[6],N.__data[9]=H.elements[7],N.__data[10]=H.elements[8],N.__data[11]=H.elements[0]):(H.toArray(N.__data,U),U+=j.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,L,N.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(A,_,T){const R=A.value;if(T[_]===void 0){if(typeof R=="number")T[_]=R;else{const P=Array.isArray(R)?R:[R],D=[];for(let N=0;N<P.length;N++)D.push(P[N].clone());T[_]=D}return!0}else if(typeof R=="number"){if(T[_]!==R)return T[_]=R,!0}else{const P=Array.isArray(T[_])?T[_]:[T[_]],D=Array.isArray(R)?R:[R];for(let N=0;N<P.length;N++){const L=P[N];if(L.equals(D[N])===!1)return L.copy(D[N]),!0}}return!1}function y(A){const _=A.uniforms;let T=0;const R=16;let P=0;for(let D=0,N=_.length;D<N;D++){const L=_[D],M={boundary:0,storage:0},U=Array.isArray(L.value)?L.value:[L.value];for(let V=0,H=U.length;V<H;V++){const j=U[V],K=b(j);M.boundary+=K.boundary,M.storage+=K.storage}if(L.__data=new Float32Array(M.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=T,D>0){P=T%R;const V=R-P;P!==0&&V-M.boundary<0&&(T+=R-P,L.__offset=T)}T+=M.storage}return P=T%R,P>0&&(T+=R-P),A.__size=T,A.__cache={},this}function b(A){const _={boundary:0,storage:0};return typeof A=="number"?(_.boundary=4,_.storage=4):A.isVector2?(_.boundary=8,_.storage=8):A.isVector3||A.isColor?(_.boundary=16,_.storage=12):A.isVector4?(_.boundary=16,_.storage=16):A.isMatrix3?(_.boundary=48,_.storage=48):A.isMatrix4?(_.boundary=64,_.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),_}function w(A){const _=A.target;_.removeEventListener("dispose",w);const T=o.indexOf(_.__bindingPointIndex);o.splice(T,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function x(){for(const A in i)n.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function Ere(){const n=V0("canvas");return n.style.display="block",n}class UI{constructor(e={}){const{canvas:t=Ere(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=o;let v=null,y=null;const b=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=tn,this.useLegacyLights=!0,this.toneMapping=Ra,this.toneMappingExposure=1;const x=this;let A=!1,_=0,T=0,R=null,P=-1,D=null;const N=new kn,L=new kn;let M=null,U=t.width,V=t.height,H=1,j=null,K=null;const ee=new kn(0,0,U,V),ne=new kn(0,0,U,V);let z=!1;const G=new JS;let Y=!1,le=!1,ge=null;const ie=new Ht,oe=new $,he={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pe(){return R===null?H:1}let q=r;function Ie(Z,Ae){for(let Oe=0;Oe<Z.length;Oe++){const be=Z[Oe],Ue=t.getContext(be,Ae);if(Ue!==null)return Ue}return null}try{const Z={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${py}`),t.addEventListener("webglcontextlost",pt,!1),t.addEventListener("webglcontextrestored",ce,!1),t.addEventListener("webglcontextcreationerror",Fe,!1),q===null){const Ae=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&Ae.shift(),q=Ie(Ae,Z),q===null)throw Ie(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let ke,xe,Le,we,Se,Me,Ke,Ye,nt,vt,Je,rt,Ve,Q,X,ye,ze,Xe,qe,dt,et,Pe,ft,_t;function gt(){ke=new Hte(q),xe=new Dte(q,ke,e),ke.init(xe),Pe=new y4(q,ke,xe),Le=new xre(q,ke,xe),we=new Vte(q),Se=new are,Me=new bre(q,ke,Le,Se,xe,Pe,we),Ke=new Nte(x),Ye=new zte(x),nt=new nZ(q,xe),ft=new Lte(q,ke,nt,xe),vt=new Gte(q,nt,we,ft),Je=new Kte(q,vt,nt,we),qe=new Jte(q,xe,Me),ye=new Ote(Se),rt=new ore(x,Ke,Ye,ke,xe,ft,ye),Ve=new Sre(x,Se),Q=new cre,X=new mre(ke,xe),Xe=new Bte(x,Ke,Ye,Le,Je,m,l),ze=new yre(x,Je,xe),_t=new Are(q,we,xe,Le),dt=new kte(q,ke,we,xe),et=new Wte(q,ke,we,xe),we.programs=rt.programs,x.capabilities=xe,x.extensions=ke,x.properties=Se,x.renderLists=Q,x.shadowMap=ze,x.state=Le,x.info=we}gt();const it=new wre(x,q);this.xr=it,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const Z=ke.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=ke.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(Z){Z!==void 0&&(H=Z,this.setSize(U,V,!1))},this.getSize=function(Z){return Z.set(U,V)},this.setSize=function(Z,Ae,Oe=!0){if(it.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=Z,V=Ae,t.width=Math.floor(Z*H),t.height=Math.floor(Ae*H),Oe===!0&&(t.style.width=Z+"px",t.style.height=Ae+"px"),this.setViewport(0,0,Z,Ae)},this.getDrawingBufferSize=function(Z){return Z.set(U*H,V*H).floor()},this.setDrawingBufferSize=function(Z,Ae,Oe){U=Z,V=Ae,H=Oe,t.width=Math.floor(Z*Oe),t.height=Math.floor(Ae*Oe),this.setViewport(0,0,Z,Ae)},this.getCurrentViewport=function(Z){return Z.copy(N)},this.getViewport=function(Z){return Z.copy(ee)},this.setViewport=function(Z,Ae,Oe,be){Z.isVector4?ee.set(Z.x,Z.y,Z.z,Z.w):ee.set(Z,Ae,Oe,be),Le.viewport(N.copy(ee).multiplyScalar(H).floor())},this.getScissor=function(Z){return Z.copy(ne)},this.setScissor=function(Z,Ae,Oe,be){Z.isVector4?ne.set(Z.x,Z.y,Z.z,Z.w):ne.set(Z,Ae,Oe,be),Le.scissor(L.copy(ne).multiplyScalar(H).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(Z){Le.setScissorTest(z=Z)},this.setOpaqueSort=function(Z){j=Z},this.setTransparentSort=function(Z){K=Z},this.getClearColor=function(Z){return Z.copy(Xe.getClearColor())},this.setClearColor=function(){Xe.setClearColor.apply(Xe,arguments)},this.getClearAlpha=function(){return Xe.getClearAlpha()},this.setClearAlpha=function(){Xe.setClearAlpha.apply(Xe,arguments)},this.clear=function(Z=!0,Ae=!0,Oe=!0){let be=0;Z&&(be|=q.COLOR_BUFFER_BIT),Ae&&(be|=q.DEPTH_BUFFER_BIT),Oe&&(be|=q.STENCIL_BUFFER_BIT),q.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",pt,!1),t.removeEventListener("webglcontextrestored",ce,!1),t.removeEventListener("webglcontextcreationerror",Fe,!1),Q.dispose(),X.dispose(),Se.dispose(),Ke.dispose(),Ye.dispose(),Je.dispose(),ft.dispose(),_t.dispose(),rt.dispose(),it.dispose(),it.removeEventListener("sessionstart",yt),it.removeEventListener("sessionend",fn),ge&&(ge.dispose(),ge=null),Wt.stop()};function pt(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const Z=we.autoReset,Ae=ze.enabled,Oe=ze.autoUpdate,be=ze.needsUpdate,Ue=ze.type;gt(),we.autoReset=Z,ze.enabled=Ae,ze.autoUpdate=Oe,ze.needsUpdate=be,ze.type=Ue}function Fe(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function lt(Z){const Ae=Z.target;Ae.removeEventListener("dispose",lt),ae(Ae)}function ae(Z){Ee(Z),Se.remove(Z)}function Ee(Z){const Ae=Se.get(Z).programs;Ae!==void 0&&(Ae.forEach(function(Oe){rt.releaseProgram(Oe)}),Z.isShaderMaterial&&rt.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,Ae,Oe,be,Ue,Tt){Ae===null&&(Ae=he);const Mt=Ue.isMesh&&Ue.matrixWorld.determinant()<0,Nt=Ut(Z,Ae,Oe,be,Ue);Le.setMaterial(be,Mt);let Vt=Oe.index,Qt=1;be.wireframe===!0&&(Vt=vt.getWireframeAttribute(Oe),Qt=2);const Zt=Oe.drawRange,on=Oe.attributes.position;let Cn=Zt.start*Qt,br=(Zt.start+Zt.count)*Qt;Tt!==null&&(Cn=Math.max(Cn,Tt.start*Qt),br=Math.min(br,(Tt.start+Tt.count)*Qt)),Vt!==null?(Cn=Math.max(Cn,0),br=Math.min(br,Vt.count)):on!=null&&(Cn=Math.max(Cn,0),br=Math.min(br,on.count));const qi=br-Cn;if(qi<0||qi===1/0)return;ft.setup(Ue,be,Nt,Oe,Vt);let Oi,On=dt;if(Vt!==null&&(Oi=nt.get(Vt),On=et,On.setIndex(Oi)),Ue.isMesh)be.wireframe===!0?(Le.setLineWidth(be.wireframeLinewidth*pe()),On.setMode(q.LINES)):On.setMode(q.TRIANGLES);else if(Ue.isLine){let an=be.linewidth;an===void 0&&(an=1),Le.setLineWidth(an*pe()),Ue.isLineSegments?On.setMode(q.LINES):Ue.isLineLoop?On.setMode(q.LINE_LOOP):On.setMode(q.LINE_STRIP)}else Ue.isPoints?On.setMode(q.POINTS):Ue.isSprite&&On.setMode(q.TRIANGLES);if(Ue.isInstancedMesh)On.renderInstances(Cn,qi,Ue.count);else if(Oe.isInstancedBufferGeometry){const an=Oe._maxInstanceCount!==void 0?Oe._maxInstanceCount:1/0,Tl=Math.min(Oe.instanceCount,an);On.renderInstances(Cn,qi,Tl)}else On.render(Cn,qi)},this.compile=function(Z,Ae){function Oe(be,Ue,Tt){be.transparent===!0&&be.side===Ea&&be.forceSinglePass===!1?(be.side=fs,be.needsUpdate=!0,Hs(be,Ue,Tt),be.side=xl,be.needsUpdate=!0,Hs(be,Ue,Tt),be.side=Ea):Hs(be,Ue,Tt)}y=X.get(Z),y.init(),w.push(y),Z.traverseVisible(function(be){be.isLight&&be.layers.test(Ae.layers)&&(y.pushLight(be),be.castShadow&&y.pushShadow(be))}),y.setupLights(x.useLegacyLights),Z.traverse(function(be){const Ue=be.material;if(Ue)if(Array.isArray(Ue))for(let Tt=0;Tt<Ue.length;Tt++){const Mt=Ue[Tt];Oe(Mt,Z,be)}else Oe(Ue,Z,be)}),w.pop(),y=null};let je=null;function tt(Z){je&&je(Z)}function yt(){Wt.stop()}function fn(){Wt.start()}const Wt=new h4;Wt.setAnimationLoop(tt),typeof self<"u"&&Wt.setContext(self),this.setAnimationLoop=function(Z){je=Z,it.setAnimationLoop(Z),Z===null?Wt.stop():Wt.start()},it.addEventListener("sessionstart",yt),it.addEventListener("sessionend",fn),this.render=function(Z,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),it.enabled===!0&&it.isPresenting===!0&&(it.cameraAutoUpdate===!0&&it.updateCamera(Ae),Ae=it.getCamera()),Z.isScene===!0&&Z.onBeforeRender(x,Z,Ae,R),y=X.get(Z,w.length),y.init(),w.push(y),ie.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),G.setFromProjectionMatrix(ie),le=this.localClippingEnabled,Y=ye.init(this.clippingPlanes,le),v=Q.get(Z,b.length),v.init(),b.push(v),En(Z,Ae,0,x.sortObjects),v.finish(),x.sortObjects===!0&&v.sort(j,K),Y===!0&&ye.beginShadows();const Oe=y.state.shadowsArray;if(ze.render(Oe,Z,Ae),Y===!0&&ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),Xe.render(v,Z),y.setupLights(x.useLegacyLights),Ae.isArrayCamera){const be=Ae.cameras;for(let Ue=0,Tt=be.length;Ue<Tt;Ue++){const Mt=be[Ue];yr(v,Z,Mt,Mt.viewport)}}else yr(v,Z,Ae);R!==null&&(Me.updateMultisampleRenderTarget(R),Me.updateRenderTargetMipmap(R)),Z.isScene===!0&&Z.onAfterRender(x,Z,Ae),ft.resetDefaultState(),P=-1,D=null,w.pop(),w.length>0?y=w[w.length-1]:y=null,b.pop(),b.length>0?v=b[b.length-1]:v=null};function En(Z,Ae,Oe,be){if(Z.visible===!1)return;if(Z.layers.test(Ae.layers)){if(Z.isGroup)Oe=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(Ae);else if(Z.isLight)y.pushLight(Z),Z.castShadow&&y.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||G.intersectsSprite(Z)){be&&oe.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ie);const Mt=Je.update(Z),Nt=Z.material;Nt.visible&&v.push(Z,Mt,Nt,Oe,oe.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||G.intersectsObject(Z))){Z.isSkinnedMesh&&Z.skeleton.frame!==we.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=we.render.frame);const Mt=Je.update(Z),Nt=Z.material;if(be&&(Mt.boundingSphere===null&&Mt.computeBoundingSphere(),oe.copy(Mt.boundingSphere.center).applyMatrix4(Z.matrixWorld).applyMatrix4(ie)),Array.isArray(Nt)){const Vt=Mt.groups;for(let Qt=0,Zt=Vt.length;Qt<Zt;Qt++){const on=Vt[Qt],Cn=Nt[on.materialIndex];Cn&&Cn.visible&&v.push(Z,Mt,Cn,Oe,oe.z,on)}}else Nt.visible&&v.push(Z,Mt,Nt,Oe,oe.z,null)}}const Tt=Z.children;for(let Mt=0,Nt=Tt.length;Mt<Nt;Mt++)En(Tt[Mt],Ae,Oe,be)}function yr(Z,Ae,Oe,be){const Ue=Z.opaque,Tt=Z.transmissive,Mt=Z.transparent;y.setupLightsView(Oe),Y===!0&&ye.setGlobalState(x.clippingPlanes,Oe),Tt.length>0&&xn(Ue,Tt,Ae,Oe),be&&Le.viewport(N.copy(be)),Ue.length>0&&er(Ue,Ae,Oe),Tt.length>0&&er(Tt,Ae,Oe),Mt.length>0&&er(Mt,Ae,Oe),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function xn(Z,Ae,Oe,be){if(ge===null){const Nt=xe.isWebGL2;ge=new La(1024,1024,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?Gm:Ac,minFilter:bl,samples:Nt&&a===!0?4:0})}const Ue=x.getRenderTarget();x.setRenderTarget(ge),x.clear();const Tt=x.toneMapping;x.toneMapping=Ra,er(Z,Oe,be),Me.updateMultisampleRenderTarget(ge),Me.updateRenderTargetMipmap(ge);let Mt=!1;for(let Nt=0,Vt=Ae.length;Nt<Vt;Nt++){const Qt=Ae[Nt],Zt=Qt.object,on=Qt.geometry,Cn=Qt.material,br=Qt.group;if(Cn.side===Ea&&Zt.layers.test(be.layers)){const qi=Cn.side;Cn.side=fs,Cn.needsUpdate=!0,xr(Zt,Oe,be,on,Cn,br),Cn.side=qi,Cn.needsUpdate=!0,Mt=!0}}Mt===!0&&(Me.updateMultisampleRenderTarget(ge),Me.updateRenderTargetMipmap(ge)),x.setRenderTarget(Ue),x.toneMapping=Tt}function er(Z,Ae,Oe){const be=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Ue=0,Tt=Z.length;Ue<Tt;Ue++){const Mt=Z[Ue],Nt=Mt.object,Vt=Mt.geometry,Qt=be===null?Mt.material:be,Zt=Mt.group;Nt.layers.test(Oe.layers)&&xr(Nt,Ae,Oe,Vt,Qt,Zt)}}function xr(Z,Ae,Oe,be,Ue,Tt){Z.onBeforeRender(x,Ae,Oe,be,Ue,Tt),Z.modelViewMatrix.multiplyMatrices(Oe.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Ue.onBeforeRender(x,Ae,Oe,be,Z,Tt),Ue.transparent===!0&&Ue.side===Ea&&Ue.forceSinglePass===!1?(Ue.side=fs,Ue.needsUpdate=!0,x.renderBufferDirect(Oe,Ae,be,Ue,Z,Tt),Ue.side=xl,Ue.needsUpdate=!0,x.renderBufferDirect(Oe,Ae,be,Ue,Z,Tt),Ue.side=Ea):x.renderBufferDirect(Oe,Ae,be,Ue,Z,Tt),Z.onAfterRender(x,Ae,Oe,be,Ue,Tt)}function Hs(Z,Ae,Oe){Ae.isScene!==!0&&(Ae=he);const be=Se.get(Z),Ue=y.state.lights,Tt=y.state.shadowsArray,Mt=Ue.state.version,Nt=rt.getParameters(Z,Ue.state,Tt,Ae,Oe),Vt=rt.getProgramCacheKey(Nt);let Qt=be.programs;be.environment=Z.isMeshStandardMaterial?Ae.environment:null,be.fog=Ae.fog,be.envMap=(Z.isMeshStandardMaterial?Ye:Ke).get(Z.envMap||be.environment),Qt===void 0&&(Z.addEventListener("dispose",lt),Qt=new Map,be.programs=Qt);let Zt=Qt.get(Vt);if(Zt!==void 0){if(be.currentProgram===Zt&&be.lightsStateVersion===Mt)return kc(Z,Nt),Zt}else Nt.uniforms=rt.getUniforms(Z),Z.onBuild(Oe,Nt,x),Z.onBeforeCompile(Nt,x),Zt=rt.acquireProgram(Nt,Vt),Qt.set(Vt,Zt),be.uniforms=Nt.uniforms;const on=be.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(on.clippingPlanes=ye.uniform),kc(Z,Nt),be.needsLights=Ci(Z),be.lightsStateVersion=Mt,be.needsLights&&(on.ambientLightColor.value=Ue.state.ambient,on.lightProbe.value=Ue.state.probe,on.directionalLights.value=Ue.state.directional,on.directionalLightShadows.value=Ue.state.directionalShadow,on.spotLights.value=Ue.state.spot,on.spotLightShadows.value=Ue.state.spotShadow,on.rectAreaLights.value=Ue.state.rectArea,on.ltc_1.value=Ue.state.rectAreaLTC1,on.ltc_2.value=Ue.state.rectAreaLTC2,on.pointLights.value=Ue.state.point,on.pointLightShadows.value=Ue.state.pointShadow,on.hemisphereLights.value=Ue.state.hemi,on.directionalShadowMap.value=Ue.state.directionalShadowMap,on.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,on.spotShadowMap.value=Ue.state.spotShadowMap,on.spotLightMatrix.value=Ue.state.spotLightMatrix,on.spotLightMap.value=Ue.state.spotLightMap,on.pointShadowMap.value=Ue.state.pointShadowMap,on.pointShadowMatrix.value=Ue.state.pointShadowMatrix);const Cn=Zt.getUniforms(),br=K_.seqWithValue(Cn.seq,on);return be.currentProgram=Zt,be.uniformsList=br,Zt}function kc(Z,Ae){const Oe=Se.get(Z);Oe.outputColorSpace=Ae.outputColorSpace,Oe.instancing=Ae.instancing,Oe.skinning=Ae.skinning,Oe.morphTargets=Ae.morphTargets,Oe.morphNormals=Ae.morphNormals,Oe.morphColors=Ae.morphColors,Oe.morphTargetsCount=Ae.morphTargetsCount,Oe.numClippingPlanes=Ae.numClippingPlanes,Oe.numIntersection=Ae.numClipIntersection,Oe.vertexAlphas=Ae.vertexAlphas,Oe.vertexTangents=Ae.vertexTangents,Oe.toneMapping=Ae.toneMapping}function Ut(Z,Ae,Oe,be,Ue){Ae.isScene!==!0&&(Ae=he),Me.resetTextureUnits();const Tt=Ae.fog,Mt=be.isMeshStandardMaterial?Ae.environment:null,Nt=R===null?x.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Ba,Vt=(be.isMeshStandardMaterial?Ye:Ke).get(be.envMap||Mt),Qt=be.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,Zt=!!be.normalMap&&!!Oe.attributes.tangent,on=!!Oe.morphAttributes.position,Cn=!!Oe.morphAttributes.normal,br=!!Oe.morphAttributes.color,qi=be.toneMapped?x.toneMapping:Ra,Oi=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,On=Oi!==void 0?Oi.length:0,an=Se.get(be),Tl=y.state.lights;if(Y===!0&&(le===!0||Z!==D)){const Rn=Z===D&&be.id===P;ye.setState(be,Z,Rn)}let or=!1;be.version===an.__version?(an.needsLights&&an.lightsStateVersion!==Tl.state.version||an.outputColorSpace!==Nt||Ue.isInstancedMesh&&an.instancing===!1||!Ue.isInstancedMesh&&an.instancing===!0||Ue.isSkinnedMesh&&an.skinning===!1||!Ue.isSkinnedMesh&&an.skinning===!0||an.envMap!==Vt||be.fog===!0&&an.fog!==Tt||an.numClippingPlanes!==void 0&&(an.numClippingPlanes!==ye.numPlanes||an.numIntersection!==ye.numIntersection)||an.vertexAlphas!==Qt||an.vertexTangents!==Zt||an.morphTargets!==on||an.morphNormals!==Cn||an.morphColors!==br||an.toneMapping!==qi||xe.isWebGL2===!0&&an.morphTargetsCount!==On)&&(or=!0):(or=!0,an.__version=be.version);let vs=an.currentProgram;or===!0&&(vs=Hs(be,Ae,Ue));let wo=!1,Ni=!1,Mn=!1;const jt=vs.getUniforms(),ui=an.uniforms;if(Le.useProgram(vs.program)&&(wo=!0,Ni=!0,Mn=!0),be.id!==P&&(P=be.id,Ni=!0),wo||D!==Z){if(jt.setValue(q,"projectionMatrix",Z.projectionMatrix),xe.logarithmicDepthBuffer&&jt.setValue(q,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),D!==Z&&(D=Z,Ni=!0,Mn=!0),be.isShaderMaterial||be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshStandardMaterial||be.envMap){const Rn=jt.map.cameraPosition;Rn!==void 0&&Rn.setValue(q,oe.setFromMatrixPosition(Z.matrixWorld))}(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&jt.setValue(q,"isOrthographic",Z.isOrthographicCamera===!0),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial||be.isShadowMaterial||Ue.isSkinnedMesh)&&jt.setValue(q,"viewMatrix",Z.matrixWorldInverse)}if(Ue.isSkinnedMesh){jt.setOptional(q,Ue,"bindMatrix"),jt.setOptional(q,Ue,"bindMatrixInverse");const Rn=Ue.skeleton;Rn&&(xe.floatVertexTextures?(Rn.boneTexture===null&&Rn.computeBoneTexture(),jt.setValue(q,"boneTexture",Rn.boneTexture,Me),jt.setValue(q,"boneTextureSize",Rn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ar=Oe.morphAttributes;if((ar.position!==void 0||ar.normal!==void 0||ar.color!==void 0&&xe.isWebGL2===!0)&&qe.update(Ue,Oe,vs),(Ni||an.receiveShadow!==Ue.receiveShadow)&&(an.receiveShadow=Ue.receiveShadow,jt.setValue(q,"receiveShadow",Ue.receiveShadow)),be.isMeshGouraudMaterial&&be.envMap!==null&&(ui.envMap.value=Vt,ui.flipEnvMap.value=Vt.isCubeTexture&&Vt.isRenderTargetTexture===!1?-1:1),Ni&&(jt.setValue(q,"toneMappingExposure",x.toneMappingExposure),an.needsLights&&Fn(ui,Mn),Tt&&be.fog===!0&&Ve.refreshFogUniforms(ui,Tt),Ve.refreshMaterialUniforms(ui,be,H,V,ge),K_.upload(q,an.uniformsList,ui,Me)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(K_.upload(q,an.uniformsList,ui,Me),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&jt.setValue(q,"center",Ue.center),jt.setValue(q,"modelViewMatrix",Ue.modelViewMatrix),jt.setValue(q,"normalMatrix",Ue.normalMatrix),jt.setValue(q,"modelMatrix",Ue.matrixWorld),be.isShaderMaterial||be.isRawShaderMaterial){const Rn=be.uniformsGroups;for(let ys=0,So=Rn.length;ys<So;ys++)if(xe.isWebGL2){const Zr=Rn[ys];_t.update(Zr,vs),_t.bind(Zr,vs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return vs}function Fn(Z,Ae){Z.ambientLightColor.needsUpdate=Ae,Z.lightProbe.needsUpdate=Ae,Z.directionalLights.needsUpdate=Ae,Z.directionalLightShadows.needsUpdate=Ae,Z.pointLights.needsUpdate=Ae,Z.pointLightShadows.needsUpdate=Ae,Z.spotLights.needsUpdate=Ae,Z.spotLightShadows.needsUpdate=Ae,Z.rectAreaLights.needsUpdate=Ae,Z.hemisphereLights.needsUpdate=Ae}function Ci(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(Z,Ae,Oe){Se.get(Z.texture).__webglTexture=Ae,Se.get(Z.depthTexture).__webglTexture=Oe;const be=Se.get(Z);be.__hasExternalTextures=!0,be.__hasExternalTextures&&(be.__autoAllocateDepthBuffer=Oe===void 0,be.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),be.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,Ae){const Oe=Se.get(Z);Oe.__webglFramebuffer=Ae,Oe.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function(Z,Ae=0,Oe=0){R=Z,_=Ae,T=Oe;let be=!0,Ue=null,Tt=!1,Mt=!1;if(Z){const Vt=Se.get(Z);Vt.__useDefaultFramebuffer!==void 0?(Le.bindFramebuffer(q.FRAMEBUFFER,null),be=!1):Vt.__webglFramebuffer===void 0?Me.setupRenderTarget(Z):Vt.__hasExternalTextures&&Me.rebindTextures(Z,Se.get(Z.texture).__webglTexture,Se.get(Z.depthTexture).__webglTexture);const Qt=Z.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(Mt=!0);const Zt=Se.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Ue=Zt[Ae],Tt=!0):xe.isWebGL2&&Z.samples>0&&Me.useMultisampledRTT(Z)===!1?Ue=Se.get(Z).__webglMultisampledFramebuffer:Ue=Zt,N.copy(Z.viewport),L.copy(Z.scissor),M=Z.scissorTest}else N.copy(ee).multiplyScalar(H).floor(),L.copy(ne).multiplyScalar(H).floor(),M=z;if(Le.bindFramebuffer(q.FRAMEBUFFER,Ue)&&xe.drawBuffers&&be&&Le.drawBuffers(Z,Ue),Le.viewport(N),Le.scissor(L),Le.setScissorTest(M),Tt){const Vt=Se.get(Z.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Vt.__webglTexture,Oe)}else if(Mt){const Vt=Se.get(Z.texture),Qt=Ae||0;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,Vt.__webglTexture,Oe||0,Qt)}P=-1},this.readRenderTargetPixels=function(Z,Ae,Oe,be,Ue,Tt,Mt){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Nt=Se.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&Mt!==void 0&&(Nt=Nt[Mt]),Nt){Le.bindFramebuffer(q.FRAMEBUFFER,Nt);try{const Vt=Z.texture,Qt=Vt.format,Zt=Vt.type;if(Qt!==Ps&&Pe.convert(Qt)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const on=Zt===Gm&&(ke.has("EXT_color_buffer_half_float")||xe.isWebGL2&&ke.has("EXT_color_buffer_float"));if(Zt!==Ac&&Pe.convert(Zt)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Zt===cc&&(xe.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!on){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=Z.width-be&&Oe>=0&&Oe<=Z.height-Ue&&q.readPixels(Ae,Oe,be,Ue,Pe.convert(Qt),Pe.convert(Zt),Tt)}finally{const Vt=R!==null?Se.get(R).__webglFramebuffer:null;Le.bindFramebuffer(q.FRAMEBUFFER,Vt)}}},this.copyFramebufferToTexture=function(Z,Ae,Oe=0){const be=Math.pow(2,-Oe),Ue=Math.floor(Ae.image.width*be),Tt=Math.floor(Ae.image.height*be);Me.setTexture2D(Ae,0),q.copyTexSubImage2D(q.TEXTURE_2D,Oe,0,0,Z.x,Z.y,Ue,Tt),Le.unbindTexture()},this.copyTextureToTexture=function(Z,Ae,Oe,be=0){const Ue=Ae.image.width,Tt=Ae.image.height,Mt=Pe.convert(Oe.format),Nt=Pe.convert(Oe.type);Me.setTexture2D(Oe,0),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,Oe.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oe.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,Oe.unpackAlignment),Ae.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,be,Z.x,Z.y,Ue,Tt,Mt,Nt,Ae.image.data):Ae.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,be,Z.x,Z.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,Mt,Ae.mipmaps[0].data):q.texSubImage2D(q.TEXTURE_2D,be,Z.x,Z.y,Mt,Nt,Ae.image),be===0&&Oe.generateMipmaps&&q.generateMipmap(q.TEXTURE_2D),Le.unbindTexture()},this.copyTextureToTexture3D=function(Z,Ae,Oe,be,Ue=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Tt=Z.max.x-Z.min.x+1,Mt=Z.max.y-Z.min.y+1,Nt=Z.max.z-Z.min.z+1,Vt=Pe.convert(be.format),Qt=Pe.convert(be.type);let Zt;if(be.isData3DTexture)Me.setTexture3D(be,0),Zt=q.TEXTURE_3D;else if(be.isDataArrayTexture)Me.setTexture2DArray(be,0),Zt=q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,be.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,be.unpackAlignment);const on=q.getParameter(q.UNPACK_ROW_LENGTH),Cn=q.getParameter(q.UNPACK_IMAGE_HEIGHT),br=q.getParameter(q.UNPACK_SKIP_PIXELS),qi=q.getParameter(q.UNPACK_SKIP_ROWS),Oi=q.getParameter(q.UNPACK_SKIP_IMAGES),On=Oe.isCompressedTexture?Oe.mipmaps[0]:Oe.image;q.pixelStorei(q.UNPACK_ROW_LENGTH,On.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,On.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Z.min.x),q.pixelStorei(q.UNPACK_SKIP_ROWS,Z.min.y),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Z.min.z),Oe.isDataTexture||Oe.isData3DTexture?q.texSubImage3D(Zt,Ue,Ae.x,Ae.y,Ae.z,Tt,Mt,Nt,Vt,Qt,On.data):Oe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Zt,Ue,Ae.x,Ae.y,Ae.z,Tt,Mt,Nt,Vt,On.data)):q.texSubImage3D(Zt,Ue,Ae.x,Ae.y,Ae.z,Tt,Mt,Nt,Vt,Qt,On),q.pixelStorei(q.UNPACK_ROW_LENGTH,on),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Cn),q.pixelStorei(q.UNPACK_SKIP_PIXELS,br),q.pixelStorei(q.UNPACK_SKIP_ROWS,qi),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Oi),Ue===0&&be.generateMipmaps&&q.generateMipmap(Zt),Le.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?Me.setTextureCube(Z,0):Z.isData3DTexture?Me.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?Me.setTexture2DArray(Z,0):Me.setTexture2D(Z,0),Le.unbindTexture()},this.resetState=function(){_=0,T=0,R=null,Le.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===tn?Xu:RI}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Xu?tn:Ba}}class _4 extends UI{}_4.prototype.isWebGL1Renderer=!0;class $S{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=t}clone(){return new $S(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class YS{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=t,this.far=r}clone(){return new YS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class zI extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class xy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=W0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ho()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const as=new $;class sd{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)as.fromBufferAttribute(this,t),as.applyMatrix4(e),this.setXYZ(t,as.x,as.y,as.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)as.fromBufferAttribute(this,t),as.applyNormalMatrix(e),this.setXYZ(t,as.x,as.y,as.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)as.fromBufferAttribute(this,t),as.transformDirection(e),this.setXYZ(t,as.x,as.y,as.z);return this}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=co(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=co(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=co(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=co(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),s=un(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Tn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class HI extends ai{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ip;const Mv=new $,Pp=new $,Bp=new $,Lp=new He,Rv=new He,w4=new Ht,$b=new $,Iv=new $,Yb=new $,jk=new He,HE=new He,Xk=new He;class S4 extends wn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ip===void 0){Ip=new nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new xy(t,5);Ip.setIndex([0,1,2,0,2,3]),Ip.setAttribute("position",new sd(r,3,0,!1)),Ip.setAttribute("uv",new sd(r,2,3,!1))}this.geometry=Ip,this.material=e!==void 0?e:new HI,this.center=new He(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pp.setFromMatrixScale(this.matrixWorld),w4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pp.multiplyScalar(-Bp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;qb($b.set(-.5,-.5,0),Bp,o,Pp,i,s),qb(Iv.set(.5,-.5,0),Bp,o,Pp,i,s),qb(Yb.set(.5,.5,0),Bp,o,Pp,i,s),jk.set(0,0),HE.set(1,0),Xk.set(1,1);let a=e.ray.intersectTriangle($b,Iv,Yb,!1,Mv);if(a===null&&(qb(Iv.set(-.5,.5,0),Bp,o,Pp,i,s),HE.set(0,1),a=e.ray.intersectTriangle($b,Yb,Iv,!1,Mv),a===null))return;const l=e.ray.origin.distanceTo(Mv);l<e.near||l>e.far||t.push({distance:l,point:Mv.clone(),uv:Rs.getInterpolation(Mv,$b,Iv,Yb,jk,HE,Xk,new He),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function qb(n,e,t,r,i,s){Lp.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Rv.x=s*Lp.x-i*Lp.y,Rv.y=i*Lp.x+s*Lp.y):Rv.copy(Lp),n.copy(e),n.x+=Rv.x,n.y+=Rv.y,n.applyMatrix4(w4)}const Qb=new $,Jk=new $;class A4 extends wn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Qb.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Qb);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Qb.setFromMatrixPosition(e.matrixWorld),Jk.setFromMatrixPosition(this.matrixWorld);const r=Qb.distanceTo(Jk)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Kk=new $,$k=new kn,Yk=new kn,Cre=new $,qk=new Ht,kp=new $;class GI extends Si{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ht,this.bindMatrixInverse=new Ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)kp.fromBufferAttribute(t,r),this.applyBoneTransform(r,kp),this.boundingBox.expandByPoint(kp)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ka),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)kp.fromBufferAttribute(t,r),this.applyBoneTransform(r,kp),this.boundingSphere.expandByPoint(kp)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;$k.fromBufferAttribute(i.attributes.skinIndex,e),Yk.fromBufferAttribute(i.attributes.skinWeight,e),Kk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Yk.getComponent(s);if(o!==0){const a=$k.getComponent(s);qk.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Cre.copy(Kk).applyMatrix4(qk),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class qS extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Em extends gr{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Ir,d=Ir,p,m){super(null,o,a,l,c,d,i,s,p,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Qk=new Ht,Tre=new Ht;class by{constructor(e=[],t=[]){this.uuid=ho(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Tre;Qk.multiplyMatrices(a,t[s]),Qk.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new by(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=s4(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Em(t,e,e,Ps,cc);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new qS),this.bones.push(o),this.boneInverses.push(new Ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class lh extends Tn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Dp=new Ht,Zk=new Ht,Zb=[],eD=new Qo,Mre=new Ht,Pv=new Si,Bv=new ka;class WI extends Si{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new lh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Mre)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Qo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Dp),eD.copy(e.boundingBox).applyMatrix4(Dp),this.boundingBox.union(eD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ka),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Dp),Bv.copy(e.boundingSphere).applyMatrix4(Dp),this.boundingSphere.union(Bv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Pv.geometry=this.geometry,Pv.material=this.material,Pv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Bv.copy(this.boundingSphere),Bv.applyMatrix4(r),e.ray.intersectsSphere(Bv)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Dp),Zk.multiplyMatrices(r,Dp),Pv.matrixWorld=Zk,Pv.raycast(e,Zb);for(let o=0,a=Zb.length;o<a;o++){const l=Zb[o];l.instanceId=s,l.object=this,t.push(l)}Zb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new lh(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Yi extends ai{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tD=new $,nD=new $,rD=new Ht,GE=new sg,e_=new ka;class Ec extends wn{constructor(e=new nn,t=new Yi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)tD.fromBufferAttribute(t,i-1),nD.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=tD.distanceTo(nD);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),e_.copy(r.boundingSphere),e_.applyMatrix4(i),e_.radius+=s,e.ray.intersectsSphere(e_)===!1)return;rD.copy(i).invert(),GE.copy(e.ray).applyMatrix4(rD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new $,d=new $,p=new $,m=new $,v=this.isLineSegments?2:1,y=r.index,w=r.attributes.position;if(y!==null){const x=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let _=x,T=A-1;_<T;_+=v){const R=y.getX(_),P=y.getX(_+1);if(c.fromBufferAttribute(w,R),d.fromBufferAttribute(w,P),GE.distanceSqToSegment(c,d,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(m);N<e.near||N>e.far||t.push({distance:N,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),A=Math.min(w.count,o.start+o.count);for(let _=x,T=A-1;_<T;_+=v){if(c.fromBufferAttribute(w,_),d.fromBufferAttribute(w,_+1),GE.distanceSqToSegment(c,d,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(m);P<e.near||P>e.far||t.push({distance:P,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const iD=new $,sD=new $;class Da extends Ec{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)iD.fromBufferAttribute(t,i),sD.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+iD.distanceTo(sD);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VI extends Ec{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class QS extends ai{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const oD=new Ht,bM=new sg,t_=new ka,n_=new $;class jI extends wn{constructor(e=new nn,t=new QS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),t_.copy(r.boundingSphere),t_.applyMatrix4(i),t_.radius+=s,e.ray.intersectsSphere(t_)===!1)return;oD.copy(i).invert(),bM.copy(e.ray).applyMatrix4(oD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,p=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let y=m,b=v;y<b;y++){const w=c.getX(y);n_.fromBufferAttribute(p,w),aD(n_,w,l,i,e,t,this)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let y=m,b=v;y<b;y++)n_.fromBufferAttribute(p,y),aD(n_,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function aD(n,e,t,r,i,s,o){const a=bM.distanceSqToPoint(n);if(a<t){const l=new $;bM.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Rre extends gr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:hr,this.magFilter=s!==void 0?s:hr,this.generateMipmaps=!1;const d=this;function p(){d.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ire extends gr{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Ir,this.minFilter=Ir,this.generateMipmaps=!1,this.needsUpdate=!0}}class XI extends gr{constructor(e,t,r,i,s,o,a,l,c,d,p,m){super(null,o,a,l,c,d,i,s,p,m),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Pre extends XI{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Li}}class Bre extends gr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Oa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],m=r[i+1]-d,v=(o-d)/m;return(i+v)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new He:new $);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new $,i=[],s=[],o=[],a=new $,l=new Ht;for(let v=0;v<=e;v++){const y=v/e;i[v]=this.getTangentAt(y,new $)}s[0]=new $,o[0]=new $;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),m<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Pr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(Pr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],v*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ZS extends Oa{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new He,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,v=c-this.aY;l=m*d-v*p+this.aX,c=m*p+v*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class E4 extends ZS{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function JI(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,p){let m=(o-s)/c-(a-s)/(c+d)+(a-o)/d,v=(a-o)/d-(l-o)/(d+p)+(l-a)/p;m*=d,v*=d,i(o,a,m,v)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const r_=new $,WE=new JI,VE=new JI,jE=new JI;class C4 extends Oa{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new $){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%s]:(r_.subVectors(i[0],i[1]).add(i[0]),c=r_);const p=i[a%s],m=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(r_.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=r_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(p),v),b=Math.pow(p.distanceToSquared(m),v),w=Math.pow(m.distanceToSquared(d),v);b<1e-4&&(b=1),y<1e-4&&(y=b),w<1e-4&&(w=b),WE.initNonuniformCatmullRom(c.x,p.x,m.x,d.x,y,b,w),VE.initNonuniformCatmullRom(c.y,p.y,m.y,d.y,y,b,w),jE.initNonuniformCatmullRom(c.z,p.z,m.z,d.z,y,b,w)}else this.curveType==="catmullrom"&&(WE.initCatmullRom(c.x,p.x,m.x,d.x,this.tension),VE.initCatmullRom(c.y,p.y,m.y,d.y,this.tension),jE.initCatmullRom(c.z,p.z,m.z,d.z,this.tension));return r.set(WE.calc(l),VE.calc(l),jE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lD(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Lre(n,e){const t=1-n;return t*t*e}function kre(n,e){return 2*(1-n)*n*e}function Dre(n,e){return n*n*e}function u0(n,e,t,r){return Lre(n,e)+kre(n,t)+Dre(n,r)}function Ore(n,e){const t=1-n;return t*t*t*e}function Nre(n,e){const t=1-n;return 3*t*t*n*e}function Fre(n,e){return 3*(1-n)*n*n*e}function Ure(n,e){return n*n*n*e}function d0(n,e,t,r,i){return Ore(n,e)+Nre(n,t)+Fre(n,r)+Ure(n,i)}class KI extends Oa{constructor(e=new He,t=new He,r=new He,i=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new He){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(d0(e,i.x,s.x,o.x,a.x),d0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class T4 extends Oa{constructor(e=new $,t=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(d0(e,i.x,s.x,o.x,a.x),d0(e,i.y,s.y,o.y,a.y),d0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class e1 extends Oa{constructor(e=new He,t=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new He){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new He){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class M4 extends Oa{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $I extends Oa{constructor(e=new He,t=new He,r=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new He){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(u0(e,i.x,s.x,o.x),u0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YI extends Oa{constructor(e=new $,t=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(u0(e,i.x,s.x,o.x),u0(e,i.y,s.y,o.y),u0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qI extends Oa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new He){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],p=i[o>i.length-3?i.length-1:o+2];return r.set(lD(a,l.x,c.x,d.x,p.x),lD(a,l.y,c.y,d.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new He().fromArray(i))}return this}}var QI=Object.freeze({__proto__:null,ArcCurve:E4,CatmullRomCurve3:C4,CubicBezierCurve:KI,CubicBezierCurve3:T4,EllipseCurve:ZS,LineCurve:e1,LineCurve3:M4,QuadraticBezierCurve:$I,QuadraticBezierCurve3:YI,SplineCurve:qI});class R4 extends Oa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new e1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new QI[i.type]().fromJSON(i))}return this}}class j0 extends R4{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new e1(this.currentPoint.clone(),new He(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new $I(this.currentPoint.clone(),new He(e,t),new He(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new KI(this.currentPoint.clone(),new He(e,t),new He(r,i),new He(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new qI(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new ZS(e,t,r,i,s,o,a,l);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class lg extends nn{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Pr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,p=new $,m=new He,v=new $,y=new $,b=new $;let w=0,x=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:w=e[A+1].x-e[A].x,x=e[A+1].y-e[A].y,v.x=x*1,v.y=-w,v.z=x*0,b.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:w=e[A+1].x-e[A].x,x=e[A+1].y-e[A].y,v.x=x*1,v.y=-w,v.z=x*0,y.copy(v),v.x+=b.x,v.y+=b.y,v.z+=b.z,v.normalize(),l.push(v.x,v.y,v.z),b.copy(y)}for(let A=0;A<=t;A++){const _=r+A*d*i,T=Math.sin(_),R=Math.cos(_);for(let P=0;P<=e.length-1;P++){p.x=e[P].x*T,p.y=e[P].y,p.z=e[P].x*R,o.push(p.x,p.y,p.z),m.x=A/t,m.y=P/(e.length-1),a.push(m.x,m.y);const D=l[3*P+0]*T,N=l[3*P+1],L=l[3*P+0]*R;c.push(D,N,L)}}for(let A=0;A<t;A++)for(let _=0;_<e.length-1;_++){const T=_+A*e.length,R=T,P=T+e.length,D=T+e.length+1,N=T+1;s.push(R,P,N),s.push(D,N,P)}this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("uv",new At(a,2)),this.setAttribute("normal",new At(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lg(e.points,e.segments,e.phiStart,e.phiLength)}}class _y extends lg{constructor(e=1,t=1,r=4,i=8){const s=new j0;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new _y(e.radius,e.length,e.capSegments,e.radialSegments)}}class wy extends nn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new $,d=new He;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=t;p++,m+=3){const v=r+p/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[m]/e+1)/2,d.y=(o[m+1]/e+1)/2,l.push(d.x,d.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(a,3)),this.setAttribute("uv",new At(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Sh extends nn{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],p=[],m=[],v=[];let y=0;const b=[],w=r/2;let x=0;A(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new At(p,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(v,2));function A(){const T=new $,R=new $;let P=0;const D=(t-e)/r;for(let N=0;N<=s;N++){const L=[],M=N/s,U=M*(t-e)+e;for(let V=0;V<=i;V++){const H=V/i,j=H*l+a,K=Math.sin(j),ee=Math.cos(j);R.x=U*K,R.y=-M*r+w,R.z=U*ee,p.push(R.x,R.y,R.z),T.set(K,D,ee).normalize(),m.push(T.x,T.y,T.z),v.push(H,1-M),L.push(y++)}b.push(L)}for(let N=0;N<i;N++)for(let L=0;L<s;L++){const M=b[L][N],U=b[L+1][N],V=b[L+1][N+1],H=b[L][N+1];d.push(M,U,H),d.push(U,V,H),P+=6}c.addGroup(x,P,0),x+=P}function _(T){const R=y,P=new He,D=new $;let N=0;const L=T===!0?e:t,M=T===!0?1:-1;for(let V=1;V<=i;V++)p.push(0,w*M,0),m.push(0,M,0),v.push(.5,.5),y++;const U=y;for(let V=0;V<=i;V++){const j=V/i*l+a,K=Math.cos(j),ee=Math.sin(j);D.x=L*ee,D.y=w*M,D.z=L*K,p.push(D.x,D.y,D.z),m.push(0,M,0),P.x=K*.5+.5,P.y=ee*.5*M+.5,v.push(P.x,P.y),y++}for(let V=0;V<i;V++){const H=R+V,j=U+V;T===!0?d.push(j,j+1,H):d.push(j+1,j,H),N+=3}c.addGroup(x,N,T===!0?1:2),x+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Sy extends Sh{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Sy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lc extends nn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),d(),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(s.slice(),3)),this.setAttribute("uv",new At(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const _=new $,T=new $,R=new $;for(let P=0;P<t.length;P+=3)v(t[P+0],_),v(t[P+1],T),v(t[P+2],R),l(_,T,R,A)}function l(A,_,T,R){const P=R+1,D=[];for(let N=0;N<=P;N++){D[N]=[];const L=A.clone().lerp(T,N/P),M=_.clone().lerp(T,N/P),U=P-N;for(let V=0;V<=U;V++)V===0&&N===P?D[N][V]=L:D[N][V]=L.clone().lerp(M,V/U)}for(let N=0;N<P;N++)for(let L=0;L<2*(P-N)-1;L++){const M=Math.floor(L/2);L%2===0?(m(D[N][M+1]),m(D[N+1][M]),m(D[N][M])):(m(D[N][M+1]),m(D[N+1][M+1]),m(D[N+1][M]))}}function c(A){const _=new $;for(let T=0;T<s.length;T+=3)_.x=s[T+0],_.y=s[T+1],_.z=s[T+2],_.normalize().multiplyScalar(A),s[T+0]=_.x,s[T+1]=_.y,s[T+2]=_.z}function d(){const A=new $;for(let _=0;_<s.length;_+=3){A.x=s[_+0],A.y=s[_+1],A.z=s[_+2];const T=w(A)/2/Math.PI+.5,R=x(A)/Math.PI+.5;o.push(T,1-R)}y(),p()}function p(){for(let A=0;A<o.length;A+=6){const _=o[A+0],T=o[A+2],R=o[A+4],P=Math.max(_,T,R),D=Math.min(_,T,R);P>.9&&D<.1&&(_<.2&&(o[A+0]+=1),T<.2&&(o[A+2]+=1),R<.2&&(o[A+4]+=1))}}function m(A){s.push(A.x,A.y,A.z)}function v(A,_){const T=A*3;_.x=e[T+0],_.y=e[T+1],_.z=e[T+2]}function y(){const A=new $,_=new $,T=new $,R=new $,P=new He,D=new He,N=new He;for(let L=0,M=0;L<s.length;L+=9,M+=6){A.set(s[L+0],s[L+1],s[L+2]),_.set(s[L+3],s[L+4],s[L+5]),T.set(s[L+6],s[L+7],s[L+8]),P.set(o[M+0],o[M+1]),D.set(o[M+2],o[M+3]),N.set(o[M+4],o[M+5]),R.copy(A).add(_).add(T).divideScalar(3);const U=w(R);b(P,M+0,A,U),b(D,M+2,_,U),b(N,M+4,T,U)}}function b(A,_,T,R){R<0&&A.x===1&&(o[_]=A.x-1),T.x===0&&T.z===0&&(o[_]=R/2/Math.PI+.5)}function w(A){return Math.atan2(A.z,-A.x)}function x(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lc(e.vertices,e.indices,e.radius,e.details)}}class Ay extends Lc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ay(e.radius,e.detail)}}const i_=new $,s_=new $,XE=new $,o_=new Rs;class I4 extends nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Xf*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],p=new Array(3),m={},v=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:b,b:w,c:x}=o_;if(b.fromBufferAttribute(a,c[0]),w.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),o_.getNormal(XE),p[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,p[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,p[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let A=0;A<3;A++){const _=(A+1)%3,T=p[A],R=p[_],P=o_[d[A]],D=o_[d[_]],N=`${T}_${R}`,L=`${R}_${T}`;L in m&&m[L]?(XE.dot(m[L].normal)<=s&&(v.push(P.x,P.y,P.z),v.push(D.x,D.y,D.z)),m[L]=null):N in m||(m[N]={index0:c[A],index1:c[_],normal:XE.clone()})}}for(const y in m)if(m[y]){const{index0:b,index1:w}=m[y];i_.fromBufferAttribute(a,b),s_.fromBufferAttribute(a,w),v.push(i_.x,i_.y,i_.z),v.push(s_.x,s_.y,s_.z)}this.setAttribute("position",new At(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Kf extends j0{constructor(e){super(e),this.uuid=ho(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new j0().fromJSON(i))}return this}}const zre={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=P4(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,p,m,v;if(r&&(s=jre(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let y=t;y<i;y+=t)p=n[y],m=n[y+1],p<a&&(a=p),m<l&&(l=m),p>c&&(c=p),m>d&&(d=m);v=Math.max(c-a,d-l),v=v!==0?32767/v:0}return X0(s,o,t,a,l,v,0),o}};function P4(n,e,t,r,i){let s,o;if(i===nie(n,e,t,r)>0)for(s=e;s<t;s+=r)o=cD(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=cD(s,n[s],n[s+1],o);return o&&t1(o,o.next)&&(K0(o),o=o.next),o}function ch(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(t1(t,t.next)||pr(t.prev,t,t.next)===0)){if(K0(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function X0(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Yre(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Gre(n,r,i,s):Hre(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),K0(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Wre(ch(n),e,t),X0(n,e,t,r,i,s,2)):o===2&&Vre(n,e,t,r,i,s):X0(ch(n),e,t,r,i,s,1);break}}}function Hre(n){const e=n.prev,t=n,r=n.next;if(pr(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,d=i<s?i<o?i:o:s<o?s:o,p=a<l?a<c?a:c:l<c?l:c,m=i>s?i>o?i:o:s>o?s:o,v=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=d&&y.x<=m&&y.y>=p&&y.y<=v&&pm(i,a,s,l,o,c,y.x,y.y)&&pr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Gre(n,e,t,r){const i=n.prev,s=n,o=n.next;if(pr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,d=i.y,p=s.y,m=o.y,v=a<l?a<c?a:c:l<c?l:c,y=d<p?d<m?d:m:p<m?p:m,b=a>l?a>c?a:c:l>c?l:c,w=d>p?d>m?d:m:p>m?p:m,x=_M(v,y,e,t,r),A=_M(b,w,e,t,r);let _=n.prevZ,T=n.nextZ;for(;_&&_.z>=x&&T&&T.z<=A;){if(_.x>=v&&_.x<=b&&_.y>=y&&_.y<=w&&_!==i&&_!==o&&pm(a,d,l,p,c,m,_.x,_.y)&&pr(_.prev,_,_.next)>=0||(_=_.prevZ,T.x>=v&&T.x<=b&&T.y>=y&&T.y<=w&&T!==i&&T!==o&&pm(a,d,l,p,c,m,T.x,T.y)&&pr(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;_&&_.z>=x;){if(_.x>=v&&_.x<=b&&_.y>=y&&_.y<=w&&_!==i&&_!==o&&pm(a,d,l,p,c,m,_.x,_.y)&&pr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;T&&T.z<=A;){if(T.x>=v&&T.x<=b&&T.y>=y&&T.y<=w&&T!==i&&T!==o&&pm(a,d,l,p,c,m,T.x,T.y)&&pr(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Wre(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!t1(i,s)&&B4(i,r,r.next,s)&&J0(i,s)&&J0(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),K0(r),K0(r.next),r=n=s),r=r.next}while(r!==n);return ch(r)}function Vre(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Zre(o,a)){let l=L4(o,a);o=ch(o,o.next),l=ch(l,l.next),X0(o,e,t,r,i,s,0),X0(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function jre(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=P4(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Qre(c));for(i.sort(Xre),s=0;s<i.length;s++)t=Jre(i[s],t);return t}function Xre(n,e){return n.x-e.x}function Jre(n,e){const t=Kre(n,e);if(!t)return e;const r=L4(t,n);return ch(r,r.next),ch(t,t.next)}function Kre(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const m=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=s&&m>r&&(r=m,i=t.x<t.next.x?t:t.next,m===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let d=1/0,p;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&pm(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(p=Math.abs(o-t.y)/(s-t.x),J0(t,n)&&(p<d||p===d&&(t.x>i.x||t.x===i.x&&$re(i,t)))&&(i=t,d=p)),t=t.next;while(t!==a);return i}function $re(n,e){return pr(n.prev,n,e.prev)<0&&pr(e.next,n,n.next)<0}function Yre(n,e,t,r){let i=n;do i.z===0&&(i.z=_M(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,qre(i)}function qre(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function _M(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Qre(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pm(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Zre(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!eie(n,e)&&(J0(n,e)&&J0(e,n)&&tie(n,e)&&(pr(n.prev,n,e.prev)||pr(n,e.prev,e))||t1(n,e)&&pr(n.prev,n,n.next)>0&&pr(e.prev,e,e.next)>0)}function pr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function t1(n,e){return n.x===e.x&&n.y===e.y}function B4(n,e,t,r){const i=l_(pr(n,e,t)),s=l_(pr(n,e,r)),o=l_(pr(t,r,n)),a=l_(pr(t,r,e));return!!(i!==s&&o!==a||i===0&&a_(n,t,e)||s===0&&a_(n,r,e)||o===0&&a_(t,n,r)||a===0&&a_(t,e,r))}function a_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function l_(n){return n>0?1:n<0?-1:0}function eie(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&B4(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function J0(n,e){return pr(n.prev,n,n.next)<0?pr(n,e,n.next)>=0&&pr(n,n.prev,e)>=0:pr(n,e,n.prev)<0||pr(n,n.next,e)<0}function tie(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function L4(n,e){const t=new wM(n.i,n.x,n.y),r=new wM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function cD(n,e,t,r){const i=new wM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function K0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function wM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nie(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ml{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ml.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];uD(e),dD(r,e);let o=e.length;t.forEach(uD);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,dD(r,t[l]);const a=zre.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function uD(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function dD(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ey extends nn{constructor(e=new Kf([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:v-.1,b=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:rie;let _,T=!1,R,P,D,N;x&&(_=x.getSpacedPoints(d),T=!0,m=!1,R=x.computeFrenetFrames(d,!1),P=new $,D=new $,N=new $),m||(w=0,v=0,y=0,b=0);const L=a.extractPoints(c);let M=L.shape;const U=L.holes;if(!ml.isClockWise(M)){M=M.reverse();for(let we=0,Se=U.length;we<Se;we++){const Me=U[we];ml.isClockWise(Me)&&(U[we]=Me.reverse())}}const H=ml.triangulateShape(M,U),j=M;for(let we=0,Se=U.length;we<Se;we++){const Me=U[we];M=M.concat(Me)}function K(we,Se,Me){return Se||console.error("THREE.ExtrudeGeometry: vec does not exist"),we.clone().addScaledVector(Se,Me)}const ee=M.length,ne=H.length;function z(we,Se,Me){let Ke,Ye,nt;const vt=we.x-Se.x,Je=we.y-Se.y,rt=Me.x-we.x,Ve=Me.y-we.y,Q=vt*vt+Je*Je,X=vt*Ve-Je*rt;if(Math.abs(X)>Number.EPSILON){const ye=Math.sqrt(Q),ze=Math.sqrt(rt*rt+Ve*Ve),Xe=Se.x-Je/ye,qe=Se.y+vt/ye,dt=Me.x-Ve/ze,et=Me.y+rt/ze,Pe=((dt-Xe)*Ve-(et-qe)*rt)/(vt*Ve-Je*rt);Ke=Xe+vt*Pe-we.x,Ye=qe+Je*Pe-we.y;const ft=Ke*Ke+Ye*Ye;if(ft<=2)return new He(Ke,Ye);nt=Math.sqrt(ft/2)}else{let ye=!1;vt>Number.EPSILON?rt>Number.EPSILON&&(ye=!0):vt<-Number.EPSILON?rt<-Number.EPSILON&&(ye=!0):Math.sign(Je)===Math.sign(Ve)&&(ye=!0),ye?(Ke=-Je,Ye=vt,nt=Math.sqrt(Q)):(Ke=vt,Ye=Je,nt=Math.sqrt(Q/2))}return new He(Ke/nt,Ye/nt)}const G=[];for(let we=0,Se=j.length,Me=Se-1,Ke=we+1;we<Se;we++,Me++,Ke++)Me===Se&&(Me=0),Ke===Se&&(Ke=0),G[we]=z(j[we],j[Me],j[Ke]);const Y=[];let le,ge=G.concat();for(let we=0,Se=U.length;we<Se;we++){const Me=U[we];le=[];for(let Ke=0,Ye=Me.length,nt=Ye-1,vt=Ke+1;Ke<Ye;Ke++,nt++,vt++)nt===Ye&&(nt=0),vt===Ye&&(vt=0),le[Ke]=z(Me[Ke],Me[nt],Me[vt]);Y.push(le),ge=ge.concat(le)}for(let we=0;we<w;we++){const Se=we/w,Me=v*Math.cos(Se*Math.PI/2),Ke=y*Math.sin(Se*Math.PI/2)+b;for(let Ye=0,nt=j.length;Ye<nt;Ye++){const vt=K(j[Ye],G[Ye],Ke);q(vt.x,vt.y,-Me)}for(let Ye=0,nt=U.length;Ye<nt;Ye++){const vt=U[Ye];le=Y[Ye];for(let Je=0,rt=vt.length;Je<rt;Je++){const Ve=K(vt[Je],le[Je],Ke);q(Ve.x,Ve.y,-Me)}}}const ie=y+b;for(let we=0;we<ee;we++){const Se=m?K(M[we],ge[we],ie):M[we];T?(D.copy(R.normals[0]).multiplyScalar(Se.x),P.copy(R.binormals[0]).multiplyScalar(Se.y),N.copy(_[0]).add(D).add(P),q(N.x,N.y,N.z)):q(Se.x,Se.y,0)}for(let we=1;we<=d;we++)for(let Se=0;Se<ee;Se++){const Me=m?K(M[Se],ge[Se],ie):M[Se];T?(D.copy(R.normals[we]).multiplyScalar(Me.x),P.copy(R.binormals[we]).multiplyScalar(Me.y),N.copy(_[we]).add(D).add(P),q(N.x,N.y,N.z)):q(Me.x,Me.y,p/d*we)}for(let we=w-1;we>=0;we--){const Se=we/w,Me=v*Math.cos(Se*Math.PI/2),Ke=y*Math.sin(Se*Math.PI/2)+b;for(let Ye=0,nt=j.length;Ye<nt;Ye++){const vt=K(j[Ye],G[Ye],Ke);q(vt.x,vt.y,p+Me)}for(let Ye=0,nt=U.length;Ye<nt;Ye++){const vt=U[Ye];le=Y[Ye];for(let Je=0,rt=vt.length;Je<rt;Je++){const Ve=K(vt[Je],le[Je],Ke);T?q(Ve.x,Ve.y+_[d-1].y,_[d-1].x+Me):q(Ve.x,Ve.y,p+Me)}}}oe(),he();function oe(){const we=i.length/3;if(m){let Se=0,Me=ee*Se;for(let Ke=0;Ke<ne;Ke++){const Ye=H[Ke];Ie(Ye[2]+Me,Ye[1]+Me,Ye[0]+Me)}Se=d+w*2,Me=ee*Se;for(let Ke=0;Ke<ne;Ke++){const Ye=H[Ke];Ie(Ye[0]+Me,Ye[1]+Me,Ye[2]+Me)}}else{for(let Se=0;Se<ne;Se++){const Me=H[Se];Ie(Me[2],Me[1],Me[0])}for(let Se=0;Se<ne;Se++){const Me=H[Se];Ie(Me[0]+ee*d,Me[1]+ee*d,Me[2]+ee*d)}}r.addGroup(we,i.length/3-we,0)}function he(){const we=i.length/3;let Se=0;pe(j,Se),Se+=j.length;for(let Me=0,Ke=U.length;Me<Ke;Me++){const Ye=U[Me];pe(Ye,Se),Se+=Ye.length}r.addGroup(we,i.length/3-we,1)}function pe(we,Se){let Me=we.length;for(;--Me>=0;){const Ke=Me;let Ye=Me-1;Ye<0&&(Ye=we.length-1);for(let nt=0,vt=d+w*2;nt<vt;nt++){const Je=ee*nt,rt=ee*(nt+1),Ve=Se+Ke+Je,Q=Se+Ye+Je,X=Se+Ye+rt,ye=Se+Ke+rt;ke(Ve,Q,X,ye)}}}function q(we,Se,Me){l.push(we),l.push(Se),l.push(Me)}function Ie(we,Se,Me){xe(we),xe(Se),xe(Me);const Ke=i.length/3,Ye=A.generateTopUV(r,i,Ke-3,Ke-2,Ke-1);Le(Ye[0]),Le(Ye[1]),Le(Ye[2])}function ke(we,Se,Me,Ke){xe(we),xe(Se),xe(Ke),xe(Se),xe(Me),xe(Ke);const Ye=i.length/3,nt=A.generateSideWallUV(r,i,Ye-6,Ye-3,Ye-2,Ye-1);Le(nt[0]),Le(nt[1]),Le(nt[3]),Le(nt[1]),Le(nt[2]),Le(nt[3])}function xe(we){i.push(l[we*3+0]),i.push(l[we*3+1]),i.push(l[we*3+2])}function Le(we){s.push(we.x),s.push(we.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return iie(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new QI[i.type]().fromJSON(i)),new Ey(r,e.options)}}const rie={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new He(s,o),new He(a,l),new He(c,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],d=e[r*3+1],p=e[r*3+2],m=e[i*3],v=e[i*3+1],y=e[i*3+2],b=e[s*3],w=e[s*3+1],x=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new He(o,1-l),new He(c,1-p),new He(m,1-y),new He(b,1-x)]:[new He(a,1-l),new He(d,1-p),new He(v,1-y),new He(w,1-x)]}};function iie(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Cy extends Lc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cy(e.radius,e.detail)}}class cg extends Lc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cg(e.radius,e.detail)}}class Ty extends nn{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let p=e;const m=(t-e)/i,v=new $,y=new He;for(let b=0;b<=i;b++){for(let w=0;w<=r;w++){const x=s+w/r*o;v.x=p*Math.cos(x),v.y=p*Math.sin(x),l.push(v.x,v.y,v.z),c.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,d.push(y.x,y.y)}p+=m}for(let b=0;b<i;b++){const w=b*(r+1);for(let x=0;x<r;x++){const A=x+w,_=A,T=A+r+1,R=A+r+2,P=A+1;a.push(_,T,P),a.push(T,R,P)}}this.setIndex(a),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ty(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class My extends nn{constructor(e=new Kf([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(o,2));function c(d){const p=i.length/3,m=d.extractPoints(t);let v=m.shape;const y=m.holes;ml.isClockWise(v)===!1&&(v=v.reverse());for(let w=0,x=y.length;w<x;w++){const A=y[w];ml.isClockWise(A)===!0&&(y[w]=A.reverse())}const b=ml.triangulateShape(v,y);for(let w=0,x=y.length;w<x;w++){const A=y[w];v=v.concat(A)}for(let w=0,x=v.length;w<x;w++){const A=v[w];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let w=0,x=b.length;w<x;w++){const A=b[w],_=A[0]+p,T=A[1]+p,R=A[2]+p;r.push(_,T,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return sie(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new My(r,e.curveSegments)}}function sie(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class ug extends nn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const d=[],p=new $,m=new $,v=[],y=[],b=[],w=[];for(let x=0;x<=r;x++){const A=[],_=x/r;let T=0;x===0&&o===0?T=.5/t:x===r&&l===Math.PI&&(T=-.5/t);for(let R=0;R<=t;R++){const P=R/t;p.x=-e*Math.cos(i+P*s)*Math.sin(o+_*a),p.y=e*Math.cos(o+_*a),p.z=e*Math.sin(i+P*s)*Math.sin(o+_*a),y.push(p.x,p.y,p.z),m.copy(p).normalize(),b.push(m.x,m.y,m.z),w.push(P+T,1-_),A.push(c++)}d.push(A)}for(let x=0;x<r;x++)for(let A=0;A<t;A++){const _=d[x][A+1],T=d[x][A],R=d[x+1][A],P=d[x+1][A+1];(x!==0||o>0)&&v.push(_,T,P),(x!==r-1||l<Math.PI)&&v.push(T,R,P)}this.setIndex(v),this.setAttribute("position",new At(y,3)),this.setAttribute("normal",new At(b,3)),this.setAttribute("uv",new At(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ug(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ry extends Lc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ry(e.radius,e.detail)}}class Iy extends nn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],d=new $,p=new $,m=new $;for(let v=0;v<=r;v++)for(let y=0;y<=i;y++){const b=y/i*s,w=v/r*Math.PI*2;p.x=(e+t*Math.cos(w))*Math.cos(b),p.y=(e+t*Math.cos(w))*Math.sin(b),p.z=t*Math.sin(w),a.push(p.x,p.y,p.z),d.x=e*Math.cos(b),d.y=e*Math.sin(b),m.subVectors(p,d).normalize(),l.push(m.x,m.y,m.z),c.push(y/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){const b=(i+1)*v+y-1,w=(i+1)*(v-1)+y-1,x=(i+1)*(v-1)+y,A=(i+1)*v+y;o.push(b,w,A),o.push(w,x,A)}this.setIndex(o),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iy(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Py extends nn{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],d=[],p=new $,m=new $,v=new $,y=new $,b=new $,w=new $,x=new $;for(let _=0;_<=r;++_){const T=_/r*s*Math.PI*2;A(T,s,o,e,v),A(T+.01,s,o,e,y),w.subVectors(y,v),x.addVectors(y,v),b.crossVectors(w,x),x.crossVectors(b,w),b.normalize(),x.normalize();for(let R=0;R<=i;++R){const P=R/i*Math.PI*2,D=-t*Math.cos(P),N=t*Math.sin(P);p.x=v.x+(D*x.x+N*b.x),p.y=v.y+(D*x.y+N*b.y),p.z=v.z+(D*x.z+N*b.z),l.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),c.push(m.x,m.y,m.z),d.push(_/r),d.push(R/i)}}for(let _=1;_<=r;_++)for(let T=1;T<=i;T++){const R=(i+1)*(_-1)+(T-1),P=(i+1)*_+(T-1),D=(i+1)*_+T,N=(i+1)*(_-1)+T;a.push(R,P,N),a.push(P,D,N)}this.setIndex(a),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(d,2));function A(_,T,R,P,D){const N=Math.cos(_),L=Math.sin(_),M=R/T*_,U=Math.cos(M);D.x=P*(2+U)*.5*N,D.y=P*(2+U)*L*.5,D.z=P*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Py(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class By extends nn{constructor(e=new YI(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new $,l=new $,c=new He;let d=new $;const p=[],m=[],v=[],y=[];b(),this.setIndex(y),this.setAttribute("position",new At(p,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(v,2));function b(){for(let _=0;_<t;_++)w(_);w(s===!1?t:0),A(),x()}function w(_){d=e.getPointAt(_/t,d);const T=o.normals[_],R=o.binormals[_];for(let P=0;P<=i;P++){const D=P/i*Math.PI*2,N=Math.sin(D),L=-Math.cos(D);l.x=L*T.x+N*R.x,l.y=L*T.y+N*R.y,l.z=L*T.z+N*R.z,l.normalize(),m.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,p.push(a.x,a.y,a.z)}}function x(){for(let _=1;_<=t;_++)for(let T=1;T<=i;T++){const R=(i+1)*(_-1)+(T-1),P=(i+1)*_+(T-1),D=(i+1)*_+T,N=(i+1)*(_-1)+T;y.push(R,P,N),y.push(P,D,N)}}function A(){for(let _=0;_<=t;_++)for(let T=0;T<=i;T++)c.x=_/t,c.y=T/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new By(new QI[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class k4 extends nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const p=l[c],m=p.start,v=p.count;for(let y=m,b=m+v;y<b;y+=3)for(let w=0;w<3;w++){const x=a.getX(y+w),A=a.getX(y+(w+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,A),fD(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,p=3*a+(c+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,p),fD(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new At(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function fD(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var hD=Object.freeze({__proto__:null,BoxGeometry:vd,CapsuleGeometry:_y,CircleGeometry:wy,ConeGeometry:Sy,CylinderGeometry:Sh,DodecahedronGeometry:Ay,EdgesGeometry:I4,ExtrudeGeometry:Ey,IcosahedronGeometry:Cy,LatheGeometry:lg,OctahedronGeometry:cg,PlaneGeometry:og,PolyhedronGeometry:Lc,RingGeometry:Ty,ShapeGeometry:My,SphereGeometry:ug,TetrahedronGeometry:Ry,TorusGeometry:Iy,TorusKnotGeometry:Py,TubeGeometry:By,WireframeGeometry:k4});class D4 extends ai{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class O4 extends _l{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ly extends ai{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zo extends Ly{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class N4 extends ai{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F4 extends ai{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class U4 extends ai{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class z4 extends ai{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H4 extends ai{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class G4 extends Yi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Go(n,e,t){return ZI(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function kf(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function ZI(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function W4(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function SM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function eP(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function oie(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),p=[],m=[];for(let v=0;v<c.times.length;++v){const y=c.times[v]*i;if(!(y<t||y>=r)){p.push(c.times[v]);for(let b=0;b<d;++b)m.push(c.values[v*d+b])}}p.length!==0&&(c.times=kf(p,c.times.constructor),c.values=kf(m,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function aie(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let d=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const y=a.times.length-1;let b;if(s<=a.times[0]){const x=d,A=p-d;b=Go(a.values,x,A)}else if(s>=a.times[y]){const x=y*p+d,A=x+p-d;b=Go(a.values,x,A)}else{const x=a.createInterpolant(),A=d,_=p-d;x.evaluate(s),b=Go(x.resultBuffer,A,_)}l==="quaternion"&&new Ei().fromArray(b).normalize().conjugate().toArray(b);const w=c.times.length;for(let x=0;x<w;++x){const A=x*v+m;if(l==="quaternion")Ei.multiplyQuaternionsFlat(c.values,A,b,0,c.values,A);else{const _=v-m*2;for(let T=0;T<_;++T)c.values[A+T]-=b[T]}}}return n.blendMode=TI,n}const lie={arraySlice:Go,convertArray:kf,isTypedArray:ZI,getKeyframeOrder:W4,sortedArray:SM,flattenJSON:eP,subclip:oie,makeClipAdditive:aie};class dg{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class V4 extends dg{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pf,endingEnd:Pf}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Bf:s=e,a=2*t-r;break;case G0:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Bf:o=e,l=2*r-t;break;case G0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,v=this._weightNext,y=(r-t)/(i-t),b=y*y,w=b*y,x=-m*w+2*m*b-m*y,A=(1+m)*w+(-1.5-2*m)*b+(-.5+m)*y+1,_=(-1-v)*w+(1.5+v)*b+.5*y,T=v*w-v*b;for(let R=0;R!==a;++R)s[R]=x*o[d+R]+A*o[c+R]+_*o[l+R]+T*o[p+R];return s}}class tP extends dg{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(r-t)/(i-t),p=1-d;for(let m=0;m!==a;++m)s[m]=o[c+m]*p+o[l+m]*d;return s}}class j4 extends dg{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Na{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=kf(t,this.TimeBufferType),this.values=kf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:kf(e.times,Array),values:kf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new j4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new tP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new V4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Wm:t=this.InterpolantFactoryMethodDiscrete;break;case ah:t=this.InterpolantFactoryMethodLinear;break;case X_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Wm;case this.InterpolantFactoryMethodLinear:return ah;case this.InterpolantFactoryMethodSmooth:return X_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Go(r,s,o),this.values=Go(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&ZI(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Go(this.times),t=Go(this.values),r=this.getValueSize(),i=this.getInterpolation()===X_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const p=a*r,m=p-r,v=p+r;for(let y=0;y!==r;++y){const b=t[p+y];if(b!==t[m+y]||b!==t[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const p=a*r,m=o*r;for(let v=0;v!==r;++v)t[m+v]=t[p+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Go(e,0,o),this.values=Go(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Go(this.times,0),t=Go(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Na.prototype.TimeBufferType=Float32Array;Na.prototype.ValueBufferType=Float32Array;Na.prototype.DefaultInterpolation=ah;class Ah extends Na{}Ah.prototype.ValueTypeName="bool";Ah.prototype.ValueBufferType=Array;Ah.prototype.DefaultInterpolation=Wm;Ah.prototype.InterpolantFactoryMethodLinear=void 0;Ah.prototype.InterpolantFactoryMethodSmooth=void 0;class nP extends Na{}nP.prototype.ValueTypeName="color";class uh extends Na{}uh.prototype.ValueTypeName="number";class X4 extends dg{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let d=c+a;c!==d;c+=4)Ei.slerpFlat(s,0,o,c-a,o,c,l);return s}}class od extends Na{InterpolantFactoryMethodLinear(e){return new X4(this.times,this.values,this.getValueSize(),e)}}od.prototype.ValueTypeName="quaternion";od.prototype.DefaultInterpolation=ah;od.prototype.InterpolantFactoryMethodSmooth=void 0;class Eh extends Na{}Eh.prototype.ValueTypeName="string";Eh.prototype.ValueBufferType=Array;Eh.prototype.DefaultInterpolation=Wm;Eh.prototype.InterpolantFactoryMethodLinear=void 0;Eh.prototype.InterpolantFactoryMethodSmooth=void 0;class dh extends Na{}dh.prototype.ValueTypeName="vector";class Xm{constructor(e,t=-1,r,i=jS){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ho(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(uie(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Na.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=W4(l);l=SM(l,1,d),c=SM(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new uh(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const p=d[1];let m=i[p];m||(i[p]=m=[]),m.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,m,v,y,b){if(v.length!==0){const w=[],x=[];eP(v,w,x,y),w.length!==0&&b.push(new p(m,w,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const m=c[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let y;for(y=0;y<m.length;y++)if(m[y].morphTargets)for(let b=0;b<m[y].morphTargets.length;b++)v[m[y].morphTargets[b]]=-1;for(const b in v){const w=[],x=[];for(let A=0;A!==m[y].morphTargets.length;++A){const _=m[y];w.push(_.time),x.push(_.morphTarget===b?1:0)}i.push(new uh(".morphTargetInfluence["+b+"]",w,x))}l=v.length*o}else{const v=".bones["+t[p].name+"]";r(dh,v+".position",m,"pos",i),r(od,v+".quaternion",m,"rot",i),r(dh,v+".scale",m,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cie(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return uh;case"vector":case"vector2":case"vector3":case"vector4":return dh;case"color":return nP;case"quaternion":return od;case"bool":case"boolean":return Ah;case"string":return Eh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function uie(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=cie(n.type);if(n.times===void 0){const t=[],r=[];eP(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const fh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class rP{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,p){return c.push(d,p),this},this.removeHandler=function(d){const p=c.indexOf(d);return p!==-1&&c.splice(p,2),this},this.getHandler=function(d){for(let p=0,m=c.length;p<m;p+=2){const v=c[p],y=c[p+1];if(v.global&&(v.lastIndex=0),v.test(d))return y}return null}}}const J4=new rP;class gs{constructor(e){this.manager=e!==void 0?e:J4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ql={};class die extends Error{constructor(e,t){super(e),this.response=t}}class xo extends gs{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=fh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ql[e]!==void 0){Ql[e].push({onLoad:t,onProgress:r,onError:i});return}Ql[e]=[],Ql[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Ql[e],p=c.body.getReader(),m=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),v=m?parseInt(m):0,y=v!==0;let b=0;const w=new ReadableStream({start(x){A();function A(){p.read().then(({done:_,value:T})=>{if(_)x.close();else{b+=T.byteLength;const R=new ProgressEvent("progress",{lengthComputable:y,loaded:b,total:v});for(let P=0,D=d.length;P<D;P++){const N=d[P];N.onProgress&&N.onProgress(R)}x.enqueue(T),A()}})}}});return new Response(w)}else throw new die(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),m=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(m);return c.arrayBuffer().then(y=>v.decode(y))}}}).then(c=>{fh.add(e,c);const d=Ql[e];delete Ql[e];for(let p=0,m=d.length;p<m;p++){const v=d[p];v.onLoad&&v.onLoad(c)}}).catch(c=>{const d=Ql[e];if(d===void 0)throw this.manager.itemError(e),c;delete Ql[e];for(let p=0,m=d.length;p<m;p++){const v=d[p];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class fie extends gs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Xm.parse(e[r]);t.push(i)}return t}}class hie extends gs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new XI,l=new xo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(p){l.load(e[p],function(m){const v=s.parse(m,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=hr),a.image=o,a.format=v.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)d(p);else l.load(e,function(p){const m=s.parse(p,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let b=0;b<m.mipmapCount;b++)o[y].mipmaps.push(m.mipmaps[y*m.mipmapCount+b]),o[y].format=m.format,o[y].width=m.width,o[y].height=m.height}a.image=o}else a.image.width=m.width,a.image.height=m.height,a.mipmaps=m.mipmaps;m.mipmapCount===1&&(a.minFilter=hr),a.format=m.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class $0 extends gs{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=V0("img");function l(){d(),fh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(p){d(),i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class pie extends gs{constructor(e){super(e)}load(e,t,r,i){const s=new yy,o=new $0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class mie extends gs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Em,a=new xo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Li,o.wrapT=c.wrapT!==void 0?c.wrapT:Li,o.magFilter=c.magFilter!==void 0?c.magFilter:hr,o.minFilter=c.minFilter!==void 0?c.minFilter:hr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=bl),c.mipmapCount===1&&(o.minFilter=hr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class K4 extends gs{constructor(e){super(e)}load(e,t,r,i){const s=new gr,o=new $0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class yd extends wn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $4 extends yd{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const JE=new Ht,pD=new $,mD=new $;class iP{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.map=null,this.mapPass=null,this.matrix=new Ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new JS,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new kn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;pD.setFromMatrixPosition(e.matrixWorld),t.position.copy(pD),mD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mD),t.updateMatrixWorld(),JE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(JE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class gie extends iP{constructor(){super(new Br(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Vm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class sP extends yd{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new gie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gD=new Ht,Lv=new $,KE=new $;class vie extends iP{constructor(){super(new Br(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new kn(2,1,1,1),new kn(0,1,1,1),new kn(3,1,1,1),new kn(1,1,1,1),new kn(3,0,1,1),new kn(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Lv.setFromMatrixPosition(e.matrixWorld),r.position.copy(Lv),KE.copy(r.position),KE.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(KE),r.updateMatrixWorld(),i.makeTranslation(-Lv.x,-Lv.y,-Lv.z),gD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gD)}}class oP extends yd{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new vie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yie extends iP{constructor(){super(new mc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class aP extends yd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new yie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Y4 extends yd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class q4 extends yd{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Q4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class n1 extends yd{constructor(e=new Q4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class r1 extends gs{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new xo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=r1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ut().setHex(o.value);break;case"v2":i.uniforms[s].value=new He().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new kn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new pn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new He().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:D4,SpriteMaterial:HI,RawShaderMaterial:O4,ShaderMaterial:_l,PointsMaterial:QS,MeshPhysicalMaterial:Zo,MeshStandardMaterial:Ly,MeshPhongMaterial:N4,MeshToonMaterial:F4,MeshNormalMaterial:U4,MeshLambertMaterial:z4,MeshDepthMaterial:NI,MeshDistanceMaterial:FI,MeshBasicMaterial:uo,MeshMatcapMaterial:H4,LineDashedMaterial:G4,LineBasicMaterial:Yi,Material:ai};return new t[e]}}class Ku{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Z4 extends nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class eH extends gs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,y){if(t[y]!==void 0)return t[y];const w=v.interleavedBuffers[y],x=s(v,w.buffer),A=fm(w.type,x),_=new xy(A,w.stride);return _.uuid=w.uuid,t[y]=_,_}function s(v,y){if(r[y]!==void 0)return r[y];const w=v.arrayBuffers[y],x=new Uint32Array(w).buffer;return r[y]=x,x}const o=e.isInstancedBufferGeometry?new Z4:new nn,a=e.data.index;if(a!==void 0){const v=fm(a.type,a.array);o.setIndex(new Tn(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let b;if(y.isInterleavedBufferAttribute){const w=i(e.data,y.data);b=new sd(w,y.itemSize,y.offset,y.normalized)}else{const w=fm(y.type,y.array),x=y.isInstancedBufferAttribute?lh:Tn;b=new x(w,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),y.usage!==void 0&&b.setUsage(y.usage),y.updateRange!==void 0&&(b.updateRange.offset=y.updateRange.offset,b.updateRange.count=y.updateRange.count),o.setAttribute(v,b)}const c=e.data.morphAttributes;if(c)for(const v in c){const y=c[v],b=[];for(let w=0,x=y.length;w<x;w++){const A=y[w];let _;if(A.isInterleavedBufferAttribute){const T=i(e.data,A.data);_=new sd(T,A.itemSize,A.offset,A.normalized)}else{const T=fm(A.type,A.array);_=new Tn(T,A.itemSize,A.normalized)}A.name!==void 0&&(_.name=A.name),b.push(_)}o.morphAttributes[v]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,y=p.length;v!==y;++v){const b=p[v];o.addGroup(b.start,b.count,b.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new $;m.center!==void 0&&v.fromArray(m.center),o.boundingSphere=new ka(v,m.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class xie extends gs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ku.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new xo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ku.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new xo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let p=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Kf().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new by().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new eH;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in hD?a=hD[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new r1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Xm.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:fm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new rP(t);s=new $0(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const p=e[c],m=p.url;if(Array.isArray(m)){const v=[];for(let y=0,b=m.length;y<b;y++){const w=m[y],x=a(w);x!==null&&(x instanceof HTMLImageElement?v.push(x):v.push(new Em(x.data,x.width,x.height)))}i[p.uuid]=new Lf(v)}else{const v=a(p.url);i[p.uuid]=new Lf(v)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:fm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new $0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let p=0,m=c.length;p<m;p++){const v=c[p],y=await s(v);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Em(y.data,y.width,y.height)))}r[l.uuid]=new Lf(d)}else{const d=await s(l.url);r[l.uuid]=new Lf(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new yy,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Em:d=new gr,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,bie)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],vD),d.wrapT=r(a.wrap[1],vD)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,yD)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,yD)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let y=0,b=m.length;y<b;y++){const w=m[y];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),v.push(r[w])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function c(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let d,p;switch(e.type){case"Scene":o=new zI,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ut(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new YS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new $S(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Br(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new mc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Y4(e.color,e.intensity);break;case"DirectionalLight":o=new aP(e.color,e.intensity);break;case"PointLight":o=new oP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new q4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new sP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new $4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new n1().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),p=l(e.material),o=new GI(d,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),p=l(e.material),o=new Si(d,p);break;case"InstancedMesh":d=a(e.geometry),p=l(e.material);const m=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new WI(d,p,m),o.instanceMatrix=new lh(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new lh(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new A4;break;case"Line":o=new Ec(a(e.geometry),l(e.material));break;case"LineLoop":o=new VI(a(e.geometry),l(e.material));break;case"LineSegments":o=new Da(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new jI(a(e.geometry),l(e.material));break;case"Sprite":o=new S4(l(e.material));break;case"Group":o=new uc;break;case"Bone":o=new qS;break;default:o=new wn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)o.add(this.parseObject(m[v],t,r,i,s))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const y=m[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const y=m[v],b=o.getObjectByProperty("uuid",y.object);b!==void 0&&o.addLevel(b,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const bie={UVMapping:WS,CubeReflectionMapping:nd,CubeRefractionMapping:rd,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:z0,CubeUVReflectionMapping:ig},vD={RepeatWrapping:id,ClampToEdgeWrapping:Li,MirroredRepeatWrapping:Hm},yD={NearestFilter:Ir,NearestMipmapNearestFilter:H0,NearestMipmapLinearFilter:Sm,LinearFilter:hr,LinearMipmapNearestFilter:VS,LinearMipmapLinearFilter:bl};class tH extends gs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){fh.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let c_;class lP{static getContext(){return c_===void 0&&(c_=new(window.AudioContext||window.webkitAudioContext)),c_}static setContext(e){c_=e}}class _ie extends gs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);lP.getContext().decodeAudioData(c,function(p){t(p)},a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class wie extends n1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ut().set(e),s=new ut().set(t),o=new $(i.r,i.g,i.b),a=new $(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class Sie extends n1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ut().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const xD=new Ht,bD=new Ht,df=new Ht;class Aie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Br,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Br,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,df.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Xf*t.fov*.5)/t.zoom;let a,l;bD.elements[12]=-i,xD.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,df.elements[0]=2*t.near/(l-a),df.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(df),a=-o*t.aspect-s,l=o*t.aspect-s,df.elements[0]=2*t.near/(l-a),df.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(df)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xD)}}class cP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=_D(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=_D();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function _D(){return(typeof performance>"u"?Date:performance).now()}const ff=new $,wD=new Ei,Eie=new $,hf=new $;class Cie extends wn{constructor(){super(),this.type="AudioListener",this.context=lP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new cP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ff,wD,Eie),hf.set(0,0,-1).applyQuaternion(wD),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ff.x,i),t.positionY.linearRampToValueAtTime(ff.y,i),t.positionZ.linearRampToValueAtTime(ff.z,i),t.forwardX.linearRampToValueAtTime(hf.x,i),t.forwardY.linearRampToValueAtTime(hf.y,i),t.forwardZ.linearRampToValueAtTime(hf.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(ff.x,ff.y,ff.z),t.setOrientation(hf.x,hf.y,hf.z,r.x,r.y,r.z)}}class nH extends wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const pf=new $,SD=new Ei,Tie=new $,mf=new $;class Mie extends nH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(pf,SD,Tie),mf.set(0,0,1).applyQuaternion(SD);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(pf.x,r),t.positionY.linearRampToValueAtTime(pf.y,r),t.positionZ.linearRampToValueAtTime(pf.z,r),t.orientationX.linearRampToValueAtTime(mf.x,r),t.orientationY.linearRampToValueAtTime(mf.y,r),t.orientationZ.linearRampToValueAtTime(mf.z,r)}else t.setPosition(pf.x,pf.y,pf.z),t.setOrientation(mf.x,mf.y,mf.z)}}class Rie{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class rH{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Ei.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Ei.multiplyQuaternionsFlat(e,o,e,t,e,r),Ei.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const uP="\\[\\]\\.:\\/",Iie=new RegExp("["+uP+"]","g"),dP="[^"+uP+"]",Pie="[^"+uP.replace("\\.","")+"]",Bie=/((?:WC+[\/:])*)/.source.replace("WC",dP),Lie=/(WCOD+)?/.source.replace("WCOD",Pie),kie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",dP),Die=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",dP),Oie=new RegExp("^"+Bie+Lie+kie+Die+"$"),Nie=["material","materials","bones","map"];class Fie{constructor(e,t,r){const i=r||_n.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class _n{constructor(e,t,r){this.path=t,this.parsedPath=r||_n.parseTrackName(t),this.node=_n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new _n.Composite(e,t,r):new _n(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Iie,"")}static parseTrackName(e){const t=Oie.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Nie.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=_n.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_n.Composite=Fie;_n.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_n.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_n.prototype.GetterByBindingType=[_n.prototype._getValue_direct,_n.prototype._getValue_array,_n.prototype._getValue_arrayElement,_n.prototype._getValue_toArray];_n.prototype.SetterByBindingTypeAndVersioning=[[_n.prototype._setValue_direct,_n.prototype._setValue_direct_setNeedsUpdate,_n.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_n.prototype._setValue_array,_n.prototype._setValue_array_setNeedsUpdate,_n.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_n.prototype._setValue_arrayElement,_n.prototype._setValue_arrayElement_setNeedsUpdate,_n.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_n.prototype._setValue_fromArray,_n.prototype._setValue_fromArray_setNeedsUpdate,_n.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Uie{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const m=arguments[d],v=m.uuid;let y=t[v];if(y===void 0){y=l++,t[v]=y,e.push(m);for(let b=0,w=o;b!==w;++b)s[b].push(new _n(m,r[b],i[b]))}else if(y<c){a=e[y];const b=--c,w=e[b];t[w.uuid]=y,e[y]=w,t[v]=b,e[b]=m;for(let x=0,A=o;x!==A;++x){const _=s[x],T=_[b];let R=_[y];_[y]=T,R===void 0&&(R=new _n(m,r[x],i[x])),_[b]=R}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const p=s++,m=e[p];t[m.uuid]=d,e[d]=m,t[c]=p,e[p]=l;for(let v=0,y=i;v!==y;++v){const b=r[v],w=b[p],x=b[d];b[d]=w,b[p]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,p=t[d];if(p!==void 0)if(delete t[d],p<s){const m=--s,v=e[m],y=--o,b=e[y];t[v.uuid]=p,e[p]=v,t[b.uuid]=m,e[m]=b,e.pop();for(let w=0,x=i;w!==x;++w){const A=r[w],_=A[m],T=A[y];A[p]=_,A[m]=T,A.pop()}}else{const m=--o,v=e[m];m>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let y=0,b=i;y!==b;++y){const w=r[y];w[p]=w[m],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,p=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(p);for(let m=d,v=l.length;m!==v;++m){const y=l[m];p[m]=new _n(y,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class iH{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Pf,endingEnd:Pf};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Qz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case TI:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case jS:default:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(o),c[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Zz;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===qz){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Bf,i.endingEnd=Bf):(e?i.endingStart=this.zeroSlopeAtStart?Bf:Pf:i.endingStart=G0,t?i.endingEnd=this.zeroSlopeAtEnd?Bf:Pf:i.endingEnd=G0)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const zie=new Float32Array(1);class Hie extends Bc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let p=0;p!==s;++p){const m=i[p],v=m.name;let y=d[v];if(y!==void 0)++y.referenceCount,o[p]=y;else{if(y=o[p],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const b=t&&t._propertyBindings[p].binding.parsedPath;y=new rH(_n.create(r,v,b),m.ValueTypeName,m.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[p]=y}a[p].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new tP(new Float32Array(2),new Float32Array(2),1,zie),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Xm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=jS),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===r)return p;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new iH(this,o,t,r);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Xm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,p=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=d,t[d]=p,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class fP{constructor(e){this.value=e}clone(){return new fP(this.value.clone===void 0?this.value:this.value.clone())}}let Gie=0;class Wie extends Bc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Gie++}),this.name="",this.usage=W0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Vie extends xy{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class jie{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class sH{constructor(e,t,r=0,i=1/0){this.ray=new sg(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Jf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return AM(e,this,r,t),r.sort(AD),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)AM(e[i],this,r,t);return r.sort(AD),r}}function AD(n,e){return n.distance-e.distance}function AM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)AM(i[s],e,t,!0)}}class EM{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Xie{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const ED=new He;class Jie{constructor(e=new He(1/0,1/0),t=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ED.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ED).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const CD=new $,u_=new $;class Kie{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){CD.subVectors(e,this.start),u_.subVectors(this.end,this.start);const r=u_.dot(u_);let s=u_.dot(CD)/r;return t&&(s=Pr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const TD=new $;class $ie extends wn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new At(i,3));const s=new Yi({fog:!1,toneMapped:!1});this.cone=new Da(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),TD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(TD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gu=new $,d_=new Ht,$E=new Ht;class Yie extends Da{constructor(e){const t=oH(e),r=new nn,i=[],s=[],o=new ut(0,0,1),a=new ut(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(s,3));const l=new Yi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");$E.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(d_.multiplyMatrices($E,a.matrixWorld),gu.setFromMatrixPosition(d_),i.setXYZ(o,gu.x,gu.y,gu.z),d_.multiplyMatrices($E,a.parent.matrixWorld),gu.setFromMatrixPosition(d_),i.setXYZ(o+1,gu.x,gu.y,gu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function oH(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,oH(n.children[t]));return e}class qie extends Si{constructor(e,t,r){const i=new ug(t,4,2),s=new uo({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Qie=new $,MD=new ut,RD=new ut;class Zie extends wn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new cg(t);i.rotateY(Math.PI*.5),this.material=new uo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Tn(o,3)),this.add(new Si(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");MD.copy(this.light.color),RD.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?MD:RD;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Qie.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ese extends Da{constructor(e=10,t=10,r=4473924,i=8947848){r=new ut(r),i=new ut(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let m=0,v=0,y=-a;m<=t;m++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const b=m===s?r:i;b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3}const d=new nn;d.setAttribute("position",new At(l,3)),d.setAttribute("color",new At(c,3));const p=new Yi({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class tse extends Da{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ut(s),o=new ut(o);const a=[],l=[];if(t>1)for(let p=0;p<t;p++){const m=p/t*(Math.PI*2),v=Math.sin(m)*e,y=Math.cos(m)*e;a.push(0,0,0),a.push(v,0,y);const b=p&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let p=0;p<r;p++){const m=p&1?s:o,v=e-e/r*p;for(let y=0;y<i;y++){let b=y/i*(Math.PI*2),w=Math.sin(b)*v,x=Math.cos(b)*v;a.push(w,0,x),l.push(m.r,m.g,m.b),b=(y+1)/i*(Math.PI*2),w=Math.sin(b)*v,x=Math.cos(b)*v,a.push(w,0,x),l.push(m.r,m.g,m.b)}}const c=new nn;c.setAttribute("position",new At(a,3)),c.setAttribute("color",new At(l,3));const d=new Yi({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ID=new $,f_=new $,PD=new $;class nse extends wn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new nn;i.setAttribute("position",new At([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Yi({fog:!1,toneMapped:!1});this.lightPlane=new Ec(i,s),this.add(this.lightPlane),i=new nn,i.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new Ec(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ID.setFromMatrixPosition(this.light.matrixWorld),f_.setFromMatrixPosition(this.light.target.matrixWorld),PD.subVectors(f_,ID),this.lightPlane.lookAt(f_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(f_),this.targetLine.scale.z=PD.length()}}const h_=new $,Cr=new vy;class rse extends Da{constructor(e){const t=new nn,r=new Yi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,b){l(y),l(b)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new At(i,3)),t.setAttribute("color",new At(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ut(16755200),d=new ut(16711680),p=new ut(43775),m=new ut(16777215),v=new ut(3355443);this.setColors(c,d,p,m,v)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),zr("c",t,e,Cr,0,0,-1),zr("t",t,e,Cr,0,0,1),zr("n1",t,e,Cr,-r,-i,-1),zr("n2",t,e,Cr,r,-i,-1),zr("n3",t,e,Cr,-r,i,-1),zr("n4",t,e,Cr,r,i,-1),zr("f1",t,e,Cr,-r,-i,1),zr("f2",t,e,Cr,r,-i,1),zr("f3",t,e,Cr,-r,i,1),zr("f4",t,e,Cr,r,i,1),zr("u1",t,e,Cr,r*.7,i*1.1,-1),zr("u2",t,e,Cr,-r*.7,i*1.1,-1),zr("u3",t,e,Cr,0,i*2,-1),zr("cf1",t,e,Cr,-r,0,1),zr("cf2",t,e,Cr,r,0,1),zr("cf3",t,e,Cr,0,-i,1),zr("cf4",t,e,Cr,0,i,1),zr("cn1",t,e,Cr,-r,0,-1),zr("cn2",t,e,Cr,r,0,-1),zr("cn3",t,e,Cr,0,-i,-1),zr("cn4",t,e,Cr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zr(n,e,t,r,i,s,o){h_.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],h_.x,h_.y,h_.z)}}const p_=new Qo;class ise extends Da{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new nn;s.setIndex(new Tn(r,1)),s.setAttribute("position",new Tn(i,3)),super(s,new Yi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&p_.setFromObject(this.object),p_.isEmpty())return;const t=p_.min,r=p_.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sse extends Da{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new nn;s.setIndex(new Tn(r,1)),s.setAttribute("position",new At(i,3)),super(s,new Yi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ose extends Ec{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new nn;o.setAttribute("position",new At(s,3)),o.computeBoundingSphere(),super(o,new Yi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new nn;l.setAttribute("position",new At(a,3)),l.computeBoundingSphere(),this.add(new Si(l,new uo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const BD=new $;let m_,YE;class ase extends wn{constructor(e=new $(0,0,1),t=new $(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",m_===void 0&&(m_=new nn,m_.setAttribute("position",new At([0,0,0,0,1,0],3)),YE=new Sh(0,.5,1,5,1),YE.translate(0,-.5,0)),this.position.copy(t),this.line=new Ec(m_,new Yi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Si(YE,new uo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{BD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(BD,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class lse extends Da{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new nn;i.setAttribute("position",new At(t,3)),i.setAttribute("color",new At(r,3));const s=new Yi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ut,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cse{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new j0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const A=[];for(let _=0,T=x.length;_<T;_++){const R=x[_],P=new Kf;P.curves=R.curves,A.push(P)}return A}function r(x,A){const _=A.length;let T=!1;for(let R=_-1,P=0;P<_;R=P++){let D=A[R],N=A[P],L=N.x-D.x,M=N.y-D.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(D=A[P],L=-L,N=A[R],M=-M),x.y<D.y||x.y>N.y)continue;if(x.y===D.y){if(x.x===D.x)return!0}else{const U=M*(x.x-D.x)-L*(x.y-D.y);if(U===0)return!0;if(U<0)continue;T=!T}}else{if(x.y!==D.y)continue;if(N.x<=x.x&&x.x<=D.x||D.x<=x.x&&x.x<=N.x)return!0}}return T}const i=ml.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Kf,l.curves=a.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const p=[],m=[];let v=[],y=0,b;m[y]=void 0,v[y]=[];for(let x=0,A=s.length;x<A;x++)a=s[x],b=a.getPoints(),o=i(b),o=e?!o:o,o?(!d&&m[y]&&y++,m[y]={s:new Kf,p:b},m[y].s.curves=a.curves,d&&y++,v[y]=[]):v[y].push({h:a,p:b[0]});if(!m[0])return t(s);if(m.length>1){let x=!1,A=0;for(let _=0,T=m.length;_<T;_++)p[_]=[];for(let _=0,T=m.length;_<T;_++){const R=v[_];for(let P=0;P<R.length;P++){const D=R[P];let N=!0;for(let L=0;L<m.length;L++)r(D.p,m[L].p)&&(_!==L&&A++,N?(N=!1,p[L].push(D)):x=!0);N&&p[_].push(D)}}A>0&&x===!1&&(v=p)}let w;for(let x=0,A=m.length;x<A;x++){l=m[x].s,c.push(l),w=v[x];for(let _=0,T=w.length;_<T;_++)l.holes.push(w[_].h)}return c}}class use extends vd{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class dse extends _y{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class fse extends wy{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class hse extends Sy{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class pse extends Sh{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class mse extends Ay{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class gse extends Ey{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class vse extends Cy{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class yse extends lg{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class xse extends cg{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class bse extends og{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class _se extends Lc{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class wse extends Ty{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class Sse extends My{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Ase extends ug{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class Ese extends Ry{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Cse extends Iy{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Tse extends Py{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Mse extends By{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:py}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=py);const Rse=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:EI,AddEquation:Cf,AddOperation:Pz,AdditiveAnimationBlendMode:TI,AdditiveBlending:GT,AlphaFormat:Hz,AlwaysDepth:Az,AlwaysStencilFunc:i4,AmbientLight:Y4,AmbientLightProbe:Sie,AnimationAction:iH,AnimationClip:Xm,AnimationLoader:fie,AnimationMixer:Hie,AnimationObjectGroup:Uie,AnimationUtils:lie,ArcCurve:E4,ArrayCamera:x4,ArrowHelper:ase,Audio:nH,AudioAnalyser:Rie,AudioContext:lP,AudioListener:Cie,AudioLoader:_ie,AxesHelper:lse,BackSide:fs,BasicDepthPacking:t4,BasicShadowMap:uz,Bone:qS,BooleanKeyframeTrack:Ah,Box2:Jie,Box3:Qo,Box3Helper:sse,BoxBufferGeometry:use,BoxGeometry:vd,BoxHelper:ise,BufferAttribute:Tn,BufferGeometry:nn,BufferGeometryLoader:eH,ByteType:Oz,Cache:fh,Camera:vy,CameraHelper:rse,CanvasTexture:Bre,CapsuleBufferGeometry:dse,CapsuleGeometry:_y,CatmullRomCurve3:C4,CineonToneMapping:kz,CircleBufferGeometry:fse,CircleGeometry:wy,ClampToEdgeWrapping:Li,Clock:cP,Color:ut,ColorKeyframeTrack:nP,ColorManagement:zo,CompressedArrayTexture:Pre,CompressedTexture:XI,CompressedTextureLoader:hie,ConeBufferGeometry:hse,ConeGeometry:Sy,CubeCamera:d4,CubeReflectionMapping:nd,CubeRefractionMapping:rd,CubeTexture:yy,CubeTextureLoader:pie,CubeUVReflectionMapping:ig,CubicBezierCurve:KI,CubicBezierCurve3:T4,CubicInterpolant:V4,CullFaceBack:HT,CullFaceFront:cz,CullFaceFrontBack:Lq,CullFaceNone:lz,Curve:Oa,CurvePath:R4,CustomBlending:dz,CustomToneMapping:Dz,CylinderBufferGeometry:pse,CylinderGeometry:Sh,Cylindrical:Xie,Data3DTexture:LI,DataArrayTexture:XS,DataTexture:Em,DataTextureLoader:mie,DataUtils:HQ,DecrementStencilOp:Gq,DecrementWrapStencilOp:Vq,DefaultLoadingManager:J4,DepthFormat:ju,DepthStencilFormat:oh,DepthTexture:b4,DirectionalLight:aP,DirectionalLightHelper:nse,DiscreteInterpolant:j4,DisplayP3ColorSpace:II,DodecahedronBufferGeometry:mse,DodecahedronGeometry:Ay,DoubleSide:Ea,DstAlphaFactor:yz,DstColorFactor:bz,DynamicCopyUsage:sQ,DynamicDrawUsage:Zq,DynamicReadUsage:nQ,EdgesGeometry:I4,EllipseCurve:ZS,EqualDepth:Cz,EqualStencilFunc:Kq,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:z0,Euler:gy,EventDispatcher:Bc,ExtrudeBufferGeometry:gse,ExtrudeGeometry:Ey,FileLoader:xo,Float16BufferAttribute:JQ,Float32BufferAttribute:At,Float64BufferAttribute:KQ,FloatType:cc,Fog:YS,FogExp2:$S,FramebufferTexture:Ire,FrontSide:xl,Frustum:JS,GLBufferAttribute:jie,GLSL1:aQ,GLSL3:gM,GreaterDepth:Mz,GreaterEqualDepth:Tz,GreaterEqualStencilFunc:Qq,GreaterStencilFunc:Yq,GridHelper:ese,Group:uc,HalfFloatType:Gm,HemisphereLight:$4,HemisphereLightHelper:Zie,HemisphereLightProbe:wie,IcosahedronBufferGeometry:vse,IcosahedronGeometry:Cy,ImageBitmapLoader:tH,ImageLoader:$0,ImageUtils:BI,IncrementStencilOp:Hq,IncrementWrapStencilOp:Wq,InstancedBufferAttribute:lh,InstancedBufferGeometry:Z4,InstancedInterleavedBuffer:Vie,InstancedMesh:WI,Int16BufferAttribute:jQ,Int32BufferAttribute:XQ,Int8BufferAttribute:GQ,IntType:Fz,InterleavedBuffer:xy,InterleavedBufferAttribute:sd,Interpolant:dg,InterpolateDiscrete:Wm,InterpolateLinear:ah,InterpolateSmooth:X_,InvertStencilOp:jq,KeepStencilOp:J_,KeyframeTrack:Na,LOD:A4,LatheBufferGeometry:yse,LatheGeometry:lg,Layers:Jf,LessDepth:Ez,LessEqualDepth:Gw,LessEqualStencilFunc:$q,LessStencilFunc:Jq,Light:yd,LightProbe:n1,Line:Ec,Line3:Kie,LineBasicMaterial:Yi,LineCurve:e1,LineCurve3:M4,LineDashedMaterial:G4,LineLoop:VI,LineSegments:Da,LinearEncoding:RI,LinearFilter:hr,LinearInterpolant:tP,LinearMipMapLinearFilter:Fq,LinearMipMapNearestFilter:Nq,LinearMipmapLinearFilter:bl,LinearMipmapNearestFilter:VS,LinearSRGBColorSpace:Ba,LinearToneMapping:Bz,Loader:gs,LoaderUtils:Ku,LoadingManager:rP,LoopOnce:qz,LoopPingPong:Zz,LoopRepeat:Qz,LuminanceAlphaFormat:Wz,LuminanceFormat:Gz,MOUSE:bf,Material:ai,MaterialLoader:r1,MathUtils:dm,Matrix3:pn,Matrix4:Ht,MaxEquation:XT,Mesh:Si,MeshBasicMaterial:uo,MeshDepthMaterial:NI,MeshDistanceMaterial:FI,MeshLambertMaterial:z4,MeshMatcapMaterial:H4,MeshNormalMaterial:U4,MeshPhongMaterial:N4,MeshPhysicalMaterial:Zo,MeshStandardMaterial:Ly,MeshToonMaterial:F4,MinEquation:jT,MirroredRepeatWrapping:Hm,MixOperation:Iz,MultiplyBlending:VT,MultiplyOperation:my,NearestFilter:Ir,NearestMipMapLinearFilter:Oq,NearestMipMapNearestFilter:Dq,NearestMipmapLinearFilter:Sm,NearestMipmapNearestFilter:H0,NeverDepth:Sz,NeverStencilFunc:Xq,NoBlending:pc,NoColorSpace:Ju,NoToneMapping:Ra,NormalAnimationBlendMode:jS,NormalBlending:Vf,NotEqualDepth:Rz,NotEqualStencilFunc:qq,NumberKeyframeTrack:uh,Object3D:wn,ObjectLoader:xie,ObjectSpaceNormalMap:r4,OctahedronBufferGeometry:xse,OctahedronGeometry:cg,OneFactor:mz,OneMinusDstAlphaFactor:xz,OneMinusDstColorFactor:_z,OneMinusSrcAlphaFactor:AI,OneMinusSrcColorFactor:vz,OrthographicCamera:mc,PCFShadowMap:GS,PCFSoftShadowMap:a0,PMREMGenerator:yM,Path:j0,PerspectiveCamera:Br,Plane:rc,PlaneBufferGeometry:bse,PlaneGeometry:og,PlaneHelper:ose,PointLight:oP,PointLightHelper:qie,Points:jI,PointsMaterial:QS,PolarGridHelper:tse,PolyhedronBufferGeometry:_se,PolyhedronGeometry:Lc,PositionalAudio:Mie,PropertyBinding:_n,PropertyMixer:rH,QuadraticBezierCurve:$I,QuadraticBezierCurve3:YI,Quaternion:Ei,QuaternionKeyframeTrack:od,QuaternionLinearInterpolant:X4,RED_GREEN_RGTC2_Format:pM,RED_RGTC1_Format:Yz,REVISION:py,RGBADepthPacking:n4,RGBAFormat:Ps,RGBAIntegerFormat:Kz,RGBA_ASTC_10x10_Format:uM,RGBA_ASTC_10x5_Format:aM,RGBA_ASTC_10x6_Format:lM,RGBA_ASTC_10x8_Format:cM,RGBA_ASTC_12x10_Format:dM,RGBA_ASTC_12x12_Format:fM,RGBA_ASTC_4x4_Format:ZT,RGBA_ASTC_5x4_Format:eM,RGBA_ASTC_5x5_Format:tM,RGBA_ASTC_6x5_Format:nM,RGBA_ASTC_6x6_Format:rM,RGBA_ASTC_8x5_Format:iM,RGBA_ASTC_8x6_Format:sM,RGBA_ASTC_8x8_Format:oM,RGBA_BPTC_Format:j_,RGBA_ETC2_EAC_Format:QT,RGBA_PVRTC_2BPPV1_Format:YT,RGBA_PVRTC_4BPPV1_Format:$T,RGBA_S3TC_DXT1_Format:G_,RGBA_S3TC_DXT3_Format:W_,RGBA_S3TC_DXT5_Format:V_,RGB_ETC1_Format:$z,RGB_ETC2_Format:qT,RGB_PVRTC_2BPPV1_Format:KT,RGB_PVRTC_4BPPV1_Format:JT,RGB_S3TC_DXT1_Format:H_,RGFormat:Xz,RGIntegerFormat:Jz,RawShaderMaterial:O4,Ray:sg,Raycaster:sH,RectAreaLight:q4,RedFormat:Vz,RedIntegerFormat:jz,ReinhardToneMapping:Lz,RepeatWrapping:id,ReplaceStencilOp:zq,ReverseSubtractEquation:hz,RingBufferGeometry:wse,RingGeometry:Ty,SIGNED_RED_GREEN_RGTC2_Format:mM,SIGNED_RED_RGTC1_Format:hM,SRGBColorSpace:tn,Scene:zI,ShaderChunk:cn,ShaderLib:Sa,ShaderMaterial:_l,ShadowMaterial:D4,Shape:Kf,ShapeBufferGeometry:Sse,ShapeGeometry:My,ShapePath:cse,ShapeUtils:ml,ShortType:Nz,Skeleton:by,SkeletonHelper:Yie,SkinnedMesh:GI,Source:Lf,Sphere:ka,SphereBufferGeometry:Ase,SphereGeometry:ug,Spherical:EM,SphericalHarmonics3:Q4,SplineCurve:qI,SpotLight:sP,SpotLightHelper:$ie,Sprite:S4,SpriteMaterial:HI,SrcAlphaFactor:SI,SrcAlphaSaturateFactor:wz,SrcColorFactor:gz,StaticCopyUsage:iQ,StaticDrawUsage:W0,StaticReadUsage:tQ,StereoCamera:Aie,StreamCopyUsage:oQ,StreamDrawUsage:eQ,StreamReadUsage:rQ,StringKeyframeTrack:Eh,SubtractEquation:fz,SubtractiveBlending:WT,TOUCH:_f,TangentSpaceNormalMap:gd,TetrahedronBufferGeometry:Ese,TetrahedronGeometry:Ry,Texture:gr,TextureLoader:K4,TorusBufferGeometry:Cse,TorusGeometry:Iy,TorusKnotBufferGeometry:Tse,TorusKnotGeometry:Py,Triangle:Rs,TriangleFanDrawMode:Ww,TriangleStripDrawMode:MI,TrianglesDrawMode:e4,TubeBufferGeometry:Mse,TubeGeometry:By,TwoPassDoubleSide:kq,UVMapping:WS,Uint16BufferAttribute:kI,Uint32BufferAttribute:DI,Uint8BufferAttribute:WQ,Uint8ClampedBufferAttribute:VQ,Uniform:fP,UniformsGroup:Wie,UniformsLib:st,UniformsUtils:u4,UnsignedByteType:Ac,UnsignedInt248Type:jf,UnsignedIntType:Bu,UnsignedShort4444Type:Uz,UnsignedShort5551Type:zz,UnsignedShortType:CI,VSMShadowMap:xa,Vector2:He,Vector3:$,Vector4:kn,VectorKeyframeTrack:dh,VideoTexture:Rre,WebGL1Renderer:_4,WebGL3DRenderTarget:IQ,WebGLArrayRenderTarget:RQ,WebGLCubeRenderTarget:f4,WebGLMultipleRenderTargets:PQ,WebGLRenderTarget:La,WebGLRenderer:UI,WebGLUtils:y4,WireframeGeometry:k4,WrapAroundEnding:G0,ZeroCurvatureEnding:Pf,ZeroFactor:pz,ZeroSlopeEnding:Bf,ZeroStencilOp:Uq,_SRGBAFormat:Vw,sRGBEncoding:Xu},Symbol.toStringTag,{value:"Module"}));var aH={exports:{}},Ch={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ch.ConcurrentRoot=1;Ch.ContinuousEventPriority=4;Ch.DefaultEventPriority=16;Ch.DiscreteEventPriority=1;Ch.IdleEventPriority=536870912;Ch.LegacyRoot=0;aH.exports=Ch;var mm=aH.exports;function Ise(n){let e;const t=new Set,r=(c,d)=>{const p=typeof c=="function"?c(e):c;if(p!==e){const m=e;e=d?p:Object.assign({},e,p),t.forEach(v=>v(e,m))}},i=()=>e,s=(c,d=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=d(e);function v(){const y=d(e);if(!p(m,y)){const b=m;c(m=y,b)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,d,p)=>d||p?s(c,d,p):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Pse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),LD=Pse?k.useEffect:k.useLayoutEffect;function Bse(n){const e=typeof n=="function"?Ise(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=k.useReducer(w=>w+1,0),o=e.getState(),a=k.useRef(o),l=k.useRef(r),c=k.useRef(i),d=k.useRef(!1),p=k.useRef();p.current===void 0&&(p.current=r(o));let m,v=!1;(a.current!==o||l.current!==r||c.current!==i||d.current)&&(m=r(o),v=!i(p.current,m)),LD(()=>{v&&(p.current=m),a.current=o,l.current=r,c.current=i,d.current=!1});const y=k.useRef(o);LD(()=>{const w=()=>{try{const A=e.getState(),_=l.current(A);c.current(p.current,_)||(a.current=A,p.current=_,s())}catch{d.current=!0,s()}},x=e.subscribe(w);return e.getState()!==y.current&&w(),x},[]);const b=v?m:p.current;return k.useDebugValue(b),b};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const Lse=n=>typeof n=="object"&&typeof n.then=="function",Df=[];function lH(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function cH(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Df)if(lH(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Df.indexOf(i);s!==-1&&Df.splice(s,1)},promise:(Lse(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Df.push(i),!t)throw i.promise}const kse=(n,e,t)=>cH(n,e,!1,t),Dse=(n,e,t)=>void cH(n,e,!0,t),Ose=n=>{if(n===void 0||n.length===0)Df.splice(0,Df.length);else{const e=Df.find(t=>lH(n,t.keys,t.equal));e&&e.remove()}};var uH={exports:{}},dH={exports:{}},fH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,G){var Y=z.length;z.push(G);e:for(;0<Y;){var le=Y-1>>>1,ge=z[le];if(0<i(ge,G))z[le]=G,z[Y]=ge,Y=le;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],Y=z.pop();if(Y!==G){z[0]=Y;e:for(var le=0,ge=z.length,ie=ge>>>1;le<ie;){var oe=2*(le+1)-1,he=z[oe],pe=oe+1,q=z[pe];if(0>i(he,Y))pe<ge&&0>i(q,he)?(z[le]=q,z[pe]=Y,le=pe):(z[le]=he,z[oe]=Y,le=oe);else if(pe<ge&&0>i(q,Y))z[le]=q,z[pe]=Y,le=pe;else break e}}return G}function i(z,G){var Y=z.sortIndex-G.sortIndex;return Y!==0?Y:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,p=null,m=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=z)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function T(z){if(b=!1,_(z),!y)if(t(l)!==null)y=!0,ee(R);else{var G=t(c);G!==null&&ne(T,G.startTime-z)}}function R(z,G){y=!1,b&&(b=!1,x(N),N=-1),v=!0;var Y=m;try{for(_(G),p=t(l);p!==null&&(!(p.expirationTime>G)||z&&!U());){var le=p.callback;if(typeof le=="function"){p.callback=null,m=p.priorityLevel;var ge=le(p.expirationTime<=G);G=n.unstable_now(),typeof ge=="function"?p.callback=ge:p===t(l)&&r(l),_(G)}else r(l);p=t(l)}if(p!==null)var ie=!0;else{var oe=t(c);oe!==null&&ne(T,oe.startTime-G),ie=!1}return ie}finally{p=null,m=Y,v=!1}}var P=!1,D=null,N=-1,L=5,M=-1;function U(){return!(n.unstable_now()-M<L)}function V(){if(D!==null){var z=n.unstable_now();M=z;var G=!0;try{G=D(!0,z)}finally{G?H():(P=!1,D=null)}}else P=!1}var H;if(typeof A=="function")H=function(){A(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=V,H=function(){K.postMessage(null)}}else H=function(){w(V,0)};function ee(z){D=z,P||(P=!0,H())}function ne(z,G){N=w(function(){z(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,ee(R))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(z){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Y=m;m=G;try{return z()}finally{m=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=m;m=z;try{return G()}finally{m=Y}},n.unstable_scheduleCallback=function(z,G,Y){var le=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,z={id:d++,callback:G,priorityLevel:z,startTime:Y,expirationTime:ge,sortIndex:-1},Y>le?(z.sortIndex=Y,e(c,z),t(l)===null&&z===t(c)&&(b?(x(N),N=-1):b=!0,ne(T,Y-le))):(z.sortIndex=ge,e(l,z),y||v||(y=!0,ee(R))),z},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(z){var G=m;return function(){var Y=m;m=G;try{return z.apply(this,arguments)}finally{m=Y}}}})(fH);dH.exports=fH;var CM=dH.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nse=function(e){var t={},r=k,i=CM,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),R=Symbol.iterator;function P(f){return f===null||typeof f!="object"?null:(f=R&&f[R]||f["@@iterator"],typeof f=="function"?f:null)}function D(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case d:return"Fragment";case c:return"Portal";case m:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case v:return(f._context.displayName||"Context")+".Provider";case b:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return h=f.displayName||null,h!==null?h:D(f.type)||"Memo";case _:h=f._payload,f=f._init;try{return D(f(h))}catch{}}return null}function N(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(h);case 8:return h===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function L(f){var h=f,S=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(S=h.return),f=h.return;while(f)}return h.tag===3?S:null}function M(f){if(L(f)!==f)throw Error(o(188))}function U(f){var h=f.alternate;if(!h){if(h=L(f),h===null)throw Error(o(188));return h!==f?null:f}for(var S=f,C=h;;){var I=S.return;if(I===null)break;var O=I.alternate;if(O===null){if(C=I.return,C!==null){S=C;continue}break}if(I.child===O.child){for(O=I.child;O;){if(O===S)return M(I),f;if(O===C)return M(I),h;O=O.sibling}throw Error(o(188))}if(S.return!==C.return)S=I,C=O;else{for(var re=!1,fe=I.child;fe;){if(fe===S){re=!0,S=I,C=O;break}if(fe===C){re=!0,C=I,S=O;break}fe=fe.sibling}if(!re){for(fe=O.child;fe;){if(fe===S){re=!0,S=O,C=I;break}if(fe===C){re=!0,C=O,S=I;break}fe=fe.sibling}if(!re)throw Error(o(189))}}if(S.alternate!==C)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?f:h}function V(f){return f=U(f),f!==null?H(f):null}function H(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=H(f);if(h!==null)return h;f=f.sibling}return null}function j(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=j(f);if(h!==null)return h}f=f.sibling}return null}var K=Array.isArray,ee=e.getPublicInstance,ne=e.getRootHostContext,z=e.getChildHostContext,G=e.prepareForCommit,Y=e.resetAfterCommit,le=e.createInstance,ge=e.appendInitialChild,ie=e.finalizeInitialChildren,oe=e.prepareUpdate,he=e.shouldSetTextContent,pe=e.createTextInstance,q=e.scheduleTimeout,Ie=e.cancelTimeout,ke=e.noTimeout,xe=e.isPrimaryRenderer,Le=e.supportsMutation,we=e.supportsPersistence,Se=e.supportsHydration,Me=e.getInstanceFromNode,Ke=e.preparePortalMount,Ye=e.getCurrentEventPriority,nt=e.detachDeletedInstance,vt=e.supportsMicrotasks,Je=e.scheduleMicrotask,rt=e.supportsTestSelectors,Ve=e.findFiberRoot,Q=e.getBoundingRect,X=e.getTextContent,ye=e.isHiddenSubtree,ze=e.matchAccessibilityRole,Xe=e.setFocusIfFocusable,qe=e.setupIntersectionObserver,dt=e.appendChild,et=e.appendChildToContainer,Pe=e.commitTextUpdate,ft=e.commitMount,_t=e.commitUpdate,gt=e.insertBefore,it=e.insertInContainerBefore,pt=e.removeChild,ce=e.removeChildFromContainer,Fe=e.resetTextContent,lt=e.hideInstance,ae=e.hideTextInstance,Ee=e.unhideInstance,je=e.unhideTextInstance,tt=e.clearContainer,yt=e.cloneInstance,fn=e.createContainerChildSet,Wt=e.appendChildToContainerChildSet,En=e.finalizeContainerChildren,yr=e.replaceContainerChildren,xn=e.cloneHiddenInstance,er=e.cloneHiddenTextInstance,xr=e.canHydrateInstance,Hs=e.canHydrateTextInstance,kc=e.canHydrateSuspenseInstance,Ut=e.isSuspenseInstancePending,Fn=e.isSuspenseInstanceFallback,Ci=e.registerSuspenseInstanceRetry,Z=e.getNextHydratableSibling,Ae=e.getFirstHydratableChild,Oe=e.getFirstHydratableChildWithinContainer,be=e.getFirstHydratableChildWithinSuspenseInstance,Ue=e.hydrateInstance,Tt=e.hydrateTextInstance,Mt=e.hydrateSuspenseInstance,Nt=e.getNextHydratableInstanceAfterSuspenseInstance,Vt=e.commitHydratedContainer,Qt=e.commitHydratedSuspenseInstance,Zt=e.clearSuspenseBoundary,on=e.clearSuspenseBoundaryFromContainer,Cn=e.shouldDeleteUnhydratedTailInstances,br=e.didNotMatchHydratedContainerTextInstance,qi=e.didNotMatchHydratedTextInstance,Oi;function On(f){if(Oi===void 0)try{throw Error()}catch(S){var h=S.stack.trim().match(/\n( *(at )?)/);Oi=h&&h[1]||""}return`
`+Oi+f}var an=!1;function Tl(f,h){if(!f||an)return"";an=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Qe){var C=Qe}Reflect.construct(f,[],h)}else{try{h.call()}catch(Qe){C=Qe}f.call(h.prototype)}else{try{throw Error()}catch(Qe){C=Qe}f()}}catch(Qe){if(Qe&&C&&typeof Qe.stack=="string"){for(var I=Qe.stack.split(`
`),O=C.stack.split(`
`),re=I.length-1,fe=O.length-1;1<=re&&0<=fe&&I[re]!==O[fe];)fe--;for(;1<=re&&0<=fe;re--,fe--)if(I[re]!==O[fe]){if(re!==1||fe!==1)do if(re--,fe--,0>fe||I[re]!==O[fe]){var Be=`
`+I[re].replace(" at new "," at ");return f.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",f.displayName)),Be}while(1<=re&&0<=fe);break}}}finally{an=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?On(f):""}var or=Object.prototype.hasOwnProperty,vs=[],wo=-1;function Ni(f){return{current:f}}function Mn(f){0>wo||(f.current=vs[wo],vs[wo]=null,wo--)}function jt(f,h){wo++,vs[wo]=f.current,f.current=h}var ui={},ar=Ni(ui),Rn=Ni(!1),ys=ui;function So(f,h){var S=f.type.contextTypes;if(!S)return ui;var C=f.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===h)return C.__reactInternalMemoizedMaskedChildContext;var I={},O;for(O in S)I[O]=h[O];return C&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=I),I}function Zr(f){return f=f.childContextTypes,f!=null}function xd(){Mn(Rn),Mn(ar)}function bd(f,h,S){if(ar.current!==ui)throw Error(o(168));jt(ar,h),jt(Rn,S)}function xg(f,h,S){var C=f.stateNode;if(h=h.childContextTypes,typeof C.getChildContext!="function")return S;C=C.getChildContext();for(var I in C)if(!(I in h))throw Error(o(108,N(f)||"Unknown",I));return s({},S,C)}function Mh(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ui,ys=ar.current,jt(ar,f),jt(Rn,Rn.current),!0}function bg(f,h,S){var C=f.stateNode;if(!C)throw Error(o(169));S?(f=xg(f,h,ys),C.__reactInternalMemoizedMergedChildContext=f,Mn(Rn),Mn(ar),jt(ar,f)):Mn(Rn),jt(Rn,S)}var xs=Math.clz32?Math.clz32:Jy,_g=Math.log,W1=Math.LN2;function Jy(f){return f>>>=0,f===0?32:31-(_g(f)/W1|0)|0}var Dc=64,Oc=4194304;function Ao(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function _d(f,h){var S=f.pendingLanes;if(S===0)return 0;var C=0,I=f.suspendedLanes,O=f.pingedLanes,re=S&268435455;if(re!==0){var fe=re&~I;fe!==0?C=Ao(fe):(O&=re,O!==0&&(C=Ao(O)))}else re=S&~I,re!==0?C=Ao(re):O!==0&&(C=Ao(O));if(C===0)return 0;if(h!==0&&h!==C&&!(h&I)&&(I=C&-C,O=h&-h,I>=O||I===16&&(O&4194240)!==0))return h;if(C&4&&(C|=S&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=C;0<h;)S=31-xs(h),I=1<<S,C|=f[S],h&=~I;return C}function Ky(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V1(f,h){for(var S=f.suspendedLanes,C=f.pingedLanes,I=f.expirationTimes,O=f.pendingLanes;0<O;){var re=31-xs(O),fe=1<<re,Be=I[re];Be===-1?(!(fe&S)||fe&C)&&(I[re]=Ky(fe,h)):Be<=h&&(f.expiredLanes|=fe),O&=~fe}}function Rh(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Ih(f){for(var h=[],S=0;31>S;S++)h.push(f);return h}function Nc(f,h,S){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-xs(h),f[h]=S}function $y(f,h){var S=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var C=f.eventTimes;for(f=f.expirationTimes;0<S;){var I=31-xs(S),O=1<<I;h[I]=0,C[I]=-1,f[I]=-1,S&=~O}}function wg(f,h){var S=f.entangledLanes|=h;for(f=f.entanglements;S;){var C=31-xs(S),I=1<<C;I&h|f[C]&h&&(f[C]|=h),S&=~I}}var bn=0;function Yy(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Ph=i.unstable_scheduleCallback,qy=i.unstable_cancelCallback,j1=i.unstable_shouldYield,X1=i.unstable_requestPaint,Wr=i.unstable_now,wd=i.unstable_ImmediatePriority,J1=i.unstable_UserBlockingPriority,Sg=i.unstable_NormalPriority,K1=i.unstable_IdlePriority,Bh=null,Eo=null;function Un(f){if(Eo&&typeof Eo.onCommitFiberRoot=="function")try{Eo.onCommitFiberRoot(Bh,f,void 0,(f.current.flags&128)===128)}catch{}}function Nn(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Co=typeof Object.is=="function"?Object.is:Nn,na=null,Lh=!1,Ag=!1;function Qy(f){na===null?na=[f]:na.push(f)}function $1(f){Lh=!0,Qy(f)}function Gs(){if(!Ag&&na!==null){Ag=!0;var f=0,h=bn;try{var S=na;for(bn=1;f<S.length;f++){var C=S[f];do C=C(!0);while(C!==null)}na=null,Lh=!1}catch(I){throw na!==null&&(na=na.slice(f+1)),Ph(wd,Gs),I}finally{bn=h,Ag=!1}}return null}var Y1=a.ReactCurrentBatchConfig;function _r(f,h){if(Co(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var S=Object.keys(f),C=Object.keys(h);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var I=S[C];if(!or.call(h,I)||!Co(f[I],h[I]))return!1}return!0}function Eg(f){switch(f.tag){case 5:return On(f.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 2:case 15:return f=Tl(f.type,!1),f;case 11:return f=Tl(f.type.render,!1),f;case 1:return f=Tl(f.type,!0),f;default:return""}}function ei(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var S in f)h[S]===void 0&&(h[S]=f[S]);return h}return h}var Sd=Ni(null),Fc=null,ti=null,kh=null;function Dh(){kh=ti=Fc=null}function Cg(f,h,S){xe?(jt(Sd,h._currentValue),h._currentValue=S):(jt(Sd,h._currentValue2),h._currentValue2=S)}function Oh(f){var h=Sd.current;Mn(Sd),xe?f._currentValue=h:f._currentValue2=h}function Nh(f,h,S){for(;f!==null;){var C=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,C!==null&&(C.childLanes|=h)):C!==null&&(C.childLanes&h)!==h&&(C.childLanes|=h),f===S)break;f=f.return}}function Ml(f,h){Fc=f,kh=ti=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(Zi=!0),f.firstContext=null)}function Yn(f){var h=xe?f._currentValue:f._currentValue2;if(kh!==f)if(f={context:f,memoizedValue:h,next:null},ti===null){if(Fc===null)throw Error(o(308));ti=f,Fc.dependencies={lanes:0,firstContext:f}}else ti=ti.next=f;return h}var To=null,Lr=!1;function Tg(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mg(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function di(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function Ws(f,h){var S=f.updateQueue;S!==null&&(S=S.shared,wr!==null&&f.mode&1&&!(Kt&2)?(f=S.interleaved,f===null?(h.next=h,To===null?To=[S]:To.push(S)):(h.next=f.next,f.next=h),S.interleaved=h):(f=S.pending,f===null?h.next=h:(h.next=f.next,f.next=h),S.pending=h))}function Uc(f,h,S){if(h=h.updateQueue,h!==null&&(h=h.shared,(S&4194240)!==0)){var C=h.lanes;C&=f.pendingLanes,S|=C,h.lanes=S,wg(f,S)}}function zn(f,h){var S=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var I=null,O=null;if(S=S.firstBaseUpdate,S!==null){do{var re={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};O===null?I=O=re:O=O.next=re,S=S.next}while(S!==null);O===null?I=O=h:O=O.next=h}else I=O=h;S={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:O,shared:C.shared,effects:C.effects},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=h:f.next=h,S.lastBaseUpdate=h}function Vs(f,h,S,C){var I=f.updateQueue;Lr=!1;var O=I.firstBaseUpdate,re=I.lastBaseUpdate,fe=I.shared.pending;if(fe!==null){I.shared.pending=null;var Be=fe,Qe=Be.next;Be.next=null,re===null?O=Qe:re.next=Qe,re=Be;var xt=f.alternate;xt!==null&&(xt=xt.updateQueue,fe=xt.lastBaseUpdate,fe!==re&&(fe===null?xt.firstBaseUpdate=Qe:fe.next=Qe,xt.lastBaseUpdate=Be))}if(O!==null){var zt=I.baseState;re=0,xt=Qe=Be=null,fe=O;do{var Ct=fe.lane,Bn=fe.eventTime;if((C&Ct)===Ct){xt!==null&&(xt=xt.next={eventTime:Bn,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var wt=f,xi=fe;switch(Ct=h,Bn=S,xi.tag){case 1:if(wt=xi.payload,typeof wt=="function"){zt=wt.call(Bn,zt,Ct);break e}zt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=xi.payload,Ct=typeof wt=="function"?wt.call(Bn,zt,Ct):wt,Ct==null)break e;zt=s({},zt,Ct);break e;case 2:Lr=!0}}fe.callback!==null&&fe.lane!==0&&(f.flags|=64,Ct=I.effects,Ct===null?I.effects=[fe]:Ct.push(fe))}else Bn={eventTime:Bn,lane:Ct,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},xt===null?(Qe=xt=Bn,Be=zt):xt=xt.next=Bn,re|=Ct;if(fe=fe.next,fe===null){if(fe=I.shared.pending,fe===null)break;Ct=fe,fe=Ct.next,Ct.next=null,I.lastBaseUpdate=Ct,I.shared.pending=null}}while(!0);if(xt===null&&(Be=zt),I.baseState=Be,I.firstBaseUpdate=Qe,I.lastBaseUpdate=xt,h=I.shared.interleaved,h!==null){I=h;do re|=I.lane,I=I.next;while(I!==h)}else O===null&&(I.shared.lanes=0);ou|=re,f.lanes=re,f.memoizedState=zt}}function Fh(f,h,S){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var C=f[h],I=C.callback;if(I!==null){if(C.callback=null,C=S,typeof I!="function")throw Error(o(191,I));I.call(C)}}}var Zy=new r.Component().refs;function Ad(f,h,S,C){h=f.memoizedState,S=S(C,h),S=S==null?h:s({},h,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var Uh={isMounted:function(f){return(f=f._reactInternals)?L(f)===f:!1},enqueueSetState:function(f,h,S){f=f._reactInternals;var C=mi(),I=ko(f),O=di(C,I);O.payload=h,S!=null&&(O.callback=S),Ws(f,O),h=_s(f,I,C),h!==null&&Uc(h,f,I)},enqueueReplaceState:function(f,h,S){f=f._reactInternals;var C=mi(),I=ko(f),O=di(C,I);O.tag=1,O.payload=h,S!=null&&(O.callback=S),Ws(f,O),h=_s(f,I,C),h!==null&&Uc(h,f,I)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var S=mi(),C=ko(f),I=di(S,C);I.tag=2,h!=null&&(I.callback=h),Ws(f,I),h=_s(f,C,S),h!==null&&Uc(h,f,C)}};function ex(f,h,S,C,I,O,re){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,O,re):h.prototype&&h.prototype.isPureReactComponent?!_r(S,C)||!_r(I,O):!0}function tx(f,h,S){var C=!1,I=ui,O=h.contextType;return typeof O=="object"&&O!==null?O=Yn(O):(I=Zr(h)?ys:ar.current,C=h.contextTypes,O=(C=C!=null)?So(f,I):ui),h=new h(S,O),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Uh,f.stateNode=h,h._reactInternals=f,C&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=I,f.__reactInternalMemoizedMaskedChildContext=O),h}function Rg(f,h,S,C){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(S,C),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(S,C),h.state!==f&&Uh.enqueueReplaceState(h,h.state,null)}function zc(f,h,S,C){var I=f.stateNode;I.props=S,I.state=f.memoizedState,I.refs=Zy,Tg(f);var O=h.contextType;typeof O=="object"&&O!==null?I.context=Yn(O):(O=Zr(h)?ys:ar.current,I.context=So(f,O)),I.state=f.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Ad(f,h,O,S),I.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(h=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),h!==I.state&&Uh.enqueueReplaceState(I,I.state,null),Vs(f,S,I,C),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308)}var js=[],Hc=0,Ed=null,Cd=0,Fi=[],Ui=0,za=null,ra=1,Xs="";function ia(f,h){js[Hc++]=Cd,js[Hc++]=Ed,Ed=f,Cd=h}function nx(f,h,S){Fi[Ui++]=ra,Fi[Ui++]=Xs,Fi[Ui++]=za,za=f;var C=ra;f=Xs;var I=32-xs(C)-1;C&=~(1<<I),S+=1;var O=32-xs(h)+I;if(30<O){var re=I-I%5;O=(C&(1<<re)-1).toString(32),C>>=re,I-=re,ra=1<<32-xs(h)+I|S<<I|C,Xs=O+f}else ra=1<<O|S<<I|C,Xs=f}function zh(f){f.return!==null&&(ia(f,1),nx(f,1,0))}function Ti(f){for(;f===Ed;)Ed=js[--Hc],js[Hc]=null,Cd=js[--Hc],js[Hc]=null;for(;f===za;)za=Fi[--Ui],Fi[Ui]=null,Xs=Fi[--Ui],Fi[Ui]=null,ra=Fi[--Ui],Fi[Ui]=null}var Mi=null,ni=null,Hn=!1,Gc=!1,Js=null;function rx(f,h){var S=ws(5,null,null,0);S.elementType="DELETED",S.stateNode=h,S.return=f,h=f.deletions,h===null?(f.deletions=[S],f.flags|=16):h.push(S)}function ix(f,h){switch(f.tag){case 5:return h=xr(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,Mi=f,ni=Ae(h),!0):!1;case 6:return h=Hs(h,f.pendingProps),h!==null?(f.stateNode=h,Mi=f,ni=null,!0):!1;case 13:if(h=kc(h),h!==null){var S=za!==null?{id:ra,overflow:Xs}:null;return f.memoizedState={dehydrated:h,treeContext:S,retryLane:1073741824},S=ws(18,null,null,0),S.stateNode=h,S.return=f,f.child=S,Mi=f,ni=null,!0}return!1;default:return!1}}function Ig(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Pg(f){if(Hn){var h=ni;if(h){var S=h;if(!ix(f,h)){if(Ig(f))throw Error(o(418));h=Z(S);var C=Mi;h&&ix(f,h)?rx(C,S):(f.flags=f.flags&-4097|2,Hn=!1,Mi=f)}}else{if(Ig(f))throw Error(o(418));f.flags=f.flags&-4097|2,Hn=!1,Mi=f}}}function Rl(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Mi=f}function Td(f){if(!Se||f!==Mi)return!1;if(!Hn)return Rl(f),Hn=!0,!1;if(f.tag!==3&&(f.tag!==5||Cn(f.type)&&!he(f.type,f.memoizedProps))){var h=ni;if(h){if(Ig(f)){for(f=ni;f;)f=Z(f);throw Error(o(418))}for(;h;)rx(f,h),h=Z(h)}}if(Rl(f),f.tag===13){if(!Se)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));ni=Nt(f)}else ni=Mi?Z(f.stateNode):null;return!0}function Wc(){Se&&(ni=Mi=null,Gc=Hn=!1)}function Md(f){Js===null?Js=[f]:Js.push(f)}function Vc(f,h,S){if(f=S.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var C=S.stateNode}if(!C)throw Error(o(147,f));var I=C,O=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===O?h.ref:(h=function(re){var fe=I.refs;fe===Zy&&(fe=I.refs={}),re===null?delete fe[O]:fe[O]=re},h._stringRef=O,h)}if(typeof f!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,f))}return f}function Ks(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function Rd(f){var h=f._init;return h(f._payload)}function sx(f){function h(_e,me){if(f){var Te=_e.deletions;Te===null?(_e.deletions=[me],_e.flags|=16):Te.push(me)}}function S(_e,me){if(!f)return null;for(;me!==null;)h(_e,me),me=me.sibling;return null}function C(_e,me){for(_e=new Map;me!==null;)me.key!==null?_e.set(me.key,me):_e.set(me.index,me),me=me.sibling;return _e}function I(_e,me){return _e=ca(_e,me),_e.index=0,_e.sibling=null,_e}function O(_e,me,Te){return _e.index=Te,f?(Te=_e.alternate,Te!==null?(Te=Te.index,Te<me?(_e.flags|=2,me):Te):(_e.flags|=2,me)):(_e.flags|=1048576,me)}function re(_e){return f&&_e.alternate===null&&(_e.flags|=2),_e}function fe(_e,me,Te,ct){return me===null||me.tag!==6?(me=yi(Te,_e.mode,ct),me.return=_e,me):(me=I(me,Te),me.return=_e,me)}function Be(_e,me,Te,ct){var St=Te.type;return St===d?xt(_e,me,Te.props.children,ct,Te.key):me!==null&&(me.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&Rd(St)===me.type)?(ct=I(me,Te.props),ct.ref=Vc(_e,me,Te),ct.return=_e,ct):(ct=op(Te.type,Te.key,Te.props,null,_e.mode,ct),ct.ref=Vc(_e,me,Te),ct.return=_e,ct)}function Qe(_e,me,Te,ct){return me===null||me.tag!==4||me.stateNode.containerInfo!==Te.containerInfo||me.stateNode.implementation!==Te.implementation?(me=Ss(Te,_e.mode,ct),me.return=_e,me):(me=I(me,Te.children||[]),me.return=_e,me)}function xt(_e,me,Te,ct,St){return me===null||me.tag!==7?(me=el(Te,_e.mode,ct,St),me.return=_e,me):(me=I(me,Te),me.return=_e,me)}function zt(_e,me,Te){if(typeof me=="string"&&me!==""||typeof me=="number")return me=yi(""+me,_e.mode,Te),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Te=op(me.type,me.key,me.props,null,_e.mode,Te),Te.ref=Vc(_e,null,me),Te.return=_e,Te;case c:return me=Ss(me,_e.mode,Te),me.return=_e,me;case _:var ct=me._init;return zt(_e,ct(me._payload),Te)}if(K(me)||P(me))return me=el(me,_e.mode,Te,null),me.return=_e,me;Ks(_e,me)}return null}function Ct(_e,me,Te,ct){var St=me!==null?me.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return St!==null?null:fe(_e,me,""+Te,ct);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:return Te.key===St?Be(_e,me,Te,ct):null;case c:return Te.key===St?Qe(_e,me,Te,ct):null;case _:return St=Te._init,Ct(_e,me,St(Te._payload),ct)}if(K(Te)||P(Te))return St!==null?null:xt(_e,me,Te,ct,null);Ks(_e,Te)}return null}function Bn(_e,me,Te,ct,St){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return _e=_e.get(Te)||null,fe(me,_e,""+ct,St);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:return _e=_e.get(ct.key===null?Te:ct.key)||null,Be(me,_e,ct,St);case c:return _e=_e.get(ct.key===null?Te:ct.key)||null,Qe(me,_e,ct,St);case _:var $t=ct._init;return Bn(_e,me,Te,$t(ct._payload),St)}if(K(ct)||P(ct))return _e=_e.get(Te)||null,xt(me,_e,ct,St,null);Ks(me,ct)}return null}function wt(_e,me,Te,ct){for(var St=null,$t=null,Gt=me,Yt=me=0,Ar=null;Gt!==null&&Yt<Te.length;Yt++){Gt.index>Yt?(Ar=Gt,Gt=null):Ar=Gt.sibling;var gn=Ct(_e,Gt,Te[Yt],ct);if(gn===null){Gt===null&&(Gt=Ar);break}f&&Gt&&gn.alternate===null&&h(_e,Gt),me=O(gn,me,Yt),$t===null?St=gn:$t.sibling=gn,$t=gn,Gt=Ar}if(Yt===Te.length)return S(_e,Gt),Hn&&ia(_e,Yt),St;if(Gt===null){for(;Yt<Te.length;Yt++)Gt=zt(_e,Te[Yt],ct),Gt!==null&&(me=O(Gt,me,Yt),$t===null?St=Gt:$t.sibling=Gt,$t=Gt);return Hn&&ia(_e,Yt),St}for(Gt=C(_e,Gt);Yt<Te.length;Yt++)Ar=Bn(Gt,_e,Yt,Te[Yt],ct),Ar!==null&&(f&&Ar.alternate!==null&&Gt.delete(Ar.key===null?Yt:Ar.key),me=O(Ar,me,Yt),$t===null?St=Ar:$t.sibling=Ar,$t=Ar);return f&&Gt.forEach(function(Oo){return h(_e,Oo)}),Hn&&ia(_e,Yt),St}function xi(_e,me,Te,ct){var St=P(Te);if(typeof St!="function")throw Error(o(150));if(Te=St.call(Te),Te==null)throw Error(o(151));for(var $t=St=null,Gt=me,Yt=me=0,Ar=null,gn=Te.next();Gt!==null&&!gn.done;Yt++,gn=Te.next()){Gt.index>Yt?(Ar=Gt,Gt=null):Ar=Gt.sibling;var Oo=Ct(_e,Gt,gn.value,ct);if(Oo===null){Gt===null&&(Gt=Ar);break}f&&Gt&&Oo.alternate===null&&h(_e,Gt),me=O(Oo,me,Yt),$t===null?St=Oo:$t.sibling=Oo,$t=Oo,Gt=Ar}if(gn.done)return S(_e,Gt),Hn&&ia(_e,Yt),St;if(Gt===null){for(;!gn.done;Yt++,gn=Te.next())gn=zt(_e,gn.value,ct),gn!==null&&(me=O(gn,me,Yt),$t===null?St=gn:$t.sibling=gn,$t=gn);return Hn&&ia(_e,Yt),St}for(Gt=C(_e,Gt);!gn.done;Yt++,gn=Te.next())gn=Bn(Gt,_e,Yt,gn.value,ct),gn!==null&&(f&&gn.alternate!==null&&Gt.delete(gn.key===null?Yt:gn.key),me=O(gn,me,Yt),$t===null?St=gn:$t.sibling=gn,$t=gn);return f&&Gt.forEach(function(lp){return h(_e,lp)}),Hn&&ia(_e,Yt),St}function is(_e,me,Te,ct){if(typeof Te=="object"&&Te!==null&&Te.type===d&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:e:{for(var St=Te.key,$t=me;$t!==null;){if($t.key===St){if(St=Te.type,St===d){if($t.tag===7){S(_e,$t.sibling),me=I($t,Te.props.children),me.return=_e,_e=me;break e}}else if($t.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&Rd(St)===$t.type){S(_e,$t.sibling),me=I($t,Te.props),me.ref=Vc(_e,$t,Te),me.return=_e,_e=me;break e}S(_e,$t);break}else h(_e,$t);$t=$t.sibling}Te.type===d?(me=el(Te.props.children,_e.mode,ct,Te.key),me.return=_e,_e=me):(ct=op(Te.type,Te.key,Te.props,null,_e.mode,ct),ct.ref=Vc(_e,me,Te),ct.return=_e,_e=ct)}return re(_e);case c:e:{for($t=Te.key;me!==null;){if(me.key===$t)if(me.tag===4&&me.stateNode.containerInfo===Te.containerInfo&&me.stateNode.implementation===Te.implementation){S(_e,me.sibling),me=I(me,Te.children||[]),me.return=_e,_e=me;break e}else{S(_e,me);break}else h(_e,me);me=me.sibling}me=Ss(Te,_e.mode,ct),me.return=_e,_e=me}return re(_e);case _:return $t=Te._init,is(_e,me,$t(Te._payload),ct)}if(K(Te))return wt(_e,me,Te,ct);if(P(Te))return xi(_e,me,Te,ct);Ks(_e,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,me!==null&&me.tag===6?(S(_e,me.sibling),me=I(me,Te),me.return=_e,_e=me):(S(_e,me),me=yi(Te,_e.mode,ct),me.return=_e,_e=me),re(_e)):S(_e,me)}return is}var jc=sx(!0),ox=sx(!1),Mo={},rr=Ni(Mo),Xc=Ni(Mo),Jc=Ni(Mo);function Ro(f){if(f===Mo)throw Error(o(174));return f}function Bg(f,h){jt(Jc,h),jt(Xc,f),jt(rr,Mo),f=ne(h),Mn(rr),jt(rr,f)}function Kc(){Mn(rr),Mn(Xc),Mn(Jc)}function ax(f){var h=Ro(Jc.current),S=Ro(rr.current);h=z(S,f.type,h),S!==h&&(jt(Xc,f),jt(rr,h))}function Ha(f){Xc.current===f&&(Mn(rr),Mn(Xc))}var de=Ni(0);function De(f){for(var h=f;h!==null;){if(h.tag===13){var S=h.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ut(S)||Fn(S)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Ce=[];function ht(){for(var f=0;f<Ce.length;f++){var h=Ce[f];xe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Ce.length=0}var Ot=a.ReactCurrentDispatcher,Xt=a.ReactCurrentBatchConfig,qn=0,Lt=null,Vr=null,jr=null,Ri=!1,Ga=!1,Id=0,$c=0;function kr(){throw Error(o(321))}function Yc(f,h){if(h===null)return!1;for(var S=0;S<h.length&&S<f.length;S++)if(!Co(f[S],h[S]))return!1;return!0}function Sn(f,h,S,C,I,O){if(qn=O,Lt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ot.current=f===null||f.memoizedState===null?Fd:Ug,f=S(C,I),Ga){O=0;do{if(Ga=!1,Id=0,25<=O)throw Error(o(301));O+=1,jr=Vr=null,h.updateQueue=null,Ot.current=Zc,f=S(C,I)}while(Ga)}if(Ot.current=Qc,h=Vr!==null&&Vr.next!==null,qn=0,jr=Vr=Lt=null,Ri=!1,h)throw Error(o(300));return f}function Lg(){var f=Id!==0;return Id=0,f}function Io(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?Lt.memoizedState=jr=f:jr=jr.next=f,jr}function Qi(){if(Vr===null){var f=Lt.alternate;f=f!==null?f.memoizedState:null}else f=Vr.next;var h=jr===null?Lt.memoizedState:jr.next;if(h!==null)jr=h,Vr=f;else{if(f===null)throw Error(o(310));Vr=f,f={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},jr===null?Lt.memoizedState=jr=f:jr=jr.next=f}return jr}function Il(f,h){return typeof h=="function"?h(f):h}function Hh(f){var h=Qi(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=f;var C=Vr,I=C.baseQueue,O=S.pending;if(O!==null){if(I!==null){var re=I.next;I.next=O.next,O.next=re}C.baseQueue=I=O,S.pending=null}if(I!==null){O=I.next,C=C.baseState;var fe=re=null,Be=null,Qe=O;do{var xt=Qe.lane;if((qn&xt)===xt)Be!==null&&(Be=Be.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),C=Qe.hasEagerState?Qe.eagerState:f(C,Qe.action);else{var zt={lane:xt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Be===null?(fe=Be=zt,re=C):Be=Be.next=zt,Lt.lanes|=xt,ou|=xt}Qe=Qe.next}while(Qe!==null&&Qe!==O);Be===null?re=C:Be.next=fe,Co(C,h.memoizedState)||(Zi=!0),h.memoizedState=C,h.baseState=re,h.baseQueue=Be,S.lastRenderedState=C}if(f=S.interleaved,f!==null){I=f;do O=I.lane,Lt.lanes|=O,ou|=O,I=I.next;while(I!==f)}else I===null&&(S.lanes=0);return[h.memoizedState,S.dispatch]}function Gh(f){var h=Qi(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=f;var C=S.dispatch,I=S.pending,O=h.memoizedState;if(I!==null){S.pending=null;var re=I=I.next;do O=f(O,re.action),re=re.next;while(re!==I);Co(O,h.memoizedState)||(Zi=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),S.lastRenderedState=O}return[O,C]}function Pd(){}function sa(f,h){var S=Lt,C=Qi(),I=h(),O=!Co(C.memoizedState,I);if(O&&(C.memoizedState=I,Zi=!0),C=C.queue,kd(Ld.bind(null,S,C,f),[f]),C.getSnapshot!==h||O||jr!==null&&jr.memoizedState.tag&1){if(S.flags|=2048,Wa(9,kg.bind(null,S,C,I,h),void 0,null),wr===null)throw Error(o(349));qn&30||Bd(S,h,I)}return I}function Bd(f,h,S){f.flags|=16384,f={getSnapshot:h,value:S},h=Lt.updateQueue,h===null?(h={lastEffect:null,stores:null},Lt.updateQueue=h,h.stores=[f]):(S=h.stores,S===null?h.stores=[f]:S.push(f))}function kg(f,h,S,C){h.value=S,h.getSnapshot=C,Dg(h)&&_s(f,1,-1)}function Ld(f,h,S){return S(function(){Dg(h)&&_s(f,1,-1)})}function Dg(f){var h=f.getSnapshot;f=f.value;try{var S=h();return!Co(f,S)}catch{return!0}}function Wh(f){var h=Io();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:f},h.queue=f,f=f.dispatch=fi.bind(null,Lt,f),[h.memoizedState,f]}function Wa(f,h,S,C){return f={tag:f,create:h,destroy:S,deps:C,next:null},h=Lt.updateQueue,h===null?(h={lastEffect:null,stores:null},Lt.updateQueue=h,h.lastEffect=f.next=f):(S=h.lastEffect,S===null?h.lastEffect=f.next=f:(C=S.next,S.next=f,f.next=C,h.lastEffect=f)),f}function Og(){return Qi().memoizedState}function Va(f,h,S,C){var I=Io();Lt.flags|=f,I.memoizedState=Wa(1|h,S,void 0,C===void 0?null:C)}function Po(f,h,S,C){var I=Qi();C=C===void 0?null:C;var O=void 0;if(Vr!==null){var re=Vr.memoizedState;if(O=re.destroy,C!==null&&Yc(C,re.deps)){I.memoizedState=Wa(h,S,O,C);return}}Lt.flags|=f,I.memoizedState=Wa(1|h,S,O,C)}function qc(f,h){return Va(8390656,8,f,h)}function kd(f,h){return Po(2048,8,f,h)}function lx(f,h){return Po(4,2,f,h)}function cx(f,h){return Po(4,4,f,h)}function Dd(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function Od(f,h,S){return S=S!=null?S.concat([f]):null,Po(4,4,Dd.bind(null,h,f),S)}function Nd(){}function ux(f,h){var S=Qi();h=h===void 0?null:h;var C=S.memoizedState;return C!==null&&h!==null&&Yc(h,C[1])?C[0]:(S.memoizedState=[f,h],f)}function Ng(f,h){var S=Qi();h=h===void 0?null:h;var C=S.memoizedState;return C!==null&&h!==null&&Yc(h,C[1])?C[0]:(f=f(),S.memoizedState=[f,h],f)}function q1(f,h){var S=bn;bn=S!==0&&4>S?S:4,f(!0);var C=Xt.transition;Xt.transition={};try{f(!1),h()}finally{bn=S,Xt.transition=C}}function dx(){return Qi().memoizedState}function Dr(f,h,S){var C=ko(f);S={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null},fx(f)?hx(h,S):(Fg(f,h,S),S=mi(),f=_s(f,C,S),f!==null&&px(f,h,C))}function fi(f,h,S){var C=ko(f),I={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null};if(fx(f))hx(h,I);else{Fg(f,h,I);var O=f.alternate;if(f.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var re=h.lastRenderedState,fe=O(re,S);if(I.hasEagerState=!0,I.eagerState=fe,Co(fe,re))return}catch{}finally{}S=mi(),f=_s(f,C,S),f!==null&&px(f,h,C)}}function fx(f){var h=f.alternate;return f===Lt||h!==null&&h===Lt}function hx(f,h){Ga=Ri=!0;var S=f.pending;S===null?h.next=h:(h.next=S.next,S.next=h),f.pending=h}function Fg(f,h,S){wr!==null&&f.mode&1&&!(Kt&2)?(f=h.interleaved,f===null?(S.next=S,To===null?To=[h]:To.push(h)):(S.next=f.next,f.next=S),h.interleaved=S):(f=h.pending,f===null?S.next=S:(S.next=f.next,f.next=S),h.pending=S)}function px(f,h,S){if(S&4194240){var C=h.lanes;C&=f.pendingLanes,S|=C,h.lanes=S,wg(f,S)}}var Qc={readContext:Yn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},Fd={readContext:Yn,useCallback:function(f,h){return Io().memoizedState=[f,h===void 0?null:h],f},useContext:Yn,useEffect:qc,useImperativeHandle:function(f,h,S){return S=S!=null?S.concat([f]):null,Va(4194308,4,Dd.bind(null,h,f),S)},useLayoutEffect:function(f,h){return Va(4194308,4,f,h)},useInsertionEffect:function(f,h){return Va(4,2,f,h)},useMemo:function(f,h){var S=Io();return h=h===void 0?null:h,f=f(),S.memoizedState=[f,h],f},useReducer:function(f,h,S){var C=Io();return h=S!==void 0?S(h):h,C.memoizedState=C.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},C.queue=f,f=f.dispatch=Dr.bind(null,Lt,f),[C.memoizedState,f]},useRef:function(f){var h=Io();return f={current:f},h.memoizedState=f},useState:Wh,useDebugValue:Nd,useDeferredValue:function(f){var h=Wh(f),S=h[0],C=h[1];return qc(function(){var I=Xt.transition;Xt.transition={};try{C(f)}finally{Xt.transition=I}},[f]),S},useTransition:function(){var f=Wh(!1),h=f[0];return f=q1.bind(null,f[1]),Io().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,S){var C=Lt,I=Io();if(Hn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=h(),wr===null)throw Error(o(349));qn&30||Bd(C,h,S)}I.memoizedState=S;var O={value:S,getSnapshot:h};return I.queue=O,qc(Ld.bind(null,C,O,f),[f]),C.flags|=2048,Wa(9,kg.bind(null,C,O,S,h),void 0,null),S},useId:function(){var f=Io(),h=wr.identifierPrefix;if(Hn){var S=Xs,C=ra;S=(C&~(1<<32-xs(C)-1)).toString(32)+S,h=":"+h+"R"+S,S=Id++,0<S&&(h+="H"+S.toString(32)),h+=":"}else S=$c++,h=":"+h+"r"+S.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},Ug={readContext:Yn,useCallback:ux,useContext:Yn,useEffect:kd,useImperativeHandle:Od,useInsertionEffect:lx,useLayoutEffect:cx,useMemo:Ng,useReducer:Hh,useRef:Og,useState:function(){return Hh(Il)},useDebugValue:Nd,useDeferredValue:function(f){var h=Hh(Il),S=h[0],C=h[1];return kd(function(){var I=Xt.transition;Xt.transition={};try{C(f)}finally{Xt.transition=I}},[f]),S},useTransition:function(){var f=Hh(Il)[0],h=Qi().memoizedState;return[f,h]},useMutableSource:Pd,useSyncExternalStore:sa,useId:dx,unstable_isNewReconciler:!1},Zc={readContext:Yn,useCallback:ux,useContext:Yn,useEffect:kd,useImperativeHandle:Od,useInsertionEffect:lx,useLayoutEffect:cx,useMemo:Ng,useReducer:Gh,useRef:Og,useState:function(){return Gh(Il)},useDebugValue:Nd,useDeferredValue:function(f){var h=Gh(Il),S=h[0],C=h[1];return kd(function(){var I=Xt.transition;Xt.transition={};try{C(f)}finally{Xt.transition=I}},[f]),S},useTransition:function(){var f=Gh(Il)[0],h=Qi().memoizedState;return[f,h]},useMutableSource:Pd,useSyncExternalStore:sa,useId:dx,unstable_isNewReconciler:!1};function Pl(f,h){try{var S="",C=h;do S+=Eg(C),C=C.return;while(C);var I=S}catch(O){I=`
Error generating stack: `+O.message+`
`+O.stack}return{value:f,source:h,stack:I}}function Bl(f,h){try{console.error(h.value)}catch(S){setTimeout(function(){throw S})}}var Vh=typeof WeakMap=="function"?WeakMap:Map;function Ll(f,h,S){S=di(-1,S),S.tag=3,S.payload={element:null};var C=h.value;return S.callback=function(){Xd||(Xd=!0,Qh=C),Bl(f,h)},S}function mx(f,h,S){S=di(-1,S),S.tag=3;var C=f.type.getDerivedStateFromError;if(typeof C=="function"){var I=h.value;S.payload=function(){return C(I)},S.callback=function(){Bl(f,h)}}var O=f.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(S.callback=function(){Bl(f,h),typeof C!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var re=h.stack;this.componentDidCatch(h.value,{componentStack:re!==null?re:""})}),S}function gx(f,h,S){var C=f.pingCache;if(C===null){C=f.pingCache=new Vh;var I=new Set;C.set(h,I)}else I=C.get(h),I===void 0&&(I=new Set,C.set(h,I));I.has(S)||(I.add(S),f=Qa.bind(null,f,h,S),h.then(f,f))}function vx(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function yx(f,h,S,C,I){return f.mode&1?(f.flags|=65536,f.lanes=I,f):(f===h?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(h=di(-1,1),h.tag=2,Ws(S,h))),S.lanes|=1),f)}function Bo(f){f.flags|=4}function Ud(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var oa,eu,W,aa;if(Le)oa=function(f,h){for(var S=h.child;S!==null;){if(S.tag===5||S.tag===6)ge(f,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},eu=function(){},W=function(f,h,S,C,I){if(f=f.memoizedProps,f!==C){var O=h.stateNode,re=Ro(rr.current);S=oe(O,S,f,C,I,re),(h.updateQueue=S)&&Bo(h)}},aa=function(f,h,S,C){S!==C&&Bo(h)};else if(we){oa=function(f,h,S,C){for(var I=h.child;I!==null;){if(I.tag===5){var O=I.stateNode;S&&C&&(O=xn(O,I.type,I.memoizedProps,I)),ge(f,O)}else if(I.tag===6)O=I.stateNode,S&&C&&(O=er(O,I.memoizedProps,I)),ge(f,O);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)O=I.child,O!==null&&(O.return=I),oa(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var zd=function(f,h,S,C){for(var I=h.child;I!==null;){if(I.tag===5){var O=I.stateNode;S&&C&&(O=xn(O,I.type,I.memoizedProps,I)),Wt(f,O)}else if(I.tag===6)O=I.stateNode,S&&C&&(O=er(O,I.memoizedProps,I)),Wt(f,O);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)O=I.child,O!==null&&(O.return=I),zd(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};eu=function(f,h){var S=h.stateNode;if(!Ud(f,h)){f=S.containerInfo;var C=fn(f);zd(C,h,!1,!1),S.pendingChildren=C,Bo(h),En(f,C)}},W=function(f,h,S,C,I){var O=f.stateNode,re=f.memoizedProps;if((f=Ud(f,h))&&re===C)h.stateNode=O;else{var fe=h.stateNode,Be=Ro(rr.current),Qe=null;re!==C&&(Qe=oe(fe,S,re,C,I,Be)),f&&Qe===null?h.stateNode=O:(O=yt(O,Qe,S,re,C,h,f,fe),ie(O,S,C,I,Be)&&Bo(h),h.stateNode=O,f?Bo(h):oa(O,h,!1,!1))}},aa=function(f,h,S,C){S!==C?(f=Ro(Jc.current),S=Ro(rr.current),h.stateNode=pe(C,f,S,h),Bo(h)):h.stateNode=f.stateNode}}else eu=function(){},W=function(){},aa=function(){};function hi(f,h){if(!Hn)switch(f.tailMode){case"hidden":h=f.tail;for(var S=null;h!==null;)h.alternate!==null&&(S=h),h=h.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function It(f){var h=f.alternate!==null&&f.alternate.child===f.child,S=0,C=0;if(h)for(var I=f.child;I!==null;)S|=I.lanes|I.childLanes,C|=I.subtreeFlags&14680064,C|=I.flags&14680064,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)S|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=C,f.childLanes=S,h}function Q1(f,h,S){var C=h.pendingProps;switch(Ti(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(h),null;case 1:return Zr(h.type)&&xd(),It(h),null;case 3:return C=h.stateNode,Kc(),Mn(Rn),Mn(ar),ht(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(f===null||f.child===null)&&(Td(h)?Bo(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Js!==null&&(Fl(Js),Js=null))),eu(f,h),It(h),null;case 5:Ha(h),S=Ro(Jc.current);var I=h.type;if(f!==null&&h.stateNode!=null)W(f,h,I,C,S),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!C){if(h.stateNode===null)throw Error(o(166));return It(h),null}if(f=Ro(rr.current),Td(h)){if(!Se)throw Error(o(175));f=Ue(h.stateNode,h.type,h.memoizedProps,S,f,h,!Gc),h.updateQueue=f,f!==null&&Bo(h)}else{var O=le(I,C,S,f,h);oa(O,h,!1,!1),h.stateNode=O,ie(O,I,C,S,f)&&Bo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return It(h),null;case 6:if(f&&h.stateNode!=null)aa(f,h,f.memoizedProps,C);else{if(typeof C!="string"&&h.stateNode===null)throw Error(o(166));if(f=Ro(Jc.current),S=Ro(rr.current),Td(h)){if(!Se)throw Error(o(176));if(f=h.stateNode,C=h.memoizedProps,(S=Tt(f,C,h,!Gc))&&(I=Mi,I!==null))switch(O=(I.mode&1)!==0,I.tag){case 3:br(I.stateNode.containerInfo,f,C,O);break;case 5:qi(I.type,I.memoizedProps,I.stateNode,f,C,O)}S&&Bo(h)}else h.stateNode=pe(C,f,S,h)}return It(h),null;case 13:if(Mn(de),C=h.memoizedState,Hn&&ni!==null&&h.mode&1&&!(h.flags&128)){for(f=ni;f;)f=Z(f);return Wc(),h.flags|=98560,h}if(C!==null&&C.dehydrated!==null){if(C=Td(h),f===null){if(!C)throw Error(o(318));if(!Se)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Mt(f,h)}else Wc(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return It(h),null}return Js!==null&&(Fl(Js),Js=null),h.flags&128?(h.lanes=S,h):(C=C!==null,S=!1,f===null?Td(h):S=f.memoizedState!==null,C&&!S&&(h.child.flags|=8192,h.mode&1&&(f===null||de.current&1?ur===0&&(ur=3):rp())),h.updateQueue!==null&&(h.flags|=4),It(h),null);case 4:return Kc(),eu(f,h),f===null&&Ke(h.stateNode.containerInfo),It(h),null;case 10:return Oh(h.type._context),It(h),null;case 17:return Zr(h.type)&&xd(),It(h),null;case 19:if(Mn(de),I=h.memoizedState,I===null)return It(h),null;if(C=(h.flags&128)!==0,O=I.rendering,O===null)if(C)hi(I,!1);else{if(ur!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(O=De(f),O!==null){for(h.flags|=128,hi(I,!1),f=O.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=S,C=h.child;C!==null;)S=C,I=f,S.flags&=14680066,O=S.alternate,O===null?(S.childLanes=0,S.lanes=I,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type,I=O.dependencies,S.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),C=C.sibling;return jt(de,de.current&1|2),h.child}f=f.sibling}I.tail!==null&&Wr()>jd&&(h.flags|=128,C=!0,hi(I,!1),h.lanes=4194304)}else{if(!C)if(f=De(O),f!==null){if(h.flags|=128,C=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),hi(I,!0),I.tail===null&&I.tailMode==="hidden"&&!O.alternate&&!Hn)return It(h),null}else 2*Wr()-I.renderingStartTime>jd&&S!==1073741824&&(h.flags|=128,C=!0,hi(I,!1),h.lanes=4194304);I.isBackwards?(O.sibling=h.child,h.child=O):(f=I.last,f!==null?f.sibling=O:h.child=O,I.last=O)}return I.tail!==null?(h=I.tail,I.rendering=h,I.tail=h.sibling,I.renderingStartTime=Wr(),h.sibling=null,f=de.current,jt(de,C?f&1|2:f&1),h):(It(h),null);case 22:case 23:return tv(),C=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==C&&(h.flags|=8192),C&&h.mode&1?ns&1073741824&&(It(h),Le&&h.subtreeFlags&6&&(h.flags|=8192)):It(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var Z1=a.ReactCurrentOwner,Zi=!1;function lr(f,h,S,C){h.child=f===null?ox(h,null,S,C):jc(h,f.child,S,C)}function xx(f,h,S,C,I){S=S.render;var O=h.ref;return Ml(h,I),C=Sn(f,h,S,C,O,I),S=Lg(),f!==null&&!Zi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~I,Or(f,h,I)):(Hn&&S&&zh(h),h.flags|=1,lr(f,h,C,I),h.child)}function bx(f,h,S,C,I){if(f===null){var O=S.type;return typeof O=="function"&&!av(O)&&O.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(h.tag=15,h.type=O,_x(f,h,O,C,I)):(f=op(S.type,null,C,h,h.mode,I),f.ref=h.ref,f.return=h,h.child=f)}if(O=f.child,!(f.lanes&I)){var re=O.memoizedProps;if(S=S.compare,S=S!==null?S:_r,S(re,C)&&f.ref===h.ref)return Or(f,h,I)}return h.flags|=1,f=ca(O,C),f.ref=h.ref,f.return=h,h.child=f}function _x(f,h,S,C,I){if(f!==null&&_r(f.memoizedProps,C)&&f.ref===h.ref)if(Zi=!1,(f.lanes&I)!==0)f.flags&131072&&(Zi=!0);else return h.lanes=f.lanes,Or(f,h,I);return $s(f,h,S,C,I)}function wx(f,h,S){var C=h.pendingProps,I=C.children,O=f!==null?f.memoizedState:null;if(C.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},jt(iu,ns),ns|=S;else if(S&1073741824)h.memoizedState={baseLanes:0,cachePool:null},C=O!==null?O.baseLanes:S,jt(iu,ns),ns|=C;else return f=O!==null?O.baseLanes|S:S,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,jt(iu,ns),ns|=f,null;else O!==null?(C=O.baseLanes|S,h.memoizedState=null):C=S,jt(iu,ns),ns|=C;return lr(f,h,I,S),h.child}function Sx(f,h){var S=h.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(h.flags|=512,h.flags|=2097152)}function $s(f,h,S,C,I){var O=Zr(S)?ys:ar.current;return O=So(h,O),Ml(h,I),S=Sn(f,h,S,C,O,I),C=Lg(),f!==null&&!Zi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~I,Or(f,h,I)):(Hn&&C&&zh(h),h.flags|=1,lr(f,h,S,I),h.child)}function Ax(f,h,S,C,I){if(Zr(S)){var O=!0;Mh(h)}else O=!1;if(Ml(h,I),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),tx(h,S,C),zc(h,S,C,I),C=!0;else if(f===null){var re=h.stateNode,fe=h.memoizedProps;re.props=fe;var Be=re.context,Qe=S.contextType;typeof Qe=="object"&&Qe!==null?Qe=Yn(Qe):(Qe=Zr(S)?ys:ar.current,Qe=So(h,Qe));var xt=S.getDerivedStateFromProps,zt=typeof xt=="function"||typeof re.getSnapshotBeforeUpdate=="function";zt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(fe!==C||Be!==Qe)&&Rg(h,re,C,Qe),Lr=!1;var Ct=h.memoizedState;re.state=Ct,Vs(h,C,re,I),Be=h.memoizedState,fe!==C||Ct!==Be||Rn.current||Lr?(typeof xt=="function"&&(Ad(h,S,xt,C),Be=h.memoizedState),(fe=Lr||ex(h,S,fe,C,Ct,Be,Qe))?(zt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(h.flags|=4194308)):(typeof re.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=C,h.memoizedState=Be),re.props=C,re.state=Be,re.context=Qe,C=fe):(typeof re.componentDidMount=="function"&&(h.flags|=4194308),C=!1)}else{re=h.stateNode,Mg(f,h),fe=h.memoizedProps,Qe=h.type===h.elementType?fe:ei(h.type,fe),re.props=Qe,zt=h.pendingProps,Ct=re.context,Be=S.contextType,typeof Be=="object"&&Be!==null?Be=Yn(Be):(Be=Zr(S)?ys:ar.current,Be=So(h,Be));var Bn=S.getDerivedStateFromProps;(xt=typeof Bn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(fe!==zt||Ct!==Be)&&Rg(h,re,C,Be),Lr=!1,Ct=h.memoizedState,re.state=Ct,Vs(h,C,re,I);var wt=h.memoizedState;fe!==zt||Ct!==wt||Rn.current||Lr?(typeof Bn=="function"&&(Ad(h,S,Bn,C),wt=h.memoizedState),(Qe=Lr||ex(h,S,Qe,C,Ct,wt,Be)||!1)?(xt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(C,wt,Be),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(C,wt,Be)),typeof re.componentDidUpdate=="function"&&(h.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof re.componentDidUpdate!="function"||fe===f.memoizedProps&&Ct===f.memoizedState||(h.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&Ct===f.memoizedState||(h.flags|=1024),h.memoizedProps=C,h.memoizedState=wt),re.props=C,re.state=wt,re.context=Be,C=Qe):(typeof re.componentDidUpdate!="function"||fe===f.memoizedProps&&Ct===f.memoizedState||(h.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&Ct===f.memoizedState||(h.flags|=1024),C=!1)}return zg(f,h,S,C,O,I)}function zg(f,h,S,C,I,O){Sx(f,h);var re=(h.flags&128)!==0;if(!C&&!re)return I&&bg(h,S,!1),Or(f,h,O);C=h.stateNode,Z1.current=h;var fe=re&&typeof S.getDerivedStateFromError!="function"?null:C.render();return h.flags|=1,f!==null&&re?(h.child=jc(h,f.child,null,O),h.child=jc(h,null,fe,O)):lr(f,h,fe,O),h.memoizedState=C.state,I&&bg(h,S,!0),h.child}function Ex(f){var h=f.stateNode;h.pendingContext?bd(f,h.pendingContext,h.pendingContext!==h.context):h.context&&bd(f,h.context,!1),Bg(f,h.containerInfo)}function Cx(f,h,S,C,I){return Wc(),Md(I),h.flags|=256,lr(f,h,S,C),h.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function bs(f){return{baseLanes:f,cachePool:null}}function Tx(f,h,S){var C=h.pendingProps,I=de.current,O=!1,re=(h.flags&128)!==0,fe;if((fe=re)||(fe=f!==null&&f.memoizedState===null?!1:(I&2)!==0),fe?(O=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(I|=1),jt(de,I&1),f===null)return Pg(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?Fn(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(I=C.children,f=C.fallback,O?(C=h.mode,O=h.child,I={mode:"hidden",children:I},!(C&1)&&O!==null?(O.childLanes=0,O.pendingProps=I):O=Yd(I,C,0,null),f=el(f,C,S,null),O.return=h,f.return=h,O.sibling=f,h.child=O,h.child.memoizedState=bs(S),h.memoizedState=jh,f):Hg(h,I));if(I=f.memoizedState,I!==null){if(fe=I.dehydrated,fe!==null){if(re)return h.flags&256?(h.flags&=-257,Xh(f,h,S,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(O=C.fallback,I=h.mode,C=Yd({mode:"visible",children:C.children},I,0,null),O=el(O,I,S,null),O.flags|=2,C.return=h,O.return=h,C.sibling=O,h.child=C,h.mode&1&&jc(h,f.child,null,S),h.child.memoizedState=bs(S),h.memoizedState=jh,O);if(!(h.mode&1))h=Xh(f,h,S,null);else if(Fn(fe))h=Xh(f,h,S,Error(o(419)));else if(C=(S&f.childLanes)!==0,Zi||C){if(C=wr,C!==null){switch(S&-S){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}C=O&(C.suspendedLanes|S)?0:O,C!==0&&C!==I.retryLane&&(I.retryLane=C,_s(f,C,-1))}rp(),h=Xh(f,h,S,Error(o(421)))}else Ut(fe)?(h.flags|=128,h.child=f.child,h=Za.bind(null,f),Ci(fe,h),h=null):(S=I.treeContext,Se&&(ni=be(fe),Mi=h,Hn=!0,Js=null,Gc=!1,S!==null&&(Fi[Ui++]=ra,Fi[Ui++]=Xs,Fi[Ui++]=za,ra=S.id,Xs=S.overflow,za=h)),h=Hg(h,h.pendingProps.children),h.flags|=4096);return h}return O?(C=Rx(f,h,C.children,C.fallback,S),O=h.child,I=f.child.memoizedState,O.memoizedState=I===null?bs(S):{baseLanes:I.baseLanes|S,cachePool:null},O.childLanes=f.childLanes&~S,h.memoizedState=jh,C):(S=Mx(f,h,C.children,S),h.memoizedState=null,S)}return O?(C=Rx(f,h,C.children,C.fallback,S),O=h.child,I=f.child.memoizedState,O.memoizedState=I===null?bs(S):{baseLanes:I.baseLanes|S,cachePool:null},O.childLanes=f.childLanes&~S,h.memoizedState=jh,C):(S=Mx(f,h,C.children,S),h.memoizedState=null,S)}function Hg(f,h){return h=Yd({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function Mx(f,h,S,C){var I=f.child;return f=I.sibling,S=ca(I,{mode:"visible",children:S}),!(h.mode&1)&&(S.lanes=C),S.return=h,S.sibling=null,f!==null&&(C=h.deletions,C===null?(h.deletions=[f],h.flags|=16):C.push(f)),h.child=S}function Rx(f,h,S,C,I){var O=h.mode;f=f.child;var re=f.sibling,fe={mode:"hidden",children:S};return!(O&1)&&h.child!==f?(S=h.child,S.childLanes=0,S.pendingProps=fe,h.deletions=null):(S=ca(f,fe),S.subtreeFlags=f.subtreeFlags&14680064),re!==null?C=ca(re,C):(C=el(C,O,I,null),C.flags|=2),C.return=h,S.return=h,S.sibling=C,h.child=S,C}function Xh(f,h,S,C){return C!==null&&Md(C),jc(h,f.child,null,S),f=Hg(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function ja(f,h,S){f.lanes|=h;var C=f.alternate;C!==null&&(C.lanes|=h),Nh(f.return,h,S)}function Gg(f,h,S,C,I){var O=f.memoizedState;O===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:I}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=C,O.tail=S,O.tailMode=I)}function Ix(f,h,S){var C=h.pendingProps,I=C.revealOrder,O=C.tail;if(lr(f,h,C.children,S),C=de.current,C&2)C=C&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&ja(f,S,h);else if(f.tag===19)ja(f,S,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}if(jt(de,C),!(h.mode&1))h.memoizedState=null;else switch(I){case"forwards":for(S=h.child,I=null;S!==null;)f=S.alternate,f!==null&&De(f)===null&&(I=S),S=S.sibling;S=I,S===null?(I=h.child,h.child=null):(I=S.sibling,S.sibling=null),Gg(h,!1,I,S,O);break;case"backwards":for(S=null,I=h.child,h.child=null;I!==null;){if(f=I.alternate,f!==null&&De(f)===null){h.child=I;break}f=I.sibling,I.sibling=S,S=I,I=f}Gg(h,!0,S,null,O);break;case"together":Gg(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Or(f,h,S){if(f!==null&&(h.dependencies=f.dependencies),ou|=h.lanes,!(S&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,S=ca(f,f.pendingProps),h.child=S,S.return=h;f.sibling!==null;)f=f.sibling,S=S.sibling=ca(f,f.pendingProps),S.return=h;S.sibling=null}return h.child}function eA(f,h,S){switch(h.tag){case 3:Ex(h),Wc();break;case 5:ax(h);break;case 1:Zr(h.type)&&Mh(h);break;case 4:Bg(h,h.stateNode.containerInfo);break;case 10:Cg(h,h.type._context,h.memoizedProps.value);break;case 13:var C=h.memoizedState;if(C!==null)return C.dehydrated!==null?(jt(de,de.current&1),h.flags|=128,null):S&h.child.childLanes?Tx(f,h,S):(jt(de,de.current&1),f=Or(f,h,S),f!==null?f.sibling:null);jt(de,de.current&1);break;case 19:if(C=(S&h.childLanes)!==0,f.flags&128){if(C)return Ix(f,h,S);h.flags|=128}var I=h.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),jt(de,de.current),C)break;return null;case 22:case 23:return h.lanes=0,wx(f,h,S)}return Or(f,h,S)}function tA(f,h){switch(Ti(h),h.tag){case 1:return Zr(h.type)&&xd(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Kc(),Mn(Rn),Mn(ar),ht(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return Ha(h),null;case 13:if(Mn(de),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Wc()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Mn(de),null;case 4:return Kc(),null;case 10:return Oh(h.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var Jh=!1,kl=!1,nA=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Hd(f,h){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(C){vi(f,h,C)}else S.current=null}function Wg(f,h,S){try{S()}catch(C){vi(f,h,C)}}var Px=!1;function Vg(f,h){for(G(f.containerInfo),ot=h;ot!==null;)if(f=ot,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,ot=h;else for(;ot!==null;){f=ot;try{var S=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,I=S.memoizedState,O=f.stateNode,re=O.getSnapshotBeforeUpdate(f.elementType===f.type?C:ei(f.type,C),I);O.__reactInternalSnapshotBeforeUpdate=re}break;case 3:Le&&tt(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(fe){vi(f,f.return,fe)}if(h=f.sibling,h!==null){h.return=f.return,ot=h;break}ot=f.return}return S=Px,Px=!1,S}function Ys(f,h,S){var C=h.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var I=C=C.next;do{if((I.tag&f)===f){var O=I.destroy;I.destroy=void 0,O!==void 0&&Wg(h,S,O)}I=I.next}while(I!==C)}}function Xa(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var S=h=h.next;do{if((S.tag&f)===f){var C=S.create;S.destroy=C()}S=S.next}while(S!==h)}}function jg(f){var h=f.ref;if(h!==null){var S=f.stateNode;switch(f.tag){case 5:f=ee(S);break;default:f=S}typeof h=="function"?h(f):h.current=f}}function Xg(f,h,S){if(Eo&&typeof Eo.onCommitFiberUnmount=="function")try{Eo.onCommitFiberUnmount(Bh,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var C=f=f.next;do{var I=C,O=I.destroy;I=I.tag,O!==void 0&&(I&2||I&4)&&Wg(h,S,O),C=C.next}while(C!==f)}break;case 1:if(Hd(h,S),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(re){vi(h,S,re)}break;case 5:Hd(h,S);break;case 4:Le?Kg(f,h,S):we&&we&&(h=h.stateNode.containerInfo,S=fn(h),yr(h,S))}}function Bx(f,h,S){for(var C=h;;)if(Xg(f,C,S),C.child===null||Le&&C.tag===4){if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function Lo(f){var h=f.alternate;h!==null&&(f.alternate=null,Lo(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&nt(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Kh(f){return f.tag===5||f.tag===3||f.tag===4}function Ja(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Kh(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function es(f){if(Le){e:{for(var h=f.return;h!==null;){if(Kh(h))break e;h=h.return}throw Error(o(160))}var S=h;switch(S.tag){case 5:h=S.stateNode,S.flags&32&&(Fe(h),S.flags&=-33),S=Ja(f),$h(f,S,h);break;case 3:case 4:h=S.stateNode.containerInfo,S=Ja(f),Jg(f,S,h);break;default:throw Error(o(161))}}}function Jg(f,h,S){var C=f.tag;if(C===5||C===6)f=f.stateNode,h?it(S,f,h):et(S,f);else if(C!==4&&(f=f.child,f!==null))for(Jg(f,h,S),f=f.sibling;f!==null;)Jg(f,h,S),f=f.sibling}function $h(f,h,S){var C=f.tag;if(C===5||C===6)f=f.stateNode,h?gt(S,f,h):dt(S,f);else if(C!==4&&(f=f.child,f!==null))for($h(f,h,S),f=f.sibling;f!==null;)$h(f,h,S),f=f.sibling}function Kg(f,h,S){for(var C=h,I=!1,O,re;;){if(!I){I=C.return;e:for(;;){if(I===null)throw Error(o(160));switch(O=I.stateNode,I.tag){case 5:re=!1;break e;case 3:O=O.containerInfo,re=!0;break e;case 4:O=O.containerInfo,re=!0;break e}I=I.return}I=!0}if(C.tag===5||C.tag===6)Bx(f,C,S),re?ce(O,C.stateNode):pt(O,C.stateNode);else if(C.tag===18)re?on(O,C.stateNode):Zt(O,C.stateNode);else if(C.tag===4){if(C.child!==null){O=C.stateNode.containerInfo,re=!0,C.child.return=C,C=C.child;continue}}else if(Xg(f,C,S),C.child!==null){C.child.return=C,C=C.child;continue}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return,C.tag===4&&(I=!1)}C.sibling.return=C.return,C=C.sibling}}function Dl(f,h){if(Le){switch(h.tag){case 0:case 11:case 14:case 15:Ys(3,h,h.return),Xa(3,h),Ys(5,h,h.return);return;case 1:return;case 5:var S=h.stateNode;if(S!=null){var C=h.memoizedProps;f=f!==null?f.memoizedProps:C;var I=h.type,O=h.updateQueue;h.updateQueue=null,O!==null&&_t(S,O,I,f,C,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));S=h.memoizedProps,Pe(h.stateNode,f!==null?f.memoizedProps:S,S);return;case 3:Se&&f!==null&&f.memoizedState.isDehydrated&&Vt(h.stateNode.containerInfo);return;case 12:return;case 13:qs(h);return;case 19:qs(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Ys(3,h,h.return),Xa(3,h),Ys(5,h,h.return);return;case 12:return;case 13:qs(h);return;case 19:qs(h);return;case 3:Se&&f!==null&&f.memoizedState.isDehydrated&&Vt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(we){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,yr(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function qs(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new nA),h.forEach(function(C){var I=zx.bind(null,f,C);S.has(C)||(S.add(C),C.then(I,I))})}}function Lx(f,h){for(ot=h;ot!==null;){h=ot;var S=h.deletions;if(S!==null)for(var C=0;C<S.length;C++){var I=S[C];try{var O=f;Le?Kg(O,I,h):Bx(O,I,h);var re=I.alternate;re!==null&&(re.return=null),I.return=null}catch(St){vi(I,h,St)}}if(S=h.child,h.subtreeFlags&12854&&S!==null)S.return=h,ot=S;else for(;ot!==null;){h=ot;try{var fe=h.flags;if(fe&32&&Le&&Fe(h.stateNode),fe&512){var Be=h.alternate;if(Be!==null){var Qe=Be.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(fe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var xt=h.alternate;(xt===null||xt.memoizedState===null)&&(Zg=Wr())}break;case 22:var zt=h.memoizedState!==null,Ct=h.alternate,Bn=Ct!==null&&Ct.memoizedState!==null;if(S=h,Le){e:if(C=S,I=zt,O=null,Le)for(var wt=C;;){if(wt.tag===5){if(O===null){O=wt;var xi=wt.stateNode;I?lt(xi):Ee(wt.stateNode,wt.memoizedProps)}}else if(wt.tag===6){if(O===null){var is=wt.stateNode;I?ae(is):je(is,wt.memoizedProps)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===C)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===C)break;for(;wt.sibling===null;){if(wt.return===null||wt.return===C)break e;O===wt&&(O=null),wt=wt.return}O===wt&&(O=null),wt.sibling.return=wt.return,wt=wt.sibling}}if(zt&&!Bn&&S.mode&1){ot=S;for(var _e=S.child;_e!==null;){for(S=ot=_e;ot!==null;){C=ot;var me=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Ys(4,C,C.return);break;case 1:Hd(C,C.return);var Te=C.stateNode;if(typeof Te.componentWillUnmount=="function"){var ct=C.return;try{Te.props=C.memoizedProps,Te.state=C.memoizedState,Te.componentWillUnmount()}catch(St){vi(C,ct,St)}}break;case 5:Hd(C,C.return);break;case 22:if(C.memoizedState!==null){$g(S);continue}}me!==null?(me.return=C,ot=me):$g(S)}_e=_e.sibling}}}switch(fe&4102){case 2:es(h),h.flags&=-3;break;case 6:es(h),h.flags&=-3,Dl(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Dl(h.alternate,h);break;case 4:Dl(h.alternate,h)}}catch(St){vi(h,h.return,St)}if(S=h.sibling,S!==null){S.return=h.return,ot=S;break}ot=h.return}}}function rA(f,h,S){ot=f,Gd(f)}function Gd(f,h,S){for(var C=(f.mode&1)!==0;ot!==null;){var I=ot,O=I.child;if(I.tag===22&&C){var re=I.memoizedState!==null||Jh;if(!re){var fe=I.alternate,Be=fe!==null&&fe.memoizedState!==null||kl;fe=Jh;var Qe=kl;if(Jh=re,(kl=Be)&&!Qe)for(ot=I;ot!==null;)re=ot,Be=re.child,re.tag===22&&re.memoizedState!==null?Xr(I):Be!==null?(Be.return=re,ot=Be):Xr(I);for(;O!==null;)ot=O,Gd(O),O=O.sibling;ot=I,Jh=fe,kl=Qe}kx(f)}else I.subtreeFlags&8772&&O!==null?(O.return=I,ot=O):kx(f)}}function kx(f){for(;ot!==null;){var h=ot;if(h.flags&8772){var S=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:kl||Xa(5,h);break;case 1:var C=h.stateNode;if(h.flags&4&&!kl)if(S===null)C.componentDidMount();else{var I=h.elementType===h.type?S.memoizedProps:ei(h.type,S.memoizedProps);C.componentDidUpdate(I,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var O=h.updateQueue;O!==null&&Fh(h,O,C);break;case 3:var re=h.updateQueue;if(re!==null){if(S=null,h.child!==null)switch(h.child.tag){case 5:S=ee(h.child.stateNode);break;case 1:S=h.child.stateNode}Fh(h,re,S)}break;case 5:var fe=h.stateNode;S===null&&h.flags&4&&ft(fe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Se&&h.memoizedState===null){var Be=h.alternate;if(Be!==null){var Qe=Be.memoizedState;if(Qe!==null){var xt=Qe.dehydrated;xt!==null&&Qt(xt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}kl||h.flags&512&&jg(h)}catch(zt){vi(h,h.return,zt)}}if(h===f){ot=null;break}if(S=h.sibling,S!==null){S.return=h.return,ot=S;break}ot=h.return}}function $g(f){for(;ot!==null;){var h=ot;if(h===f){ot=null;break}var S=h.sibling;if(S!==null){S.return=h.return,ot=S;break}ot=h.return}}function Xr(f){for(;ot!==null;){var h=ot;try{switch(h.tag){case 0:case 11:case 15:var S=h.return;try{Xa(4,h)}catch(Be){vi(h,S,Be)}break;case 1:var C=h.stateNode;if(typeof C.componentDidMount=="function"){var I=h.return;try{C.componentDidMount()}catch(Be){vi(h,I,Be)}}var O=h.return;try{jg(h)}catch(Be){vi(h,O,Be)}break;case 5:var re=h.return;try{jg(h)}catch(Be){vi(h,re,Be)}}}catch(Be){vi(h,h.return,Be)}if(h===f){ot=null;break}var fe=h.sibling;if(fe!==null){fe.return=h.return,ot=fe;break}ot=h.return}}var tu=0,Wd=1,ts=2,nu=3,Ol=4;if(typeof Symbol=="function"&&Symbol.for){var Qs=Symbol.for;tu=Qs("selector.component"),Wd=Qs("selector.has_pseudo_class"),ts=Qs("selector.role"),nu=Qs("selector.test_id"),Ol=Qs("selector.text")}function Yh(f){var h=Me(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=Ve(f),f===null)throw Error(o(362));return f.stateNode.current}function ri(f,h){switch(h.$$typeof){case tu:if(f.type===h.value)return!0;break;case Wd:e:{h=h.value,f=[f,0];for(var S=0;S<f.length;){var C=f[S++],I=f[S++],O=h[I];if(C.tag!==5||!ye(C)){for(;O!=null&&ri(C,O);)I++,O=h[I];if(I===h.length){h=!0;break e}else for(C=C.child;C!==null;)f.push(C,I),C=C.sibling}}h=!1}return h;case ts:if(f.tag===5&&ze(f.stateNode,h.value))return!0;break;case Ol:if((f.tag===5||f.tag===6)&&(f=X(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case nu:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Vd(f){switch(f.$$typeof){case tu:return"<"+(D(f.value)||"Unknown")+">";case Wd:return":has("+(Vd(f)||"")+")";case ts:return'[role="'+f.value+'"]';case Ol:return'"'+f.value+'"';case nu:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function Dx(f,h){var S=[];f=[f,0];for(var C=0;C<f.length;){var I=f[C++],O=f[C++],re=h[O];if(I.tag!==5||!ye(I)){for(;re!=null&&ri(I,re);)O++,re=h[O];if(O===h.length)S.push(I);else for(I=I.child;I!==null;)f.push(I,O),I=I.sibling}}return S}function Yg(f,h){if(!rt)throw Error(o(363));f=Yh(f),f=Dx(f,h),h=[],f=Array.from(f);for(var S=0;S<f.length;){var C=f[S++];if(C.tag===5)ye(C)||h.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return h}var iA=Math.ceil,ru=a.ReactCurrentDispatcher,qg=a.ReactCurrentOwner,Gn=a.ReactCurrentBatchConfig,Kt=0,wr=null,Sr=null,cr=0,ns=0,iu=Ni(0),ur=0,su=null,ou=0,qh=0,Qg=0,au=null,pi=null,Zg=0,jd=1/0;function Nl(){jd=Wr()+500}var Xd=!1,Qh=null,Zs=null,Zh=!1,la=null,Jd=0,Kd=0,ep=null,tp=-1,lu=0;function mi(){return Kt&6?Wr():tp!==-1?tp:tp=Wr()}function ko(f){return f.mode&1?Kt&2&&cr!==0?cr&-cr:Y1.transition!==null?(lu===0&&(f=Dc,Dc<<=1,!(Dc&4194240)&&(Dc=64),lu=f),lu):(f=bn,f!==0?f:Ye()):1}function _s(f,h,S){if(50<Kd)throw Kd=0,ep=null,Error(o(185));var C=cu(f,h);return C===null?null:(Nc(C,h,S),(!(Kt&2)||C!==wr)&&(C===wr&&(!(Kt&2)&&(qh|=h),ur===4&&Ka(C,cr)),Rt(C,S),h===1&&Kt===0&&!(f.mode&1)&&(Nl(),Lh&&Gs())),C)}function cu(f,h){f.lanes|=h;var S=f.alternate;for(S!==null&&(S.lanes|=h),S=f,f=f.return;f!==null;)f.childLanes|=h,S=f.alternate,S!==null&&(S.childLanes|=h),S=f,f=f.return;return S.tag===3?S.stateNode:null}function Rt(f,h){var S=f.callbackNode;V1(f,h);var C=_d(f,f===wr?cr:0);if(C===0)S!==null&&qy(S),f.callbackNode=null,f.callbackPriority=0;else if(h=C&-C,f.callbackPriority!==h){if(S!=null&&qy(S),h===1)f.tag===0?$1(Fx.bind(null,f)):Qy(Fx.bind(null,f)),vt?Je(function(){Kt===0&&Gs()}):Ph(wd,Gs),S=null;else{switch(Yy(C)){case 1:S=wd;break;case 4:S=J1;break;case 16:S=Sg;break;case 536870912:S=K1;break;default:S=Sg}S=sp(S,Ox.bind(null,f))}f.callbackPriority=h,f.callbackNode=S}}function Ox(f,h){if(tp=-1,lu=0,Kt&6)throw Error(o(327));var S=f.callbackNode;if(qa()&&f.callbackNode!==S)return null;var C=_d(f,f===wr?cr:0);if(C===0)return null;if(C&30||C&f.expiredLanes||h)h=gi(f,C);else{h=C;var I=Kt;Kt|=2;var O=nv();(wr!==f||cr!==h)&&(Nl(),Do(f,h));do try{rv();break}catch(fe){np(f,fe)}while(!0);Dh(),ru.current=O,Kt=I,Sr!==null?h=0:(wr=null,cr=0,h=ur)}if(h!==0){if(h===2&&(I=Rh(f),I!==0&&(C=I,h=ev(f,I))),h===1)throw S=su,Do(f,0),Ka(f,C),Rt(f,Wr()),S;if(h===6)Ka(f,C);else{if(I=f.current.alternate,!(C&30)&&!Nx(I)&&(h=gi(f,C),h===2&&(O=Rh(f),O!==0&&(C=O,h=ev(f,O))),h===1))throw S=su,Do(f,0),Ka(f,C),Rt(f,Wr()),S;switch(f.finishedWork=I,f.finishedLanes=C,h){case 0:case 1:throw Error(o(345));case 2:Ya(f,pi);break;case 3:if(Ka(f,C),(C&130023424)===C&&(h=Zg+500-Wr(),10<h)){if(_d(f,0)!==0)break;if(I=f.suspendedLanes,(I&C)!==C){mi(),f.pingedLanes|=f.suspendedLanes&I;break}f.timeoutHandle=q(Ya.bind(null,f,pi),h);break}Ya(f,pi);break;case 4:if(Ka(f,C),(C&4194240)===C)break;for(h=f.eventTimes,I=-1;0<C;){var re=31-xs(C);O=1<<re,re=h[re],re>I&&(I=re),C&=~O}if(C=I,C=Wr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*iA(C/1960))-C,10<C){f.timeoutHandle=q(Ya.bind(null,f,pi),C);break}Ya(f,pi);break;case 5:Ya(f,pi);break;default:throw Error(o(329))}}}return Rt(f,Wr()),f.callbackNode===S?Ox.bind(null,f):null}function ev(f,h){var S=au;return f.current.memoizedState.isDehydrated&&(Do(f,h).flags|=256),f=gi(f,h),f!==2&&(h=pi,pi=S,h!==null&&Fl(h)),f}function Fl(f){pi===null?pi=f:pi.push.apply(pi,f)}function Nx(f){for(var h=f;;){if(h.flags&16384){var S=h.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var C=0;C<S.length;C++){var I=S[C],O=I.getSnapshot;I=I.value;try{if(!Co(O(),I))return!1}catch{return!1}}}if(S=h.child,h.subtreeFlags&16384&&S!==null)S.return=h,h=S;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ka(f,h){for(h&=~Qg,h&=~qh,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var S=31-xs(h),C=1<<S;f[S]=-1,h&=~C}}function Fx(f){if(Kt&6)throw Error(o(327));qa();var h=_d(f,0);if(!(h&1))return Rt(f,Wr()),null;var S=gi(f,h);if(f.tag!==0&&S===2){var C=Rh(f);C!==0&&(h=C,S=ev(f,C))}if(S===1)throw S=su,Do(f,0),Ka(f,h),Rt(f,Wr()),S;if(S===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,Ya(f,pi),Rt(f,Wr()),null}function rs(f){la!==null&&la.tag===0&&!(Kt&6)&&qa();var h=Kt;Kt|=1;var S=Gn.transition,C=bn;try{if(Gn.transition=null,bn=1,f)return f()}finally{bn=C,Gn.transition=S,Kt=h,!(Kt&6)&&Gs()}}function tv(){ns=iu.current,Mn(iu)}function Do(f,h){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==ke&&(f.timeoutHandle=ke,Ie(S)),Sr!==null)for(S=Sr.return;S!==null;){var C=S;switch(Ti(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&xd();break;case 3:Kc(),Mn(Rn),Mn(ar),ht();break;case 5:Ha(C);break;case 4:Kc();break;case 13:Mn(de);break;case 19:Mn(de);break;case 10:Oh(C.type._context);break;case 22:case 23:tv()}S=S.return}if(wr=f,Sr=f=ca(f.current,null),cr=ns=h,ur=0,su=null,Qg=qh=ou=0,pi=au=null,To!==null){for(h=0;h<To.length;h++)if(S=To[h],C=S.interleaved,C!==null){S.interleaved=null;var I=C.next,O=S.pending;if(O!==null){var re=O.next;O.next=I,C.next=re}S.pending=C}To=null}return f}function np(f,h){do{var S=Sr;try{if(Dh(),Ot.current=Qc,Ri){for(var C=Lt.memoizedState;C!==null;){var I=C.queue;I!==null&&(I.pending=null),C=C.next}Ri=!1}if(qn=0,jr=Vr=Lt=null,Ga=!1,Id=0,qg.current=null,S===null||S.return===null){ur=1,su=h,Sr=null;break}e:{var O=f,re=S.return,fe=S,Be=h;if(h=cr,fe.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Qe=Be,xt=fe,zt=xt.tag;if(!(xt.mode&1)&&(zt===0||zt===11||zt===15)){var Ct=xt.alternate;Ct?(xt.updateQueue=Ct.updateQueue,xt.memoizedState=Ct.memoizedState,xt.lanes=Ct.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Bn=vx(re);if(Bn!==null){Bn.flags&=-257,yx(Bn,re,fe,O,h),Bn.mode&1&&gx(O,Qe,h),h=Bn,Be=Qe;var wt=h.updateQueue;if(wt===null){var xi=new Set;xi.add(Be),h.updateQueue=xi}else wt.add(Be);break e}else{if(!(h&1)){gx(O,Qe,h),rp();break e}Be=Error(o(426))}}else if(Hn&&fe.mode&1){var is=vx(re);if(is!==null){!(is.flags&65536)&&(is.flags|=256),yx(is,re,fe,O,h),Md(Be);break e}}O=Be,ur!==4&&(ur=2),au===null?au=[O]:au.push(O),Be=Pl(Be,fe),fe=re;do{switch(fe.tag){case 3:fe.flags|=65536,h&=-h,fe.lanes|=h;var _e=Ll(fe,Be,h);zn(fe,_e);break e;case 1:O=Be;var me=fe.type,Te=fe.stateNode;if(!(fe.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(Zs===null||!Zs.has(Te)))){fe.flags|=65536,h&=-h,fe.lanes|=h;var ct=mx(fe,O,h);zn(fe,ct);break e}}fe=fe.return}while(fe!==null)}$d(S)}catch(St){h=St,Sr===S&&S!==null&&(Sr=S=S.return);continue}break}while(!0)}function nv(){var f=ru.current;return ru.current=Qc,f===null?Qc:f}function rp(){(ur===0||ur===3||ur===2)&&(ur=4),wr===null||!(ou&268435455)&&!(qh&268435455)||Ka(wr,cr)}function gi(f,h){var S=Kt;Kt|=2;var C=nv();wr===f&&cr===h||Do(f,h);do try{$a();break}catch(I){np(f,I)}while(!0);if(Dh(),Kt=S,ru.current=C,Sr!==null)throw Error(o(261));return wr=null,cr=0,ur}function $a(){for(;Sr!==null;)iv(Sr)}function rv(){for(;Sr!==null&&!j1();)iv(Sr)}function iv(f){var h=ov(f.alternate,f,ns);f.memoizedProps=f.pendingProps,h===null?$d(f):Sr=h,qg.current=null}function $d(f){var h=f;do{var S=h.alternate;if(f=h.return,h.flags&32768){if(S=tA(S,h),S!==null){S.flags&=32767,Sr=S;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{ur=6,Sr=null;return}}else if(S=Q1(S,h,ns),S!==null){Sr=S;return}if(h=h.sibling,h!==null){Sr=h;return}Sr=h=f}while(h!==null);ur===0&&(ur=5)}function Ya(f,h){var S=bn,C=Gn.transition;try{Gn.transition=null,bn=1,sv(f,h,S)}finally{Gn.transition=C,bn=S}return null}function sv(f,h,S){do qa();while(la!==null);if(Kt&6)throw Error(o(327));var C=f.finishedWork,I=f.finishedLanes;if(C===null)return null;if(f.finishedWork=null,f.finishedLanes=0,C===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var O=C.lanes|C.childLanes;if($y(f,O),f===wr&&(Sr=wr=null,cr=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||Zh||(Zh=!0,sp(Sg,function(){return qa(),null})),O=(C.flags&15990)!==0,C.subtreeFlags&15990||O){O=Gn.transition,Gn.transition=null;var re=bn;bn=1;var fe=Kt;Kt|=4,qg.current=null,Vg(f,C),Lx(f,C),Y(f.containerInfo),f.current=C,rA(C),X1(),Kt=fe,bn=re,Gn.transition=O}else f.current=C;if(Zh&&(Zh=!1,la=f,Jd=I),O=f.pendingLanes,O===0&&(Zs=null),Un(C.stateNode),Rt(f,Wr()),h!==null)for(S=f.onRecoverableError,C=0;C<h.length;C++)S(h[C]);if(Xd)throw Xd=!1,f=Qh,Qh=null,f;return Jd&1&&f.tag!==0&&qa(),O=f.pendingLanes,O&1?f===ep?Kd++:(Kd=0,ep=f):Kd=0,Gs(),null}function qa(){if(la!==null){var f=Yy(Jd),h=Gn.transition,S=bn;try{if(Gn.transition=null,bn=16>f?16:f,la===null)var C=!1;else{if(f=la,la=null,Jd=0,Kt&6)throw Error(o(331));var I=Kt;for(Kt|=4,ot=f.current;ot!==null;){var O=ot,re=O.child;if(ot.flags&16){var fe=O.deletions;if(fe!==null){for(var Be=0;Be<fe.length;Be++){var Qe=fe[Be];for(ot=Qe;ot!==null;){var xt=ot;switch(xt.tag){case 0:case 11:case 15:Ys(8,xt,O)}var zt=xt.child;if(zt!==null)zt.return=xt,ot=zt;else for(;ot!==null;){xt=ot;var Ct=xt.sibling,Bn=xt.return;if(Lo(xt),xt===Qe){ot=null;break}if(Ct!==null){Ct.return=Bn,ot=Ct;break}ot=Bn}}}var wt=O.alternate;if(wt!==null){var xi=wt.child;if(xi!==null){wt.child=null;do{var is=xi.sibling;xi.sibling=null,xi=is}while(xi!==null)}}ot=O}}if(O.subtreeFlags&2064&&re!==null)re.return=O,ot=re;else e:for(;ot!==null;){if(O=ot,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Ys(9,O,O.return)}var _e=O.sibling;if(_e!==null){_e.return=O.return,ot=_e;break e}ot=O.return}}var me=f.current;for(ot=me;ot!==null;){re=ot;var Te=re.child;if(re.subtreeFlags&2064&&Te!==null)Te.return=re,ot=Te;else e:for(re=me;ot!==null;){if(fe=ot,fe.flags&2048)try{switch(fe.tag){case 0:case 11:case 15:Xa(9,fe)}}catch(St){vi(fe,fe.return,St)}if(fe===re){ot=null;break e}var ct=fe.sibling;if(ct!==null){ct.return=fe.return,ot=ct;break e}ot=fe.return}}if(Kt=I,Gs(),Eo&&typeof Eo.onPostCommitFiberRoot=="function")try{Eo.onPostCommitFiberRoot(Bh,f)}catch{}C=!0}return C}finally{bn=S,Gn.transition=h}}return!1}function ip(f,h,S){h=Pl(S,h),h=Ll(f,h,1),Ws(f,h),h=mi(),f=cu(f,1),f!==null&&(Nc(f,1,h),Rt(f,h))}function vi(f,h,S){if(f.tag===3)ip(f,f,S);else for(;h!==null;){if(h.tag===3){ip(h,f,S);break}else if(h.tag===1){var C=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Zs===null||!Zs.has(C))){f=Pl(S,f),f=mx(h,f,1),Ws(h,f),f=mi(),h=cu(h,1),h!==null&&(Nc(h,1,f),Rt(h,f));break}}h=h.return}}function Qa(f,h,S){var C=f.pingCache;C!==null&&C.delete(h),h=mi(),f.pingedLanes|=f.suspendedLanes&S,wr===f&&(cr&S)===S&&(ur===4||ur===3&&(cr&130023424)===cr&&500>Wr()-Zg?Do(f,0):Qg|=S),Rt(f,h)}function Ux(f,h){h===0&&(f.mode&1?(h=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):h=1);var S=mi();f=cu(f,h),f!==null&&(Nc(f,h,S),Rt(f,S))}function Za(f){var h=f.memoizedState,S=0;h!==null&&(S=h.retryLane),Ux(f,S)}function zx(f,h){var S=0;switch(f.tag){case 13:var C=f.stateNode,I=f.memoizedState;I!==null&&(S=I.retryLane);break;case 19:C=f.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(h),Ux(f,S)}var ov;ov=function(f,h,S){if(f!==null)if(f.memoizedProps!==h.pendingProps||Rn.current)Zi=!0;else{if(!(f.lanes&S)&&!(h.flags&128))return Zi=!1,eA(f,h,S);Zi=!!(f.flags&131072)}else Zi=!1,Hn&&h.flags&1048576&&nx(h,Cd,h.index);switch(h.lanes=0,h.tag){case 2:var C=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var I=So(h,ar.current);Ml(h,S),I=Sn(null,h,C,f,I,S);var O=Lg();return h.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Zr(C)?(O=!0,Mh(h)):O=!1,h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Tg(h),I.updater=Uh,h.stateNode=I,I._reactInternals=h,zc(h,C,f,S),h=zg(null,h,C,!0,O,S)):(h.tag=0,Hn&&O&&zh(h),lr(null,h,I,S),h=h.child),h;case 16:C=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,I=C._init,C=I(C._payload),h.type=C,I=h.tag=Hx(C),f=ei(C,f),I){case 0:h=$s(null,h,C,f,S);break e;case 1:h=Ax(null,h,C,f,S);break e;case 11:h=xx(null,h,C,f,S);break e;case 14:h=bx(null,h,C,ei(C.type,f),S);break e}throw Error(o(306,C,""))}return h;case 0:return C=h.type,I=h.pendingProps,I=h.elementType===C?I:ei(C,I),$s(f,h,C,I,S);case 1:return C=h.type,I=h.pendingProps,I=h.elementType===C?I:ei(C,I),Ax(f,h,C,I,S);case 3:e:{if(Ex(h),f===null)throw Error(o(387));C=h.pendingProps,O=h.memoizedState,I=O.element,Mg(f,h),Vs(h,C,null,S);var re=h.memoizedState;if(C=re.element,Se&&O.isDehydrated)if(O={element:C,isDehydrated:!1,cache:re.cache,transitions:re.transitions},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){I=Error(o(423)),h=Cx(f,h,C,S,I);break e}else if(C!==I){I=Error(o(424)),h=Cx(f,h,C,S,I);break e}else for(Se&&(ni=Oe(h.stateNode.containerInfo),Mi=h,Hn=!0,Js=null,Gc=!1),S=ox(h,null,C,S),h.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Wc(),C===I){h=Or(f,h,S);break e}lr(f,h,C,S)}h=h.child}return h;case 5:return ax(h),f===null&&Pg(h),C=h.type,I=h.pendingProps,O=f!==null?f.memoizedProps:null,re=I.children,he(C,I)?re=null:O!==null&&he(C,O)&&(h.flags|=32),Sx(f,h),lr(f,h,re,S),h.child;case 6:return f===null&&Pg(h),null;case 13:return Tx(f,h,S);case 4:return Bg(h,h.stateNode.containerInfo),C=h.pendingProps,f===null?h.child=jc(h,null,C,S):lr(f,h,C,S),h.child;case 11:return C=h.type,I=h.pendingProps,I=h.elementType===C?I:ei(C,I),xx(f,h,C,I,S);case 7:return lr(f,h,h.pendingProps,S),h.child;case 8:return lr(f,h,h.pendingProps.children,S),h.child;case 12:return lr(f,h,h.pendingProps.children,S),h.child;case 10:e:{if(C=h.type._context,I=h.pendingProps,O=h.memoizedProps,re=I.value,Cg(h,C,re),O!==null)if(Co(O.value,re)){if(O.children===I.children&&!Rn.current){h=Or(f,h,S);break e}}else for(O=h.child,O!==null&&(O.return=h);O!==null;){var fe=O.dependencies;if(fe!==null){re=O.child;for(var Be=fe.firstContext;Be!==null;){if(Be.context===C){if(O.tag===1){Be=di(-1,S&-S),Be.tag=2;var Qe=O.updateQueue;if(Qe!==null){Qe=Qe.shared;var xt=Qe.pending;xt===null?Be.next=Be:(Be.next=xt.next,xt.next=Be),Qe.pending=Be}}O.lanes|=S,Be=O.alternate,Be!==null&&(Be.lanes|=S),Nh(O.return,S,h),fe.lanes|=S;break}Be=Be.next}}else if(O.tag===10)re=O.type===h.type?null:O.child;else if(O.tag===18){if(re=O.return,re===null)throw Error(o(341));re.lanes|=S,fe=re.alternate,fe!==null&&(fe.lanes|=S),Nh(re,S,h),re=O.sibling}else re=O.child;if(re!==null)re.return=O;else for(re=O;re!==null;){if(re===h){re=null;break}if(O=re.sibling,O!==null){O.return=re.return,re=O;break}re=re.return}O=re}lr(f,h,I.children,S),h=h.child}return h;case 9:return I=h.type,C=h.pendingProps.children,Ml(h,S),I=Yn(I),C=C(I),h.flags|=1,lr(f,h,C,S),h.child;case 14:return C=h.type,I=ei(C,h.pendingProps),I=ei(C.type,I),bx(f,h,C,I,S);case 15:return _x(f,h,h.type,h.pendingProps,S);case 17:return C=h.type,I=h.pendingProps,I=h.elementType===C?I:ei(C,I),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Zr(C)?(f=!0,Mh(h)):f=!1,Ml(h,S),tx(h,C,I),zc(h,C,I,S),zg(null,h,C,!0,f,S);case 19:return Ix(f,h,S);case 22:return wx(f,h,S)}throw Error(o(156,h.tag))};function sp(f,h){return Ph(f,h)}function sA(f,h,S,C){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(f,h,S,C){return new sA(f,h,S,C)}function av(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Hx(f){if(typeof f=="function")return av(f)?1:0;if(f!=null){if(f=f.$$typeof,f===b)return 11;if(f===A)return 14}return 2}function ca(f,h){var S=f.alternate;return S===null?(S=ws(f.tag,h,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=h,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&14680064,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,h=f.dependencies,S.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function op(f,h,S,C,I,O){var re=2;if(C=f,typeof f=="function")av(f)&&(re=1);else if(typeof f=="string")re=5;else e:switch(f){case d:return el(S.children,I,O,h);case p:re=8,I|=8;break;case m:return f=ws(12,S,h,I|2),f.elementType=m,f.lanes=O,f;case w:return f=ws(13,S,h,I),f.elementType=w,f.lanes=O,f;case x:return f=ws(19,S,h,I),f.elementType=x,f.lanes=O,f;case T:return Yd(S,I,O,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case v:re=10;break e;case y:re=9;break e;case b:re=11;break e;case A:re=14;break e;case _:re=16,C=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=ws(re,S,h,I),h.elementType=f,h.type=C,h.lanes=O,h}function el(f,h,S,C){return f=ws(7,f,C,h),f.lanes=S,f}function Yd(f,h,S,C){return f=ws(22,f,C,h),f.elementType=T,f.lanes=S,f.stateNode={},f}function yi(f,h,S){return f=ws(6,f,null,h),f.lanes=S,f}function Ss(f,h,S){return h=ws(4,f.children!==null?f.children:[],f.key,h),h.lanes=S,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function oA(f,h,S,C,I){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=C,this.onRecoverableError=I,Se&&(this.mutableSourceEagerHydrationData=null)}function Gx(f,h,S,C,I,O,re,fe,Be){return f=new oA(f,h,S,fe,Be),h===1?(h=1,O===!0&&(h|=8)):h=0,O=ws(3,null,null,h),f.current=O,O.stateNode=f,O.memoizedState={element:C,isDehydrated:S,cache:null,transitions:null},Tg(O),f}function qd(f){if(!f)return ui;f=f._reactInternals;e:{if(L(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Zr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var S=f.type;if(Zr(S))return xg(f,S,h)}return h}function Ul(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=V(h),f===null?null:f.stateNode}function lv(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<h?S:h}}function ap(f,h){lv(f,h),(f=f.alternate)&&lv(f,h)}function aA(f){return f=V(f),f===null?null:f.stateNode}function Wx(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=mi();_s(f,134217728,h),ap(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=mi(),S=ko(f);_s(f,S,h),ap(f,S)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var S=Ao(h.pendingLanes);S!==0&&(wg(h,S|1),Rt(h,Wr()),!(Kt&6)&&(Nl(),Gs()))}break;case 13:var C=mi();rs(function(){return _s(f,1,C)}),ap(f,1)}},t.batchedUpdates=function(f,h){var S=Kt;Kt|=1;try{return f(h)}finally{Kt=S,Kt===0&&(Nl(),Lh&&Gs())}},t.createComponentSelector=function(f){return{$$typeof:tu,value:f}},t.createContainer=function(f,h,S,C,I,O,re){return Gx(f,h,!1,null,S,C,I,O,re)},t.createHasPseudoClassSelector=function(f){return{$$typeof:Wd,value:f}},t.createHydrationContainer=function(f,h,S,C,I,O,re,fe,Be){return f=Gx(S,C,!0,f,I,O,re,fe,Be),f.context=qd(null),S=f.current,C=mi(),I=ko(S),O=di(C,I),O.callback=h??null,Ws(S,O),f.current.lanes=I,Nc(f,I,C),Rt(f,C),f},t.createPortal=function(f,h,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:f,containerInfo:h,implementation:S}},t.createRoleSelector=function(f){return{$$typeof:ts,value:f}},t.createTestNameSelector=function(f){return{$$typeof:nu,value:f}},t.createTextSelector=function(f){return{$$typeof:Ol,value:f}},t.deferredUpdates=function(f){var h=bn,S=Gn.transition;try{return Gn.transition=null,bn=16,f()}finally{bn=h,Gn.transition=S}},t.discreteUpdates=function(f,h,S,C,I){var O=bn,re=Gn.transition;try{return Gn.transition=null,bn=1,f(h,S,C,I)}finally{bn=O,Gn.transition=re,Kt===0&&Nl()}},t.findAllNodes=Yg,t.findBoundingRects=function(f,h){if(!rt)throw Error(o(363));h=Yg(f,h),f=[];for(var S=0;S<h.length;S++)f.push(Q(h[S]));for(h=f.length-1;0<h;h--){S=f[h];for(var C=S.x,I=C+S.width,O=S.y,re=O+S.height,fe=h-1;0<=fe;fe--)if(h!==fe){var Be=f[fe],Qe=Be.x,xt=Qe+Be.width,zt=Be.y,Ct=zt+Be.height;if(C>=Qe&&O>=zt&&I<=xt&&re<=Ct){f.splice(h,1);break}else if(C!==Qe||S.width!==Be.width||Ct<O||zt>re){if(!(O!==zt||S.height!==Be.height||xt<C||Qe>I)){Qe>C&&(Be.width+=Qe-C,Be.x=C),xt<I&&(Be.width=I-Qe),f.splice(h,1);break}}else{zt>O&&(Be.height+=zt-O,Be.y=O),Ct<re&&(Be.height=re-zt),f.splice(h,1);break}}}return f},t.findHostInstance=Ul,t.findHostInstanceWithNoPortals=function(f){return f=U(f),f=f!==null?j(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return Ul(f)},t.flushControlled=function(f){var h=Kt;Kt|=1;var S=Gn.transition,C=bn;try{Gn.transition=null,bn=1,f()}finally{bn=C,Gn.transition=S,Kt=h,Kt===0&&(Nl(),Gs())}},t.flushPassiveEffects=qa,t.flushSync=rs,t.focusWithin=function(f,h){if(!rt)throw Error(o(363));for(f=Yh(f),h=Dx(f,h),h=Array.from(h),f=0;f<h.length;){var S=h[f++];if(!ye(S)){if(S.tag===5&&Xe(S.stateNode))return!0;for(S=S.child;S!==null;)h.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return bn},t.getFindAllNodesFailureDescription=function(f,h){if(!rt)throw Error(o(363));var S=0,C=[];f=[Yh(f),0];for(var I=0;I<f.length;){var O=f[I++],re=f[I++],fe=h[re];if((O.tag!==5||!ye(O))&&(ri(O,fe)&&(C.push(Vd(fe)),re++,re>S&&(S=re)),re<h.length))for(O=O.child;O!==null;)f.push(O,re),O=O.sibling}if(S<h.length){for(f=[];S<h.length;S++)f.push(Vd(h[S]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return ee(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:aA,findFiberByHostInstance:f.findFiberByHostInstance||Wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Bh=h.inject(f),Eo=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,S,C){if(!rt)throw Error(o(363));f=Yg(f,h);var I=qe(f,S,C).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(f,h){var S=h._getVersion;S=S(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,S]:f.mutableSourceEagerHydrationData.push(h,S)},t.runWithPriority=function(f,h){var S=bn;try{return bn=f,h()}finally{bn=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,S,C){var I=h.current,O=mi(),re=ko(I);return S=qd(S),h.context===null?h.context=S:h.pendingContext=S,h=di(O,re),h.payload={element:f},C=C===void 0?null:C,C!==null&&(h.callback=C),Ws(I,h),f=_s(I,re,O),f!==null&&Uc(f,I,re),re},t};uH.exports=Nse;var Fse=uH.exports;const Use=sR(Fse),hP={},zse=n=>void Object.assign(hP,n);function Hse(n,e){function t(d,{args:p=[],attach:m,...v},y){let b=`${d[0].toUpperCase()}${d.slice(1)}`,w;if(d==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=v.object;w=Xp(x,{type:d,root:y,attach:m,primitive:!0})}else{const x=hP[b];if(!x)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");w=Xp(new x(...p),{type:d,root:y,attach:m,memoizedProps:{args:p}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),b!=="inject"&&ZE(w,v),w}function r(d,p){let m=!1;if(p){var v,y;(v=p.__r3f)!=null&&v.attach?QE(d,p,p.__r3f.attach):p.isObject3D&&d.isObject3D&&(d.add(p),m=!0),m||(y=d.__r3f)==null||y.objects.push(p),p.__r3f||Xp(p,{}),p.__r3f.parent=d,MM(p),Jp(p)}}function i(d,p,m){let v=!1;if(p){var y,b;if((y=p.__r3f)!=null&&y.attach)QE(d,p,p.__r3f.attach);else if(p.isObject3D&&d.isObject3D){p.parent=d,p.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:p});const w=d.children.filter(A=>A!==p),x=w.indexOf(m);d.children=[...w.slice(0,x),p,...w.slice(x)],v=!0}v||(b=d.__r3f)==null||b.objects.push(p),p.__r3f||Xp(p,{}),p.__r3f.parent=d,MM(p),Jp(p)}}function s(d,p,m=!1){d&&[...d].forEach(v=>o(p,v,m))}function o(d,p,m){if(p){var v,y,b;if(p.__r3f&&(p.__r3f.parent=null),(v=d.__r3f)!=null&&v.objects&&(d.__r3f.objects=d.__r3f.objects.filter(T=>T!==p)),(y=p.__r3f)!=null&&y.attach)FD(d,p,p.__r3f.attach);else if(p.isObject3D&&d.isObject3D){var w;d.remove(p),(w=p.__r3f)!=null&&w.root&&$se($_(p),p)}const A=(b=p.__r3f)==null?void 0:b.primitive,_=!A&&(m===void 0?p.dispose!==null:m);if(!A){var x;s((x=p.__r3f)==null?void 0:x.objects,p,_),s(p.children,p,_)}if(delete p.__r3f,_&&p.dispose&&p.type!=="Scene"){const T=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?CM.unstable_scheduleCallback(CM.unstable_IdlePriority,T):T()}Jp(d)}}function a(d,p,m,v){var y;const b=(y=d.__r3f)==null?void 0:y.parent;if(!b)return;const w=t(p,m,d.__r3f.root);if(d.children){for(const x of d.children)x.__r3f&&r(w,x);d.children=d.children.filter(x=>!x.__r3f)}d.__r3f.objects.forEach(x=>r(w,x)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(b,d),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(b,w),w.raycast&&w.__r3f.eventCount&&$_(w).getState().internal.interaction.push(w),[v,v.alternate].forEach(x=>{x!==null&&(x.stateNode=w,x.ref&&(typeof x.ref=="function"?x.ref(w):x.ref.current=w))})}const l=()=>{};return{reconciler:Use({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,p)=>{if(!p)return;const m=d.getState().scene;m.__r3f&&(m.__r3f.root=d,r(m,p))},removeChildFromContainer:(d,p)=>{p&&o(d.getState().scene,p)},insertInContainerBefore:(d,p,m)=>{if(!p||!m)return;const v=d.getState().scene;v.__r3f&&i(v,p,m)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var p;return!!((p=d==null?void 0:d.__r3f)!=null?p:{}).handlers},prepareUpdate(d,p,m,v){var y;if(((y=d==null?void 0:d.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==d)return[!0];{const{args:w=[],children:x,...A}=v,{args:_=[],children:T,...R}=m;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((D,N)=>D!==_[N]))return[!0];const P=xH(d,A,R,!0);return P.changes.length?[!1,P]:null}},commitUpdate(d,[p,m],v,y,b,w){p?a(d,v,b,w):ZE(d,m)},commitMount(d,p,m,v){var y;const b=(y=d.__r3f)!=null?y:{};d.raycast&&b.handlers&&b.eventCount&&$_(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Xp(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&FD(v,d,m),d.isObject3D&&(d.visible=!1),Jp(d)},unhideInstance(d,p){var m;const{attach:v,parent:y}=(m=d.__r3f)!=null?m:{};v&&y&&QE(y,d,v),(d.isObject3D&&p.visible==null||p.visible)&&(d.visible=!0),Jp(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():mm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qn.fun(performance.now)?performance.now:Qn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ZE}}var kD,DD;const qE=n=>"colorSpace"in n||"outputColorSpace"in n,hH=()=>{var n;return(n=hP.ColorManagement)!=null?n:null},pH=n=>n&&n.isOrthographicCamera,Gse=n=>n&&n.hasOwnProperty("current"),ky=typeof window<"u"&&((kD=window.document)!=null&&kD.createElement||((DD=window.navigator)==null?void 0:DD.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function mH(n){const e=k.useRef(n);return ky(()=>void(e.current=n),[n]),e}function Wse({set:n}){return ky(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class gH extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}gH.getDerivedStateFromError=()=>({error:!0});const vH="__default",OD=new Map,Vse=n=>n&&!!n.memoized&&!!n.changes;function yH(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const kv=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function $_(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Qn={obj:n=>n===Object(n)&&!Qn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qn.str(n)||Qn.num(n)||Qn.boo(n))return n===e;const s=Qn.obj(n);if(s&&r==="reference")return n===e;const o=Qn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Qn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Qn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function jse(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Xse(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Xp(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function TM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const ND=/-\d+$/;function QE(n,e,t){if(Qn.str(t)){if(ND.test(t)){const s=t.replace(ND,""),{target:o,key:a}=TM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=TM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function FD(n,e,t){var r,i;if(Qn.str(t)){const{target:s,key:o}=TM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function xH(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const d=n.__r3f,p=Object.entries(i),m=[];if(c){const y=Object.keys(l);for(let b=0;b<y.length;b++)i.hasOwnProperty(y[b])||p.unshift([y[b],vH+"remove"])}p.forEach(([y,b])=>{var w;if((w=n.__r3f)!=null&&w.primitive&&y==="object"||Qn.equ(b,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,b,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),m.push([y,b,!1,x]);for(const A in i){const _=i[A];A.startsWith(`${y}-`)&&m.push([A,_,!1,A.split("-")])}});const v={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}function ZE(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Vse(e)?e:xH(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let m=0;m<a.length;m++){let[v,y,b,w]=a[m];if(qE(n)){const T="srgb",R="srgb-linear";v==="encoding"?(v="colorSpace",y=y===3001?T:R):v==="outputEncoding"&&(v="outputColorSpace",y=y===3001?T:R)}let x=n,A=x[v];if(w.length&&(A=w.reduce((_,T)=>_[T],n),!(A&&A.set))){const[_,...T]=w.reverse();x=T.reverse().reduce((R,P)=>R[P],n),v=_}if(y===vH+"remove")if(x.constructor){let _=OD.get(x.constructor);_||(_=new x.constructor,OD.set(x.constructor,_)),y=_[v]}else y=0;if(b&&r)y?r.handlers[v]=y:delete r.handlers[v],r.eventCount=Object.keys(r.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Jf)){if(Array.isArray(y))A.fromArray?A.fromArray(y):A.set(...y);else if(A.copy&&y&&y.constructor&&A.constructor===y.constructor)A.copy(y);else if(y!==void 0){var c;const _=(c=A)==null?void 0:c.isColor;!_&&A.setScalar?A.setScalar(y):A instanceof Jf&&y instanceof Jf?A.mask=y.mask:A.set(y),!hH()&&s&&!s.linear&&_&&A.convertSRGBToLinear()}}else{var d;if(x[v]=y,(d=x[v])!=null&&d.isTexture&&x[v].format===Ps&&x[v].type===Ac&&s){const _=x[v];qE(_)&&qE(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}Jp(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const m=$_(n).getState().internal,v=m.interaction.indexOf(n);v>-1&&m.interaction.splice(v,1),r.eventCount&&m.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&MM(n),n}function Jp(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function MM(n){n.onUpdate==null||n.onUpdate(n)}function Jse(n,e){n.manual||(pH(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function g_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Kse(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return mm.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return mm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return mm.ContinuousEventPriority;default:return mm.DefaultEventPriority}}function bH(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function $se(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{bH(t.capturedMap,e,r,i)})}function Yse(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],p=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+p*p))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+d]}))}function r(l,c){const d=n.getState(),p=new Set,m=[],v=c?c(d.internal.interaction):d.internal.interaction;for(let x=0;x<v.length;x++){const A=kv(v[x]);A&&(A.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(x){const A=kv(x);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var _;A.events.compute==null||A.events.compute(l,A,(_=A.previousRoot)==null?void 0:_.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(x,!0):[]}let b=v.flatMap(y).sort((x,A)=>{const _=kv(x.object),T=kv(A.object);return!_||!T?x.distance-A.distance:T.events.priority-_.events.priority||x.distance-A.distance}).filter(x=>{const A=g_(x);return p.has(A)?!1:(p.add(A),!0)});d.events.filter&&(b=d.events.filter(b,d));for(const x of b){let A=x.object;for(;A;){var w;(w=A.__r3f)!=null&&w.eventCount&&m.push({...x,eventObject:A}),A=A.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let x of d.internal.capturedMap.get(l.pointerId).values())p.has(g_(x.intersection))||m.push(x.intersection);return m}function i(l,c,d,p){const m=n.getState();if(l.length){const v={stopped:!1};for(const y of l){const b=kv(y.object)||m,{raycaster:w,pointer:x,camera:A,internal:_}=b,T=new $(x.x,x.y,0).unproject(A),R=M=>{var U,V;return(U=(V=_.capturedMap.get(M))==null?void 0:V.has(y.eventObject))!=null?U:!1},P=M=>{const U={intersection:y,target:c.target};_.capturedMap.has(M)?_.capturedMap.get(M).set(y.eventObject,U):_.capturedMap.set(M,new Map([[y.eventObject,U]])),c.target.setPointerCapture(M)},D=M=>{const U=_.capturedMap.get(M);U&&bH(_.capturedMap,y.eventObject,U,M)};let N={};for(let M in c){let U=c[M];typeof U!="function"&&(N[M]=U)}let L={...y,...N,pointer:x,intersections:l,stopped:v.stopped,delta:d,unprojectedPoint:T,ray:w.ray,camera:A,stopPropagation(){const M="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!M||M.has(y.eventObject))&&(L.stopped=v.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=l.slice(0,l.indexOf(y));s([...U,y])}},target:{hasPointerCapture:R,setPointerCapture:P,releasePointerCapture:D},currentTarget:{hasPointerCapture:R,setPointerCapture:P,releasePointerCapture:D},nativeEvent:c};if(p(L),v.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(p=>p.object===d.object&&p.index===d.index&&p.instanceId===d.instanceId)){const m=d.eventObject.__r3f,v=m==null?void 0:m.handlers;if(c.hovered.delete(g_(d)),m!=null&&m.eventCount){const y={...d,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,c){for(let d=0;d<c.length;d++){const p=c[d].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:p,internal:m}=n.getState();m.lastEvent.current=d;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=r(d,v?t:void 0),x=y?e(d):0;l==="onPointerDown"&&(m.initialClick=[d.offsetX,d.offsetY],m.initialHits=w.map(_=>_.eventObject)),y&&!w.length&&x<=2&&(o(d,m.interaction),p&&p(d)),v&&s(w);function A(_){const T=_.eventObject,R=T.__r3f,P=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(v){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const D=g_(_),N=m.hovered.get(D);N?N.stopped&&_.stopPropagation():(m.hovered.set(D,_),P.onPointerOver==null||P.onPointerOver(_),P.onPointerEnter==null||P.onPointerEnter(_))}P.onPointerMove==null||P.onPointerMove(_)}else{const D=P[l];D?(!y||m.initialHits.includes(T))&&(o(d,m.interaction.filter(N=>!m.initialHits.includes(N))),D(_)):y&&m.initialHits.includes(T)&&o(d,m.interaction.filter(N=>!m.initialHits.includes(N)))}}i(w,d,x,A)}}return{handlePointer:a}}const _H=n=>!!(n!=null&&n.render),wH=k.createContext(null),qse=(n,e)=>{const t=Bse((a,l)=>{const c=new $,d=new $,p=new $;function m(x=l().camera,A=d,_=l().size){const{width:T,height:R,top:P,left:D}=_,N=T/R;A.isVector3?p.copy(A):p.set(...A);const L=x.getWorldPosition(c).distanceTo(p);if(pH(x))return{width:T/x.zoom,height:R/x.zoom,top:P,left:D,factor:1,distance:L,aspect:N};{const M=x.fov*Math.PI/180,U=2*Math.tan(M/2)*L,V=U*(T/R);return{width:V,height:U,top:P,left:D,factor:T/V,distance:L,aspect:N}}}let v;const y=x=>a(A=>({performance:{...A.performance,current:x}})),b=new He;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,A)=>e(x,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new cP,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();v&&clearTimeout(v),x.performance.current!==x.performance.min&&y(x.performance.min),v=setTimeout(()=>y(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:x=>a(A=>({...A,events:{...A.events,...x}})),setSize:(x,A,_,T,R)=>{const P=l().camera,D={width:x,height:A,top:T||0,left:R||0,updateStyle:_};a(N=>({size:D,viewport:{...N.viewport,...m(P,d,D)}}))},setDpr:x=>a(A=>{const _=yH(x);return{viewport:{...A.viewport,dpr:_,initialDpr:A.viewport.initialDpr||_}}}),setFrameloop:(x="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,x!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,A,_)=>{const T=l().internal;return T.priority=T.priority+(A>0?1:0),T.subscribers.push({ref:x,priority:A,store:_}),T.subscribers=T.subscribers.sort((R,P)=>R.priority-P.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(A>0?1:0),R.subscribers=R.subscribers.filter(P=>P.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:p}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var m;i=l,s=c.dpr,Jse(a,l),d.setPixelRatio(c.dpr);const v=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,v)}a!==o&&(o=a,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let v_,Qse=new Set,Zse=new Set,eoe=new Set;function eC(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Dv(n,e){switch(n){case"before":return eC(Qse,e);case"after":return eC(Zse,e);case"tail":return eC(eoe,e)}}let tC,nC;function rC(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),tC=e.internal.subscribers,v_=0;v_<tC.length;v_++)nC=tC[v_],nC.ref.current(nC.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function toe(n){let e=!1,t=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Dv("before",c),t=!0;for(const p of n.values()){var d;s=p.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=rC(c,s))}if(t=!1,Dv("after",c),r===0)return Dv("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,d=1){var p;if(!c)return n.forEach(m=>a(m.store.getState(),d));(p=c.gl.xr)!=null&&p.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,p,m){if(d&&Dv("before",c),p)rC(c,p,m);else for(const v of n.values())rC(c,v.store.getState());d&&Dv("after",c)}return{loop:o,invalidate:a,advance:l}}function SH(){const n=k.useContext(wH);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function xu(n=t=>t,e){return SH()(n,e)}function AH(n,e=0){const t=SH(),r=t.getState().internal.subscribe,i=mH(n);return ky(()=>r(i,e,t),[e,r,t]),null}const UD=new WeakMap;function EH(n,e){return function(t,...r){let i=UD.get(t);return i||(i=new t,UD.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,jse(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Dy(n,e,t,r){const i=Array.isArray(e)?e:[e],s=kse(EH(t,r),[n,...i],{equal:Qn.equ});return Array.isArray(e)?s:s[0]}Dy.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Dse(EH(t),[n,...r])};Dy.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Ose([n,...t])};const Jm=new Map,{invalidate:zD,advance:HD}=toe(Jm),{reconciler:jw,applyProps:Op}=Hse(Jm,Kse),Np={objects:"shallow",strict:!1},noe=(n,e)=>{const t=typeof n=="function"?n(e):n;return _H(t)?t:new UI({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function roe(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function ioe(n){const e=Jm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||qse(zD,HD),o=t||jw.createContainer(s,mm.ConcurrentRoot,null,!1,null,"",i,null);e||Jm.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:p,size:m,scene:v,events:y,onCreated:b,shadows:w=!1,linear:x=!1,flat:A=!1,legacy:_=!1,orthographic:T=!1,frameloop:R="always",dpr:P=[1,2],performance:D,raycaster:N,camera:L,onPointerMissed:M}=d,U=s.getState(),V=U.gl;U.gl||U.set({gl:V=noe(p,n)});let H=U.raycaster;H||U.set({raycaster:H=new sH});const{params:j,...K}=N||{};if(Qn.equ(K,H,Np)||Op(H,{...K}),Qn.equ(j,H.params,Np)||Op(H,{params:{...H.params,...j}}),!U.camera||U.camera===c&&!Qn.equ(c,L,Np)){c=L;const Y=L instanceof vy,le=Y?L:T?new mc(0,0,0,0,.1,1e3):new Br(75,0,.1,1e3);Y||(le.position.z=5,L&&(Op(le,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(le.manual=!0,le.updateProjectionMatrix())),!U.camera&&!(L!=null&&L.rotation)&&le.lookAt(0,0,0)),U.set({camera:le}),H.camera=le}if(!U.scene){let Y;v!=null&&v.isScene?Y=v:(Y=new zI,v&&Op(Y,v)),U.set({scene:Xp(Y)})}if(!U.xr){var ee;const Y=(ie,oe)=>{const he=s.getState();he.frameloop!=="never"&&HD(ie,!0,he,oe)},le=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?Y:null),ie.gl.xr.isPresenting||zD(ie)},ge={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",le),ie.xr.addEventListener("sessionend",le)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",le),ie.xr.removeEventListener("sessionend",le)}};typeof((ee=V.xr)==null?void 0:ee.addEventListener)=="function"&&ge.connect(),U.set({xr:ge})}if(V.shadowMap){const Y=V.shadowMap.enabled,le=V.shadowMap.type;if(V.shadowMap.enabled=!!w,Qn.boo(w))V.shadowMap.type=a0;else if(Qn.str(w)){var ne;const ge={basic:uz,percentage:GS,soft:a0,variance:xa};V.shadowMap.type=(ne=ge[w])!=null?ne:a0}else Qn.obj(w)&&Object.assign(V.shadowMap,w);(Y!==V.shadowMap.enabled||le!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const z=hH();z&&("enabled"in z?z.enabled=!_:"legacyMode"in z&&(z.legacyMode=_)),l||Op(V,{outputEncoding:x?3e3:3001,toneMapping:A?Ra:EI}),U.legacy!==_&&U.set(()=>({legacy:_})),U.linear!==x&&U.set(()=>({linear:x})),U.flat!==A&&U.set(()=>({flat:A})),p&&!Qn.fun(p)&&!_H(p)&&!Qn.equ(p,V,Np)&&Op(V,p),y&&!U.events.handlers&&U.set({events:y(s)});const G=roe(n,m);return Qn.equ(G,U.size,Np)||U.setSize(G.width,G.height,G.updateStyle,G.top,G.left),P&&U.viewport.dpr!==yH(P)&&U.setDpr(P),U.frameloop!==R&&U.setFrameloop(R),U.onPointerMissed||U.set({onPointerMissed:M}),D&&!Qn.equ(D,U.performance,Np)&&U.set(Y=>({performance:{...Y.performance,...D}})),a=b,l=!0,this},render(d){return l||this.configure(),jw.updateContainer(te.jsx(soe,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){CH(n)}}}function soe({store:n,children:e,onCreated:t,rootElement:r}){return ky(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),te.jsx(wH.Provider,{value:n,children:e})}function CH(n,e){const t=Jm.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),jw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Xse(i),Jm.delete(n)}catch{}},500)})}}jw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});const iC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ooe(n){const{handlePointer:e}=Yse(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(iC).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=iC[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=iC[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function GD(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function aoe({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=k.useRef(!1);k.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=k.useMemo(()=>{const x=()=>{if(!a.current.element)return;const{left:A,top:_,width:T,height:R,bottom:P,right:D,x:N,y:L}=a.current.element.getBoundingClientRect(),M={left:A,top:_,width:T,height:R,bottom:P,right:D,x:N,y:L};a.current.element instanceof HTMLElement&&r&&(M.height=a.current.element.offsetHeight,M.width=a.current.element.offsetWidth),Object.freeze(M),d.current&&!doe(a.current.lastBounds,M)&&o(a.current.lastBounds=M)};return[x,c?GD(x,c):x,l?GD(x,l):x]},[o,r,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){a.current.element&&(a.current.resizeObserver=new i(v),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const w=x=>{!x||x===a.current.element||(y(),a.current.element=x,a.current.scrollContainers=TH(x),b())};return coe(v,!!e),loe(m),k.useEffect(()=>{y(),b()},[e,v,m]),k.useEffect(()=>y,[]),[w,s,p]}function loe(n){k.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function coe(n,e){k.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function TH(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...TH(n.parentElement)]}const uoe=["x","y","top","bottom","left","right","width","height"],doe=(n,e)=>uoe.every(t=>n[t]===e[t]);var foe=Object.defineProperty,hoe=Object.defineProperties,poe=Object.getOwnPropertyDescriptors,WD=Object.getOwnPropertySymbols,moe=Object.prototype.hasOwnProperty,goe=Object.prototype.propertyIsEnumerable,VD=(n,e,t)=>e in n?foe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jD=(n,e)=>{for(var t in e||(e={}))moe.call(e,t)&&VD(n,t,e[t]);if(WD)for(var t of WD(e))goe.call(e,t)&&VD(n,t,e[t]);return n},voe=(n,e)=>hoe(n,poe(e)),XD,JD;typeof window<"u"&&((XD=window.document)!=null&&XD.createElement||((JD=window.navigator)==null?void 0:JD.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function MH(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=MH(r,e,t);if(i)return i;r=r.sibling}}function RH(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const KD=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=KD;return}return KD.apply(this,arguments)};const pP=RH(k.createContext(null));class IH extends k.Component{render(){return k.createElement(pP.Provider,{value:this._reactInternals},this.props.children)}}function yoe(){const n=k.useContext(pP);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=MH(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function xoe(){const n=yoe(),[e]=k.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==pP&&!e.has(i)&&e.set(i,k.useContext(RH(i)))}t=t.return}return e}function boe(){const n=xoe();return k.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>k.createElement(e,null,k.createElement(t.Provider,voe(jD({},r),{value:n.get(t)}))),e=>k.createElement(IH,jD({},e))),[n])}const _oe=k.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=ooe,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:p,legacy:m,orthographic:v,frameloop:y,dpr:b,performance:w,raycaster:x,camera:A,scene:_,onPointerMissed:T,onCreated:R,...P},D){k.useMemo(()=>zse(Rse),[]);const N=boe(),[L,M]=aoe({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=k.useRef(null),V=k.useRef(null);k.useImperativeHandle(D,()=>U.current);const H=mH(T),[j,K]=k.useState(!1),[ee,ne]=k.useState(!1);if(j)throw j;if(ee)throw ee;const z=k.useRef(null);ky(()=>{const Y=U.current;M.width>0&&M.height>0&&Y&&(z.current||(z.current=ioe(Y)),z.current.configure({gl:s,events:o,shadows:c,linear:d,flat:p,legacy:m,orthographic:v,frameloop:y,dpr:b,performance:w,raycaster:x,camera:A,scene:_,size:M,onPointerMissed:(...le)=>H.current==null?void 0:H.current(...le),onCreated:le=>{le.events.connect==null||le.events.connect(a?Gse(a)?a.current:a:V.current),l&&le.setEvents({compute:(ge,ie)=>{const oe=ge[l+"X"],he=ge[l+"Y"];ie.pointer.set(oe/ie.size.width*2-1,-(he/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),R==null||R(le)}}),z.current.render(te.jsx(N,{children:te.jsx(gH,{set:ne,children:te.jsx(k.Suspense,{fallback:te.jsx(Wse,{set:K}),children:e??null})})})))}),k.useEffect(()=>{const Y=U.current;if(Y)return()=>CH(Y)},[]);const G=a?"none":"auto";return te.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i},...P,children:te.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:te.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}),E0e=k.forwardRef(function(e,t){return te.jsx(IH,{children:te.jsx(_oe,{...e,ref:t})})});function Xw(){return Xw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xw.apply(null,arguments)}const woe=parseInt(py.replace(/\D+/g,""));function $D(n,e){if(e===e4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Ww||e===MI){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===Ww)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Soe=Object.defineProperty,Aoe=(n,e,t)=>e in n?Soe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Eoe=(n,e,t)=>(Aoe(n,e+"",t),t);class Coe{constructor(){Eoe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Toe=Object.defineProperty,Moe=(n,e,t)=>e in n?Toe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pt=(n,e,t)=>(Moe(n,typeof e!="symbol"?e+"":e,t),t);const y_=new sg,YD=new rc,Roe=Math.cos(70*(Math.PI/180)),qD=(n,e)=>(n%e+e)%e;let Ioe=class extends Coe{constructor(e,t){super(),Pt(this,"object"),Pt(this,"domElement"),Pt(this,"enabled",!0),Pt(this,"target",new $),Pt(this,"minDistance",0),Pt(this,"maxDistance",1/0),Pt(this,"minZoom",0),Pt(this,"maxZoom",1/0),Pt(this,"minPolarAngle",0),Pt(this,"maxPolarAngle",Math.PI),Pt(this,"minAzimuthAngle",-1/0),Pt(this,"maxAzimuthAngle",1/0),Pt(this,"enableDamping",!1),Pt(this,"dampingFactor",.05),Pt(this,"enableZoom",!0),Pt(this,"zoomSpeed",1),Pt(this,"enableRotate",!0),Pt(this,"rotateSpeed",1),Pt(this,"enablePan",!0),Pt(this,"panSpeed",1),Pt(this,"screenSpacePanning",!0),Pt(this,"keyPanSpeed",7),Pt(this,"zoomToCursor",!1),Pt(this,"autoRotate",!1),Pt(this,"autoRotateSpeed",2),Pt(this,"reverseOrbit",!1),Pt(this,"reverseHorizontalOrbit",!1),Pt(this,"reverseVerticalOrbit",!1),Pt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Pt(this,"mouseButtons",{LEFT:bf.ROTATE,MIDDLE:bf.DOLLY,RIGHT:bf.PAN}),Pt(this,"touches",{ONE:_f.ROTATE,TWO:_f.DOLLY_PAN}),Pt(this,"target0"),Pt(this,"position0"),Pt(this,"zoom0"),Pt(this,"_domElementKeyEvents",null),Pt(this,"getPolarAngle"),Pt(this,"getAzimuthalAngle"),Pt(this,"setPolarAngle"),Pt(this,"setAzimuthalAngle"),Pt(this,"getDistance"),Pt(this,"getZoomScale"),Pt(this,"listenToKeyEvents"),Pt(this,"stopListenToKeyEvents"),Pt(this,"saveState"),Pt(this,"reset"),Pt(this,"update"),Pt(this,"connect"),Pt(this,"dispose"),Pt(this,"dollyIn"),Pt(this,"dollyOut"),Pt(this,"getScale"),Pt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ce=>{let Fe=qD(ce,2*Math.PI),lt=d.phi;lt<0&&(lt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let ae=Math.abs(Fe-lt);2*Math.PI-ae<ae&&(Fe<lt?Fe+=2*Math.PI:lt+=2*Math.PI),p.phi=Fe-lt,r.update()},this.setAzimuthalAngle=ce=>{let Fe=qD(ce,2*Math.PI),lt=d.theta;lt<0&&(lt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let ae=Math.abs(Fe-lt);2*Math.PI-ae<ae&&(Fe<lt?Fe+=2*Math.PI:lt+=2*Math.PI),p.theta=Fe-lt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ce=>{ce.addEventListener("keydown",dt),this._domElementKeyEvents=ce},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",dt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ce=new $,Fe=new $(0,1,0),lt=new Ei().setFromUnitVectors(e.up,Fe),ae=lt.clone().invert(),Ee=new $,je=new Ei,tt=2*Math.PI;return function(){const fn=r.object.position;lt.setFromUnitVectors(e.up,Fe),ae.copy(lt).invert(),ce.copy(fn).sub(r.target),ce.applyQuaternion(lt),d.setFromVector3(ce),r.autoRotate&&l===a.NONE&&j(V()),r.enableDamping?(d.theta+=p.theta*r.dampingFactor,d.phi+=p.phi*r.dampingFactor):(d.theta+=p.theta,d.phi+=p.phi);let Wt=r.minAzimuthAngle,En=r.maxAzimuthAngle;isFinite(Wt)&&isFinite(En)&&(Wt<-Math.PI?Wt+=tt:Wt>Math.PI&&(Wt-=tt),En<-Math.PI?En+=tt:En>Math.PI&&(En-=tt),Wt<=En?d.theta=Math.max(Wt,Math.min(En,d.theta)):d.theta=d.theta>(Wt+En)/2?Math.max(Wt,d.theta):Math.min(En,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&L||r.object.isOrthographicCamera?d.radius=ie(d.radius):d.radius=ie(d.radius*m),ce.setFromSpherical(d),ce.applyQuaternion(ae),fn.copy(r.target).add(ce),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),v.set(0,0,0));let yr=!1;if(r.zoomToCursor&&L){let xn=null;if(r.object instanceof Br&&r.object.isPerspectiveCamera){const er=ce.length();xn=ie(er*m);const xr=er-xn;r.object.position.addScaledVector(D,xr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const er=new $(N.x,N.y,0);er.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),yr=!0;const xr=new $(N.x,N.y,0);xr.unproject(r.object),r.object.position.sub(xr).add(er),r.object.updateMatrixWorld(),xn=ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;xn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(xn).add(r.object.position):(y_.origin.copy(r.object.position),y_.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(y_.direction))<Roe?e.lookAt(r.target):(YD.setFromNormalAndCoplanarPoint(r.object.up,r.target),y_.intersectPlane(YD,r.target))))}else r.object instanceof mc&&r.object.isOrthographicCamera&&(yr=m!==1,yr&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,L=!1,yr||Ee.distanceToSquared(r.object.position)>c||8*(1-je.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ee.copy(r.object.position),je.copy(r.object.quaternion),yr=!1,!0):!1}})(),this.connect=ce=>{r.domElement=ce,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ft),r.domElement.addEventListener("pointerdown",Q),r.domElement.addEventListener("pointercancel",ye),r.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var ce,Fe,lt,ae,Ee,je;r.domElement&&(r.domElement.style.touchAction="auto"),(ce=r.domElement)==null||ce.removeEventListener("contextmenu",ft),(Fe=r.domElement)==null||Fe.removeEventListener("pointerdown",Q),(lt=r.domElement)==null||lt.removeEventListener("pointercancel",ye),(ae=r.domElement)==null||ae.removeEventListener("wheel",qe),(Ee=r.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",X),(je=r.domElement)==null||je.ownerDocument.removeEventListener("pointerup",ye),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",dt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new EM,p=new EM;let m=1;const v=new $,y=new He,b=new He,w=new He,x=new He,A=new He,_=new He,T=new He,R=new He,P=new He,D=new $,N=new He;let L=!1;const M=[],U={};function V(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function j(ce){r.reverseOrbit||r.reverseHorizontalOrbit?p.theta+=ce:p.theta-=ce}function K(ce){r.reverseOrbit||r.reverseVerticalOrbit?p.phi+=ce:p.phi-=ce}const ee=(()=>{const ce=new $;return function(lt,ae){ce.setFromMatrixColumn(ae,0),ce.multiplyScalar(-lt),v.add(ce)}})(),ne=(()=>{const ce=new $;return function(lt,ae){r.screenSpacePanning===!0?ce.setFromMatrixColumn(ae,1):(ce.setFromMatrixColumn(ae,0),ce.crossVectors(r.object.up,ce)),ce.multiplyScalar(lt),v.add(ce)}})(),z=(()=>{const ce=new $;return function(lt,ae){const Ee=r.domElement;if(Ee&&r.object instanceof Br&&r.object.isPerspectiveCamera){const je=r.object.position;ce.copy(je).sub(r.target);let tt=ce.length();tt*=Math.tan(r.object.fov/2*Math.PI/180),ee(2*lt*tt/Ee.clientHeight,r.object.matrix),ne(2*ae*tt/Ee.clientHeight,r.object.matrix)}else Ee&&r.object instanceof mc&&r.object.isOrthographicCamera?(ee(lt*(r.object.right-r.object.left)/r.object.zoom/Ee.clientWidth,r.object.matrix),ne(ae*(r.object.top-r.object.bottom)/r.object.zoom/Ee.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function G(ce){r.object instanceof Br&&r.object.isPerspectiveCamera||r.object instanceof mc&&r.object.isOrthographicCamera?m=ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Y(ce){G(m/ce)}function le(ce){G(m*ce)}function ge(ce){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Fe=r.domElement.getBoundingClientRect(),lt=ce.clientX-Fe.left,ae=ce.clientY-Fe.top,Ee=Fe.width,je=Fe.height;N.x=lt/Ee*2-1,N.y=-(ae/je)*2+1,D.set(N.x,N.y,1).unproject(r.object).sub(r.object.position).normalize()}function ie(ce){return Math.max(r.minDistance,Math.min(r.maxDistance,ce))}function oe(ce){y.set(ce.clientX,ce.clientY)}function he(ce){ge(ce),T.set(ce.clientX,ce.clientY)}function pe(ce){x.set(ce.clientX,ce.clientY)}function q(ce){b.set(ce.clientX,ce.clientY),w.subVectors(b,y).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&(j(2*Math.PI*w.x/Fe.clientHeight),K(2*Math.PI*w.y/Fe.clientHeight)),y.copy(b),r.update()}function Ie(ce){R.set(ce.clientX,ce.clientY),P.subVectors(R,T),P.y>0?Y(H()):P.y<0&&le(H()),T.copy(R),r.update()}function ke(ce){A.set(ce.clientX,ce.clientY),_.subVectors(A,x).multiplyScalar(r.panSpeed),z(_.x,_.y),x.copy(A),r.update()}function xe(ce){ge(ce),ce.deltaY<0?le(H()):ce.deltaY>0&&Y(H()),r.update()}function Le(ce){let Fe=!1;switch(ce.code){case r.keys.UP:z(0,r.keyPanSpeed),Fe=!0;break;case r.keys.BOTTOM:z(0,-r.keyPanSpeed),Fe=!0;break;case r.keys.LEFT:z(r.keyPanSpeed,0),Fe=!0;break;case r.keys.RIGHT:z(-r.keyPanSpeed,0),Fe=!0;break}Fe&&(ce.preventDefault(),r.update())}function we(){if(M.length==1)y.set(M[0].pageX,M[0].pageY);else{const ce=.5*(M[0].pageX+M[1].pageX),Fe=.5*(M[0].pageY+M[1].pageY);y.set(ce,Fe)}}function Se(){if(M.length==1)x.set(M[0].pageX,M[0].pageY);else{const ce=.5*(M[0].pageX+M[1].pageX),Fe=.5*(M[0].pageY+M[1].pageY);x.set(ce,Fe)}}function Me(){const ce=M[0].pageX-M[1].pageX,Fe=M[0].pageY-M[1].pageY,lt=Math.sqrt(ce*ce+Fe*Fe);T.set(0,lt)}function Ke(){r.enableZoom&&Me(),r.enablePan&&Se()}function Ye(){r.enableZoom&&Me(),r.enableRotate&&we()}function nt(ce){if(M.length==1)b.set(ce.pageX,ce.pageY);else{const lt=pt(ce),ae=.5*(ce.pageX+lt.x),Ee=.5*(ce.pageY+lt.y);b.set(ae,Ee)}w.subVectors(b,y).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&(j(2*Math.PI*w.x/Fe.clientHeight),K(2*Math.PI*w.y/Fe.clientHeight)),y.copy(b)}function vt(ce){if(M.length==1)A.set(ce.pageX,ce.pageY);else{const Fe=pt(ce),lt=.5*(ce.pageX+Fe.x),ae=.5*(ce.pageY+Fe.y);A.set(lt,ae)}_.subVectors(A,x).multiplyScalar(r.panSpeed),z(_.x,_.y),x.copy(A)}function Je(ce){const Fe=pt(ce),lt=ce.pageX-Fe.x,ae=ce.pageY-Fe.y,Ee=Math.sqrt(lt*lt+ae*ae);R.set(0,Ee),P.set(0,Math.pow(R.y/T.y,r.zoomSpeed)),Y(P.y),T.copy(R)}function rt(ce){r.enableZoom&&Je(ce),r.enablePan&&vt(ce)}function Ve(ce){r.enableZoom&&Je(ce),r.enableRotate&&nt(ce)}function Q(ce){var Fe,lt;r.enabled!==!1&&(M.length===0&&((Fe=r.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",X),(lt=r.domElement)==null||lt.ownerDocument.addEventListener("pointerup",ye)),_t(ce),ce.pointerType==="touch"?et(ce):ze(ce))}function X(ce){r.enabled!==!1&&(ce.pointerType==="touch"?Pe(ce):Xe(ce))}function ye(ce){var Fe,lt,ae;gt(ce),M.length===0&&((Fe=r.domElement)==null||Fe.releasePointerCapture(ce.pointerId),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",X),(ae=r.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",ye)),r.dispatchEvent(o),l=a.NONE}function ze(ce){let Fe;switch(ce.button){case 0:Fe=r.mouseButtons.LEFT;break;case 1:Fe=r.mouseButtons.MIDDLE;break;case 2:Fe=r.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case bf.DOLLY:if(r.enableZoom===!1)return;he(ce),l=a.DOLLY;break;case bf.ROTATE:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enablePan===!1)return;pe(ce),l=a.PAN}else{if(r.enableRotate===!1)return;oe(ce),l=a.ROTATE}break;case bf.PAN:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enableRotate===!1)return;oe(ce),l=a.ROTATE}else{if(r.enablePan===!1)return;pe(ce),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Xe(ce){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;q(ce);break;case a.DOLLY:if(r.enableZoom===!1)return;Ie(ce);break;case a.PAN:if(r.enablePan===!1)return;ke(ce);break}}function qe(ce){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ce.preventDefault(),r.dispatchEvent(s),xe(ce),r.dispatchEvent(o))}function dt(ce){r.enabled===!1||r.enablePan===!1||Le(ce)}function et(ce){switch(it(ce),M.length){case 1:switch(r.touches.ONE){case _f.ROTATE:if(r.enableRotate===!1)return;we(),l=a.TOUCH_ROTATE;break;case _f.PAN:if(r.enablePan===!1)return;Se(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case _f.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ke(),l=a.TOUCH_DOLLY_PAN;break;case _f.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ye(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Pe(ce){switch(it(ce),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;nt(ce),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;vt(ce),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;rt(ce),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ve(ce),r.update();break;default:l=a.NONE}}function ft(ce){r.enabled!==!1&&ce.preventDefault()}function _t(ce){M.push(ce)}function gt(ce){delete U[ce.pointerId];for(let Fe=0;Fe<M.length;Fe++)if(M[Fe].pointerId==ce.pointerId){M.splice(Fe,1);return}}function it(ce){let Fe=U[ce.pointerId];Fe===void 0&&(Fe=new He,U[ce.pointerId]=Fe),Fe.set(ce.pageX,ce.pageY)}function pt(ce){const Fe=ce.pointerId===M[0].pointerId?M[1]:M[0];return U[Fe.pointerId]}this.dollyIn=(ce=H())=>{le(ce),r.update()},this.dollyOut=(ce=H())=>{Y(ce),r.update()},this.getScale=()=>m,this.setScale=ce=>{G(ce),r.update()},this.getZoomScale=()=>H(),t!==void 0&&this.connect(t),this.update()}};function Jw(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Of="srgb",gc="srgb-linear",QD=3001,Poe=3e3;class mP extends gs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ooe(t)}),this.register(function(t){return new Noe(t)}),this.register(function(t){return new Xoe(t)}),this.register(function(t){return new Joe(t)}),this.register(function(t){return new Koe(t)}),this.register(function(t){return new Uoe(t)}),this.register(function(t){return new zoe(t)}),this.register(function(t){return new Hoe(t)}),this.register(function(t){return new Goe(t)}),this.register(function(t){return new Doe(t)}),this.register(function(t){return new Woe(t)}),this.register(function(t){return new Foe(t)}),this.register(function(t){return new joe(t)}),this.register(function(t){return new Voe(t)}),this.register(function(t){return new Loe(t)}),this.register(function(t){return new $oe(t)}),this.register(function(t){return new Yoe(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Ku.extractUrlBase(e);o=Ku.resolveURL(c,this.path)}else o=Ku.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new xo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Jw(new Uint8Array(e.slice(0,4)))===PH){try{o[mn.KHR_BINARY_GLTF]=new qoe(e)}catch(d){i&&i(d);return}s=JSON.parse(o[mn.KHR_BINARY_GLTF].content)}else s=JSON.parse(Jw(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new uae(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],p=s.extensionsRequired||[];switch(d){case mn.KHR_MATERIALS_UNLIT:o[d]=new koe;break;case mn.KHR_DRACO_MESH_COMPRESSION:o[d]=new Qoe(s,this.dracoLoader);break;case mn.KHR_TEXTURE_TRANSFORM:o[d]=new Zoe;break;case mn.KHR_MESH_QUANTIZATION:o[d]=new eae;break;default:p.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Boe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const mn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Loe{constructor(e){this.parser=e,this.name=mn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new ut(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],gc);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new aP(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new oP(d),c.distance=p;break;case"spot":c=new sP(d),c.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,tc(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class koe{constructor(){this.name=mn.KHR_MATERIALS_UNLIT}getMaterialType(){return uo}extendParams(e,t,r){const i=[];e.color=new ut(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],gc),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Of))}return Promise.all(i)}}class Doe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Ooe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new He(a,a)}return Promise.all(s)}}class Noe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Foe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Uoe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ut(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],gc)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Of)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class zoe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Hoe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ut().setRGB(a[0],a[1],a[2],gc),Promise.all(s)}}class Goe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Woe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ut().setRGB(a[0],a[1],a[2],gc),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Of)),Promise.all(s)}}class Voe{constructor(e){this.parser=e,this.name=mn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class joe{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Xoe{constructor(e){this.parser=e,this.name=mn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Joe{constructor(e){this.parser=e,this.name=mn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Koe{constructor(e){this.parser=e,this.name=mn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class $oe{constructor(e){this.name=mn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,d=i.count,p=i.byteStride,m=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,p,m,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(d*p);return o.decodeGltfBuffer(new Uint8Array(v),d,p,m,i.mode,i.filter),v})})}else return null}}class Yoe{constructor(e){this.name=mn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ho.TRIANGLES&&c.mode!==Ho.TRIANGLE_STRIP&&c.mode!==Ho.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),p=d.isGroup?d.children:[d],m=c[0].count,v=[];for(const y of p){const b=new Ht,w=new $,x=new Ei,A=new $(1,1,1),_=new WI(y.geometry,y.material,m);for(let T=0;T<m;T++)l.TRANSLATION&&w.fromBufferAttribute(l.TRANSLATION,T),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,T),l.SCALE&&A.fromBufferAttribute(l.SCALE,T),_.setMatrixAt(T,b.compose(w,x,A));for(const T in l)if(T==="_COLOR_0"){const R=l[T];_.instanceColor=new lh(R.array,R.itemSize,R.normalized)}else T!=="TRANSLATION"&&T!=="ROTATION"&&T!=="SCALE"&&y.geometry.setAttribute(T,l[T]);wn.prototype.copy.call(_,y),this.parser.assignFinalMaterial(_),v.push(_)}return d.isGroup?(d.clear(),d.add(...v),d):v[0]}))}}const PH="glTF",Ov=12,ZD={JSON:1313821514,BIN:5130562};class qoe{constructor(e){this.name=mn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ov);if(this.header={magic:Jw(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==PH)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ov,i=new DataView(e,Ov);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===ZD.JSON){const l=new Uint8Array(e,Ov+s,o);this.content=Jw(l)}else if(a===ZD.BIN){const l=Ov+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Qoe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=mn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const p=RM[d]||d.toLowerCase();a[p]=o[d]}for(const d in e.attributes){const p=RM[d]||d.toLowerCase();if(o[d]!==void 0){const m=r.accessors[e.attributes[d]],v=Cm[m.componentType];c[p]=v.name,l[p]=m.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(p,m){i.decodeDracoFile(d,function(v){for(const y in v.attributes){const b=v.attributes[y],w=l[y];w!==void 0&&(b.normalized=w)}p(v)},a,c,gc,m)})})}}class Zoe{constructor(){this.name=mn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class eae{constructor(){this.name=mn.KHR_MESH_QUANTIZATION}}class BH extends dg{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=i-t,p=(r-t)/d,m=p*p,v=m*p,y=e*c,b=y-c,w=-2*v+3*m,x=v-m,A=1-w,_=x-m+p;for(let T=0;T!==a;T++){const R=o[b+T+a],P=o[b+T+l]*d,D=o[y+T+a],N=o[y+T]*d;s[T]=A*R+_*P+w*D+x*N}return s}}const tae=new Ei;class nae extends BH{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return tae.fromArray(s).normalize().toArray(s),s}}const Ho={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Cm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},eO={9728:Ir,9729:hr,9984:H0,9985:VS,9986:Sm,9987:bl},tO={33071:Li,33648:Hm,10497:id},sC={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},RM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...woe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},vu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},rae={CUBICSPLINE:void 0,LINEAR:ah,STEP:Wm},oC={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function iae(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Ly({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:xl})),n.DefaultMaterial}function gf(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function tc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function sae(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const p=e[c];if(p.POSITION!==void 0&&(r=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const p=e[c];if(r){const m=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):n.attributes.position;o.push(m)}if(i){const m=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):n.attributes.normal;a.push(m)}if(s){const m=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):n.attributes.color;l.push(m)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],p=c[1],m=c[2];return r&&(n.morphAttributes.position=d),i&&(n.morphAttributes.normal=p),s&&(n.morphAttributes.color=m),n.morphTargetsRelative=!0,n})}function oae(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function aae(n){let e;const t=n.extensions&&n.extensions[mn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+aC(t.attributes):e=n.indices+":"+aC(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+aC(n.targets[r]);return e}function aC(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function IM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function lae(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const cae=new Ht;class uae{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Boe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new K4(this.options.manager):this.textureLoader=new tH(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new xo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return gf(s,a,i),tc(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[mn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ku.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=sC[i.type],a=Cm[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Tn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=sC[i.type],c=Cm[i.componentType],d=c.BYTES_PER_ELEMENT,p=d*l,m=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let b,w;if(v&&v!==p){const x=Math.floor(m/v),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let _=t.cache.get(A);_||(b=new c(a,x*v,i.count*v/d),_=new xy(b,v/d),t.cache.add(A,_)),w=new sd(_,l,m%v/d,y)}else a===null?b=new c(i.count*l):b=new c(a,m,i.count*l),w=new Tn(b,l,y);if(i.sparse!==void 0){const x=sC.SCALAR,A=Cm[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,T=i.sparse.values.byteOffset||0,R=new A(o[1],_,i.sparse.count*x),P=new c(o[2],T,i.sparse.count*l);a!==null&&(w=new Tn(w.array.slice(),w.itemSize,w.normalized));for(let D=0,N=R.length;D<N;D++){const L=R[D];if(w.setX(L,P[D*l]),l>=2&&w.setY(L,P[D*l+1]),l>=3&&w.setZ(L,P[D*l+2]),l>=4&&w.setW(L,P[D*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return w})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const m=(s.samplers||{})[o.sampler]||{};return d.magFilter=eO[m.magFilter]||hr,d.minFilter=eO[m.minFilter]||bl,d.wrapS=tO[m.wrapS]||id,d.wrapT=tO[m.wrapT]||id,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(p){c=!0;const m=new Blob([p],{type:o.mimeType});return l=a.createObjectURL(m),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(p){return new Promise(function(m,v){let y=m;t.isImageBitmapLoader===!0&&(y=function(b){const w=new gr(b);w.needsUpdate=!0,m(w)}),t.load(Ku.resolveURL(p,s.path),y,void 0,v)})}).then(function(p){return c===!0&&a.revokeObjectURL(l),tc(p,o),p.userData.mimeType=o.mimeType||lae(o.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=d,d}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[mn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[mn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[mn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===QD?Of:gc),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Of?QD:Poe),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new QS,ai.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Yi,ai.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Ly}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[mn.KHR_MATERIALS_UNLIT]){const p=i[mn.KHR_MATERIALS_UNLIT];o=p.getMaterialType(),c.push(p.extendParams(a,s,t))}else{const p=s.pbrMetallicRoughness||{};if(a.color=new ut(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){const m=p.baseColorFactor;a.color.setRGB(m[0],m[1],m[2],gc),a.opacity=m[3]}p.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",p.baseColorTexture,Of)),a.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,a.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),o=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ea);const d=s.alphaMode||oC.OPAQUE;if(d===oC.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===oC.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==uo&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new He(1,1),s.normalTexture.scale!==void 0)){const p=s.normalTexture.scale;a.normalScale.set(p,p)}if(s.occlusionTexture!==void 0&&o!==uo&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==uo){const p=s.emissiveFactor;a.emissive=new ut().setRGB(p[0],p[1],p[2],gc)}return s.emissiveTexture!==void 0&&o!==uo&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Of)),Promise.all(c).then(function(){const p=new o(a);return s.name&&(p.name=s.name),tc(p,s),t.associations.set(p,{materials:e}),s.extensions&&gf(i,p,s),p})}createUniqueName(e){const t=_n.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[mn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return nO(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=aae(c),p=i[d];if(p)o.push(p.promise);else{let m;c.extensions&&c.extensions[mn.KHR_DRACO_MESH_COMPRESSION]?m=s(c):m=nO(new nn,c,t),i[d]={primitive:c,promise:m},o.push(m)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?iae(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],p=[];for(let v=0,y=d.length;v<y;v++){const b=d[v],w=o[v];let x;const A=c[v];if(w.mode===Ho.TRIANGLES||w.mode===Ho.TRIANGLE_STRIP||w.mode===Ho.TRIANGLE_FAN||w.mode===void 0)x=s.isSkinnedMesh===!0?new GI(b,A):new Si(b,A),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),w.mode===Ho.TRIANGLE_STRIP?x.geometry=$D(x.geometry,MI):w.mode===Ho.TRIANGLE_FAN&&(x.geometry=$D(x.geometry,Ww));else if(w.mode===Ho.LINES)x=new Da(b,A);else if(w.mode===Ho.LINE_STRIP)x=new Ec(b,A);else if(w.mode===Ho.LINE_LOOP)x=new VI(b,A);else if(w.mode===Ho.POINTS)x=new jI(b,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+w.mode);Object.keys(x.geometry.morphAttributes).length>0&&oae(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),tc(x,s),w.extensions&&gf(i,x,w),t.assignFinalMaterial(x),p.push(x)}for(let v=0,y=p.length;v<y;v++)t.associations.set(p[v],{meshes:e,primitives:v});if(p.length===1)return s.extensions&&gf(i,p[0],s),p[0];const m=new uc;s.extensions&&gf(i,m,s),t.associations.set(m,{meshes:e});for(let v=0,y=p.length;v<y;v++)m.add(p[v]);return m})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Br(dm.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new mc(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),tc(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const p=o[c];if(p){a.push(p);const m=new Ht;s!==null&&m.fromArray(s.array,c*16),l.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new by(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],d=[];for(let p=0,m=i.channels.length;p<m;p++){const v=i.channels[p],y=i.samplers[v.sampler],b=v.target,w=b.node,x=i.parameters!==void 0?i.parameters[y.input]:y.input,A=i.parameters!==void 0?i.parameters[y.output]:y.output;b.node!==void 0&&(o.push(this.getDependency("node",w)),a.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",A)),c.push(y),d.push(b))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(p){const m=p[0],v=p[1],y=p[2],b=p[3],w=p[4],x=[];for(let A=0,_=m.length;A<_;A++){const T=m[A],R=v[A],P=y[A],D=b[A],N=w[A];if(T===void 0)continue;T.updateMatrix&&T.updateMatrix();const L=r._createAnimationTracks(T,R,P,D,N);if(L)for(let M=0;M<L.length;M++)x.push(L[M])}return new Xm(s,void 0,x)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,d=a.length;c<d;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const d=c[0],p=c[1],m=c[2];m!==null&&d.traverse(function(v){v.isSkinnedMesh&&v.bind(m,cae)});for(let v=0,y=p.length;v<y;v++)d.add(p[v]);return d})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(s.isBone===!0?d=new qS:c.length>1?d=new uc:c.length===1?d=c[0]:d=new wn,d!==c[0])for(let p=0,m=c.length;p<m;p++)d.add(c[p]);if(s.name&&(d.userData.name=s.name,d.name=o),tc(d,s),s.extensions&&gf(r,d,s),s.matrix!==void 0){const p=new Ht;p.fromArray(s.matrix),d.applyMatrix4(p)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new uc;r.name&&(s.name=i.createUniqueName(r.name)),tc(s,r),r.extensions&&gf(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,p=l.length;d<p;d++)s.add(l[d]);const c=d=>{const p=new Map;for(const[m,v]of i.associations)(m instanceof ai||m instanceof gr)&&p.set(m,v);return d.traverse(m=>{const v=i.associations.get(m);v!=null&&p.set(m,v)}),p};return i.associations=c(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];vu[s.path]===vu.weights?e.traverse(function(m){m.morphTargetInfluences&&l.push(m.name?m.name:m.uuid)}):l.push(a);let c;switch(vu[s.path]){case vu.weights:c=uh;break;case vu.rotation:c=od;break;case vu.position:case vu.scale:c=dh;break;default:switch(r.itemSize){case 1:c=uh;break;case 2:case 3:default:c=dh;break}break}const d=i.interpolation!==void 0?rae[i.interpolation]:ah,p=this._getArrayFromAccessor(r);for(let m=0,v=l.length;m<v;m++){const y=new c(l[m]+"."+vu[s.path],t.array,p,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=IM(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof od?nae:BH;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function dae(n,e,t){const r=e.attributes,i=new Qo;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new $(l[0],l[1],l[2]),new $(c[0],c[1],c[2])),a.normalized){const d=IM(Cm[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new $,l=new $;for(let c=0,d=s.length;c<d;c++){const p=s[c];if(p.POSITION!==void 0){const m=t.json.accessors[p.POSITION],v=m.min,y=m.max;if(v!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),m.normalized){const b=IM(Cm[m.componentType]);l.multiplyScalar(b)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new ka;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function nO(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=RM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return tc(n,e),dae(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?sae(n,e.targets,t):n})}const lC=new WeakMap;class fae extends gs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new xo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(lC.has(e)){const l=lC.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,d)=>{i._callbacks[s]={resolve:c,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),lC.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new nn;e.index&&t.setIndex(new Tn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Tn(o,a))}return t}_loadLibrary(e,t){const r=new xo(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=hae.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function hae(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(p){d({draco:p})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const p=d.draco,m=new p.Decoder,v=new p.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const y=t(p,m,v,c),b=y.attributes.map(w=>w.array.buffer);y.index&&b.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},b)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{p.destroy(v),p.destroy(m)}});break}};function t(o,a,l,c){const d=c.attributeIDs,p=c.attributeTypes;let m,v;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)m=new o.Mesh,v=a.DecodeBufferToMesh(l,m);else if(y===o.POINT_CLOUD)m=new o.PointCloud,v=a.DecodeBufferToPointCloud(l,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const b={index:null,attributes:[]};for(const w in d){const x=self[p[w]];let A,_;if(c.useUniqueIDs)_=d[w],A=a.GetAttributeByUniqueId(m,_);else{if(_=a.GetAttributeId(m,o[d[w]]),_===-1)continue;A=a.GetAttribute(m,_)}b.attributes.push(i(o,a,m,w,x,A))}return y===o.TRIANGULAR_MESH&&(b.index=r(o,a,m)),o.destroy(m),b}function r(o,a,l){const d=l.num_faces()*3,p=d*4,m=o._malloc(p);a.GetTrianglesUInt32Array(l,p,m);const v=new Uint32Array(o.HEAPF32.buffer,m,d).slice();return o._free(m),{array:v,itemSize:1}}function i(o,a,l,c,d,p){const m=p.num_components(),y=l.num_points()*m,b=y*d.BYTES_PER_ELEMENT,w=s(o,d),x=o._malloc(b);a.GetAttributeDataArrayForAllPoints(l,p,w,b,x);const A=new d(o.HEAPF32.buffer,x,y).slice();return o._free(x),{name:c,array:A,itemSize:m}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let x_;const cC=()=>{if(x_)return x_;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(p=>{s=p.instance,s.exports.__wasm_call_ctors()});function a(p){const m=new Uint8Array(p.length);for(let y=0;y<p.length;++y){const b=p.charCodeAt(y);m[y]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let v=0;for(let y=0;y<p.length;++y)m[v++]=m[y]<60?r[m[y]]:(m[y]-60)*64+m[++y];return m.buffer.slice(0,v)}function l(p,m,v,y,b,w){const x=s.exports.sbrk,A=v+3&-4,_=x(A*y),T=x(b.length),R=new Uint8Array(s.exports.memory.buffer);R.set(b,T);const P=p(_,v,y,T,b.length);if(P===0&&w&&w(_,A,y),m.set(R.subarray(_,_+v*y)),x(_-x(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return x_={ready:o,supported:!0,decodeVertexBuffer(p,m,v,y,b){l(s.exports.meshopt_decodeVertexBuffer,p,m,v,y,s.exports[c[b]])},decodeIndexBuffer(p,m,v,y){l(s.exports.meshopt_decodeIndexBuffer,p,m,v,y)},decodeIndexSequence(p,m,v,y){l(s.exports.meshopt_decodeIndexSequence,p,m,v,y)},decodeGltfBuffer(p,m,v,y,b,w){l(s.exports[d[b]],p,m,v,y,s.exports[c[w]])}},x_},T0e=k.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const d=xu(T=>T.invalidate),p=xu(T=>T.camera),m=xu(T=>T.gl),v=xu(T=>T.events),y=xu(T=>T.set),b=xu(T=>T.get),w=xu(T=>T.performance),x=e||p,A=r||v.connected||m.domElement,_=k.useMemo(()=>new Ioe(x),[x]);return AH(()=>{_.enabled&&_.update()}),k.useEffect(()=>(_.connect(A),()=>void _.dispose()),[A,t,_,d]),k.useEffect(()=>{const T=R=>{d(),t&&w.regress(),s&&s(R)};return _.addEventListener("change",T),o&&_.addEventListener("start",o),a&&_.addEventListener("end",a),()=>{o&&_.removeEventListener("start",o),a&&_.removeEventListener("end",a),_.removeEventListener("change",T)}},[s,o,a]),k.useEffect(()=>{if(n){const T=b().controls;return y({controls:_}),()=>y({controls:T})}},[n,_]),k.createElement("primitive",Xw({ref:c,object:_,enableDamping:i},l))});let b_=null;function LH(n,e,t){return r=>{t&&t(r),n&&(b_||(b_=new fae),b_.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(b_)),e&&r.setMeshoptDecoder(typeof cC=="function"?cC():cC)}}function kH(n,e=!0,t=!0,r){return Dy(mP,n,LH(e,t,r))}kH.preload=(n,e=!0,t=!0,r)=>Dy.preload(mP,n,LH(e,t,r));kH.clear=n=>Dy.clear(mP,n);const Fp=n=>n&&n.isOrthographicCamera,pae=n=>n&&n.isBox3,mae=k.createContext(null);function M0e({children:n,damping:e=6,fit:t,clip:r,observe:i,margin:s=1.2,eps:o=.01,onFit:a}){const l=k.useRef(null),{camera:c,invalidate:d,size:p,controls:m}=xu(),v=k.useRef(a);v.current=a;function y(R,P){return Math.abs(R.x-P.x)<o&&Math.abs(R.y-P.y)<o&&Math.abs(R.z-P.z)<o}function b(R,P,D,N){R.x=dm.damp(R.x,P.x,D,N),R.y=dm.damp(R.y,P.y,D,N),R.z=dm.damp(R.z,P.z,D,N)}const[w]=k.useState(()=>({animating:!1,focus:new $,camera:new $,zoom:1})),[x]=k.useState(()=>({focus:new $,camera:new $,zoom:1})),[A]=k.useState(()=>new Qo),_=k.useMemo(()=>{function R(){const P=A.getSize(new $),D=A.getCenter(new $),N=Math.max(P.x,P.y,P.z),L=Fp(c)?N*4:N/(2*Math.atan(Math.PI*c.fov/360)),M=Fp(c)?N*4:L/c.aspect,U=s*Math.max(L,M);return{box:A,size:P,center:D,distance:U}}return{getSize:R,refresh(P){if(pae(P))A.copy(P);else{const D=P||l.current;D.updateWorldMatrix(!0,!0),A.setFromObject(D)}if(A.isEmpty()){const D=c.position.length()||10;A.setFromCenterAndSize(new $,new $(D,D,D))}if((m==null?void 0:m.constructor.name)==="OrthographicTrackballControls"){const{distance:D}=R(),N=c.position.clone().sub(m.target).normalize().multiplyScalar(D),L=m.target.clone().add(N);c.position.copy(L)}return this},clip(){const{distance:P}=R();return m&&(m.maxDistance=P*10),c.near=P/100,c.far=P*100,c.updateProjectionMatrix(),m&&m.update(),d(),this},fit(){w.camera.copy(c.position),m&&w.focus.copy(m.target);const{center:P,distance:D}=R(),N=P.clone().sub(c.position).normalize().multiplyScalar(D);if(x.camera.copy(P).sub(N),x.focus.copy(P),Fp(c)){w.zoom=c.zoom;let L=0,M=0;const U=[new $(A.min.x,A.min.y,A.min.z),new $(A.min.x,A.max.y,A.min.z),new $(A.min.x,A.min.y,A.max.z),new $(A.min.x,A.max.y,A.max.z),new $(A.max.x,A.max.y,A.max.z),new $(A.max.x,A.max.y,A.min.z),new $(A.max.x,A.min.y,A.max.z),new $(A.max.x,A.min.y,A.min.z)];P.applyMatrix4(c.matrixWorldInverse);for(const j of U)j.applyMatrix4(c.matrixWorldInverse),L=Math.max(L,Math.abs(j.y-P.y)),M=Math.max(M,Math.abs(j.x-P.x));L*=2,M*=2;const V=(c.top-c.bottom)/L,H=(c.right-c.left)/M;x.zoom=Math.min(V,H)/s,e||(c.zoom=x.zoom,c.updateProjectionMatrix())}return e?w.animating=!0:(c.position.copy(x.camera),c.lookAt(x.focus),m&&(m.target.copy(x.focus),m.update())),v.current&&v.current(this.getSize()),d(),this}}},[A,c,m,s,e,d]);k.useLayoutEffect(()=>{if(m){const R=()=>w.animating=!1;return m.addEventListener("start",R),()=>m.removeEventListener("start",R)}},[m]);const T=k.useRef(0);return k.useLayoutEffect(()=>{(i||T.current++===0)&&(_.refresh(),t&&_.fit(),r&&_.clip())},[p,r,t,i]),AH((R,P)=>{if(w.animating){if(b(w.focus,x.focus,e,P),b(w.camera,x.camera,e,P),w.zoom=dm.damp(w.zoom,x.zoom,e,P),c.position.copy(w.camera),Fp(c)&&(c.zoom=w.zoom,c.updateProjectionMatrix()),m?(m.target.copy(w.focus),m.update()):c.lookAt(w.focus),d(),Fp(c)&&!(Math.abs(w.zoom-x.zoom)<o)||!Fp(c)&&!y(w.camera,x.camera)||m&&!y(w.focus,x.focus))return;w.animating=!1}}),k.createElement("group",{ref:l},k.createElement(mae.Provider,{value:_},n))}function i1(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,t&&t[c]&&(o+=" "+t[c]))}r[i]=o}return r}function gae(n){return typeof n=="string"}function hh(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function DH(n){if(typeof n!="string")throw new Error(hh(7));return n.charAt(0).toUpperCase()+n.slice(1)}var OH={exports:{}},$n={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=Symbol.for("react.transitional.element"),vP=Symbol.for("react.portal"),s1=Symbol.for("react.fragment"),o1=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),l1=Symbol.for("react.consumer"),c1=Symbol.for("react.context"),u1=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),p1=Symbol.for("react.lazy"),vae=Symbol.for("react.view_transition"),yae=Symbol.for("react.client.reference");function ea(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case gP:switch(n=n.type,n){case s1:case a1:case o1:case d1:case f1:case vae:return n;default:switch(n=n&&n.$$typeof,n){case c1:case u1:case p1:case h1:return n;case l1:return n;default:return e}}case vP:return e}}}$n.ContextConsumer=l1;$n.ContextProvider=c1;$n.Element=gP;$n.ForwardRef=u1;$n.Fragment=s1;$n.Lazy=p1;$n.Memo=h1;$n.Portal=vP;$n.Profiler=a1;$n.StrictMode=o1;$n.Suspense=d1;$n.SuspenseList=f1;$n.isContextConsumer=function(n){return ea(n)===l1};$n.isContextProvider=function(n){return ea(n)===c1};$n.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===gP};$n.isForwardRef=function(n){return ea(n)===u1};$n.isFragment=function(n){return ea(n)===s1};$n.isLazy=function(n){return ea(n)===p1};$n.isMemo=function(n){return ea(n)===h1};$n.isPortal=function(n){return ea(n)===vP};$n.isProfiler=function(n){return ea(n)===a1};$n.isStrictMode=function(n){return ea(n)===o1};$n.isSuspense=function(n){return ea(n)===d1};$n.isSuspenseList=function(n){return ea(n)===f1};$n.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===s1||n===a1||n===o1||n===d1||n===f1||typeof n=="object"&&n!==null&&(n.$$typeof===p1||n.$$typeof===h1||n.$$typeof===c1||n.$$typeof===l1||n.$$typeof===u1||n.$$typeof===yae||n.getModuleId!==void 0)};$n.typeOf=ea;OH.exports=$n;var NH=OH.exports;function oc(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function FH(n){if(k.isValidElement(n)||NH.isValidElementType(n)||!oc(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=FH(n[t])}),e}function po(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return oc(n)&&oc(e)&&Object.keys(e).forEach(i=>{k.isValidElement(e[i])||NH.isValidElementType(e[i])?r[i]=e[i]:oc(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&oc(n[i])?r[i]=po(n[i],e[i],t):t.clone?r[i]=oc(e[i])?FH(e[i]):e[i]:r[i]=e[i]}),r}function f0(n,e){return e?po(n,e,{clone:!1}):n}function rO(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function xae(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function bae(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function _ae(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...a)=>e(n.breakpoints.up(...a),o),s.down=(...a)=>e(n.breakpoints.down(...a),o),s.between=(...a)=>e(n.breakpoints.between(...a),o),s.only=(...a)=>e(n.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(n.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const m1={xs:0,sm:600,md:900,lg:1200,xl:1536},iO={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${m1[n]}px)`},wae={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:m1[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Cc(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||iO;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||iO;return Object.keys(e).reduce((o,a)=>{if(xae(s.keys,a)){const l=bae(r.containerQueries?r:wae,a);l&&(o[l]=t(e[a],a))}else if(Object.keys(s.values||m1).includes(a)){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function Sae(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function sO(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function g1(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Kw(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=g1(n,t)||r,e&&(i=e(i,r,n)),i}function Gr(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=g1(l,r)||{};return Cc(o,a,p=>{let m=Kw(c,i,p);return p===m&&typeof p=="string"&&(m=Kw(c,i,`${e}${p==="default"?"":DH(p)}`,p)),t===!1?m:{[t]:m}})};return s.propTypes={},s.filterProps=[e],s}function Aae(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Eae={m:"margin",p:"padding"},Cae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},oO={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Tae=Aae(n=>{if(n.length>2)if(oO[n])n=oO[n];else return[n];const[e,t]=n.split(""),r=Eae[e],i=Cae[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),yP=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xP=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...yP,...xP];function Oy(n,e,t,r){const i=g1(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function bP(n){return Oy(n,"spacing",8)}function Ny(n,e){return typeof e=="string"||e==null?e:n(e)}function Mae(n,e){return t=>n.reduce((r,i)=>(r[i]=Ny(e,t),r),{})}function Rae(n,e,t,r){if(!e.includes(t))return null;const i=Tae(t),s=Mae(i,r),o=n[t];return Cc(n,o,s)}function UH(n,e){const t=bP(n.theme);return Object.keys(n).map(r=>Rae(n,e,r,t)).reduce(f0,{})}function Tr(n){return UH(n,yP)}Tr.propTypes={};Tr.filterProps=yP;function Mr(n){return UH(n,xP)}Mr.propTypes={};Mr.filterProps=xP;function v1(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?f0(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function jo(n){return typeof n!="number"?n:`${n}px solid`}function ta(n,e){return Gr({prop:n,themeKey:"borders",transform:e})}const Iae=ta("border",jo),Pae=ta("borderTop",jo),Bae=ta("borderRight",jo),Lae=ta("borderBottom",jo),kae=ta("borderLeft",jo),Dae=ta("borderColor"),Oae=ta("borderTopColor"),Nae=ta("borderRightColor"),Fae=ta("borderBottomColor"),Uae=ta("borderLeftColor"),zae=ta("outline",jo),Hae=ta("outlineColor"),y1=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Oy(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ny(e,r)});return Cc(n,n.borderRadius,t)}return null};y1.propTypes={};y1.filterProps=["borderRadius"];v1(Iae,Pae,Bae,Lae,kae,Dae,Oae,Nae,Fae,Uae,y1,zae,Hae);const x1=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Oy(n.theme,"spacing",8),t=r=>({gap:Ny(e,r)});return Cc(n,n.gap,t)}return null};x1.propTypes={};x1.filterProps=["gap"];const b1=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Oy(n.theme,"spacing",8),t=r=>({columnGap:Ny(e,r)});return Cc(n,n.columnGap,t)}return null};b1.propTypes={};b1.filterProps=["columnGap"];const _1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Oy(n.theme,"spacing",8),t=r=>({rowGap:Ny(e,r)});return Cc(n,n.rowGap,t)}return null};_1.propTypes={};_1.filterProps=["rowGap"];const Gae=Gr({prop:"gridColumn"}),Wae=Gr({prop:"gridRow"}),Vae=Gr({prop:"gridAutoFlow"}),jae=Gr({prop:"gridAutoColumns"}),Xae=Gr({prop:"gridAutoRows"}),Jae=Gr({prop:"gridTemplateColumns"}),Kae=Gr({prop:"gridTemplateRows"}),$ae=Gr({prop:"gridTemplateAreas"}),Yae=Gr({prop:"gridArea"});v1(x1,b1,_1,Gae,Wae,Vae,jae,Xae,Jae,Kae,$ae,Yae);function Tm(n,e){return e==="grey"?e:n}const qae=Gr({prop:"color",themeKey:"palette",transform:Tm}),Qae=Gr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Tm}),Zae=Gr({prop:"backgroundColor",themeKey:"palette",transform:Tm});v1(qae,Qae,Zae);function ao(n){return n<=1&&n!==0?`${n*100}%`:n}const ele=Gr({prop:"width",transform:ao}),_P=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,o,a,l;const r=((o=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[t])||m1[t];return r?((l=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ao(t)}};return Cc(n,n.maxWidth,e)}return null};_P.filterProps=["maxWidth"];const tle=Gr({prop:"minWidth",transform:ao}),nle=Gr({prop:"height",transform:ao}),rle=Gr({prop:"maxHeight",transform:ao}),ile=Gr({prop:"minHeight",transform:ao});Gr({prop:"size",cssProperty:"width",transform:ao});Gr({prop:"size",cssProperty:"height",transform:ao});const sle=Gr({prop:"boxSizing"});v1(ele,_P,tle,nle,rle,ile,sle);const w1={border:{themeKey:"borders",transform:jo},borderTop:{themeKey:"borders",transform:jo},borderRight:{themeKey:"borders",transform:jo},borderBottom:{themeKey:"borders",transform:jo},borderLeft:{themeKey:"borders",transform:jo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:jo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:y1},color:{themeKey:"palette",transform:Tm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Tm},backgroundColor:{themeKey:"palette",transform:Tm},p:{style:Mr},pt:{style:Mr},pr:{style:Mr},pb:{style:Mr},pl:{style:Mr},px:{style:Mr},py:{style:Mr},padding:{style:Mr},paddingTop:{style:Mr},paddingRight:{style:Mr},paddingBottom:{style:Mr},paddingLeft:{style:Mr},paddingX:{style:Mr},paddingY:{style:Mr},paddingInline:{style:Mr},paddingInlineStart:{style:Mr},paddingInlineEnd:{style:Mr},paddingBlock:{style:Mr},paddingBlockStart:{style:Mr},paddingBlockEnd:{style:Mr},m:{style:Tr},mt:{style:Tr},mr:{style:Tr},mb:{style:Tr},ml:{style:Tr},mx:{style:Tr},my:{style:Tr},margin:{style:Tr},marginTop:{style:Tr},marginRight:{style:Tr},marginBottom:{style:Tr},marginLeft:{style:Tr},marginX:{style:Tr},marginY:{style:Tr},marginInline:{style:Tr},marginInlineStart:{style:Tr},marginInlineEnd:{style:Tr},marginBlock:{style:Tr},marginBlockStart:{style:Tr},marginBlockEnd:{style:Tr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x1},rowGap:{style:_1},columnGap:{style:b1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ao},maxWidth:{style:_P},minWidth:{transform:ao},height:{transform:ao},maxHeight:{transform:ao},minHeight:{transform:ao},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ole(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function ale(n,e){return typeof n=="function"?n(e):n}function lle(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:d,style:p}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const m=g1(i,c)||{};return p?p(o):Cc(o,r,y=>{let b=Kw(m,d,y);return y===b&&typeof y=="string"&&(b=Kw(m,d,`${t}${y==="default"?"":DH(y)}`,y)),l===!1?b:{[l]:b}})}function e(t){const{sx:r,theme:i={},nested:s}=t||{};if(!r)return null;const o=i.unstable_sxConfig??w1;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const d=Sae(i.breakpoints),p=Object.keys(d);let m=d;return Object.keys(c).forEach(v=>{const y=ale(c[v],i);if(y!=null)if(typeof y=="object")if(o[v])m=f0(m,n(v,y,i,o));else{const b=Cc({theme:i},y,w=>({[v]:w}));ole(b,y)?m[v]=e({sx:y,theme:i,nested:!0}):m=f0(m,b)}else m=f0(m,n(v,y,i,o))}),!s&&i.modularCssLayers?{"@layer sx":rO(i,sO(p,m))}:rO(i,sO(p,m))}return Array.isArray(r)?r.map(a):a(r)}return e}const Km=lle();Km.filterProps=["sx"];function cle(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function ule(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dle=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ule(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=cle(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ji="-ms-",$w="-moz-",In="-webkit-",zH="comm",wP="rule",SP="decl",fle="@import",HH="@keyframes",hle="@layer",ple=Math.abs,S1=String.fromCharCode,mle=Object.assign;function gle(n,e){return Bi(n,0)^45?(((e<<2^Bi(n,0))<<2^Bi(n,1))<<2^Bi(n,2))<<2^Bi(n,3):0}function GH(n){return n.trim()}function vle(n,e){return(n=e.exec(n))?n[0]:n}function Pn(n,e,t){return n.replace(e,t)}function PM(n,e){return n.indexOf(e)}function Bi(n,e){return n.charCodeAt(e)|0}function Y0(n,e,t){return n.slice(e,t)}function al(n){return n.length}function AP(n){return n.length}function __(n,e){return e.push(n),n}function yle(n,e){return n.map(e).join("")}var A1=1,$m=1,WH=0,zs=0,$r=0,fg="";function E1(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:A1,column:$m,length:o,return:""}}function Nv(n,e){return mle(E1("",null,null,"",null,null,0),n,{length:-n.length},e)}function xle(){return $r}function ble(){return $r=zs>0?Bi(fg,--zs):0,$m--,$r===10&&($m=1,A1--),$r}function mo(){return $r=zs<WH?Bi(fg,zs++):0,$m++,$r===10&&($m=1,A1++),$r}function gl(){return Bi(fg,zs)}function Y_(){return zs}function Fy(n,e){return Y0(fg,n,e)}function q0(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VH(n){return A1=$m=1,WH=al(fg=n),zs=0,[]}function jH(n){return fg="",n}function q_(n){return GH(Fy(zs-1,BM(n===91?n+2:n===40?n+1:n)))}function _le(n){for(;($r=gl())&&$r<33;)mo();return q0(n)>2||q0($r)>3?"":" "}function wle(n,e){for(;--e&&mo()&&!($r<48||$r>102||$r>57&&$r<65||$r>70&&$r<97););return Fy(n,Y_()+(e<6&&gl()==32&&mo()==32))}function BM(n){for(;mo();)switch($r){case n:return zs;case 34:case 39:n!==34&&n!==39&&BM($r);break;case 40:n===41&&BM(n);break;case 92:mo();break}return zs}function Sle(n,e){for(;mo()&&n+$r!==57;)if(n+$r===84&&gl()===47)break;return"/*"+Fy(e,zs-1)+"*"+S1(n===47?n:mo())}function Ale(n){for(;!q0(gl());)mo();return Fy(n,zs)}function Ele(n){return jH(Q_("",null,null,null,[""],n=VH(n),0,[0],n))}function Q_(n,e,t,r,i,s,o,a,l){for(var c=0,d=0,p=o,m=0,v=0,y=0,b=1,w=1,x=1,A=0,_="",T=i,R=s,P=r,D=_;w;)switch(y=A,A=mo()){case 40:if(y!=108&&Bi(D,p-1)==58){PM(D+=Pn(q_(A),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=q_(A);break;case 9:case 10:case 13:case 32:D+=_le(y);break;case 92:D+=wle(Y_()-1,7);continue;case 47:switch(gl()){case 42:case 47:__(Cle(Sle(mo(),Y_()),e,t),l);break;default:D+="/"}break;case 123*b:a[c++]=al(D)*x;case 125*b:case 59:case 0:switch(A){case 0:case 125:w=0;case 59+d:x==-1&&(D=Pn(D,/\f/g,"")),v>0&&al(D)-p&&__(v>32?lO(D+";",r,t,p-1):lO(Pn(D," ","")+";",r,t,p-2),l);break;case 59:D+=";";default:if(__(P=aO(D,e,t,c,d,i,a,_,T=[],R=[],p),s),A===123)if(d===0)Q_(D,e,P,P,T,s,p,a,R);else switch(m===99&&Bi(D,3)===110?100:m){case 100:case 108:case 109:case 115:Q_(n,P,P,r&&__(aO(n,P,P,0,0,i,a,_,i,T=[],p),R),i,R,p,a,r?T:R);break;default:Q_(D,P,P,P,[""],R,0,a,R)}}c=d=v=0,b=x=1,_=D="",p=o;break;case 58:p=1+al(D),v=y;default:if(b<1){if(A==123)--b;else if(A==125&&b++==0&&ble()==125)continue}switch(D+=S1(A),A*b){case 38:x=d>0?1:(D+="\f",-1);break;case 44:a[c++]=(al(D)-1)*x,x=1;break;case 64:gl()===45&&(D+=q_(mo())),m=gl(),d=p=al(_=D+=Ale(Y_())),A++;break;case 45:y===45&&al(D)==2&&(b=0)}}return s}function aO(n,e,t,r,i,s,o,a,l,c,d){for(var p=i-1,m=i===0?s:[""],v=AP(m),y=0,b=0,w=0;y<r;++y)for(var x=0,A=Y0(n,p+1,p=ple(b=o[y])),_=n;x<v;++x)(_=GH(b>0?m[x]+" "+A:Pn(A,/&\f/g,m[x])))&&(l[w++]=_);return E1(n,e,t,i===0?wP:a,l,c,d)}function Cle(n,e,t){return E1(n,e,t,zH,S1(xle()),Y0(n,2,-2),0)}function lO(n,e,t,r){return E1(n,e,t,SP,Y0(n,0,r),Y0(n,r+1,-1),r)}function Mm(n,e){for(var t="",r=AP(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Tle(n,e,t,r){switch(n.type){case hle:if(n.children.length)break;case fle:case SP:return n.return=n.return||n.value;case zH:return"";case HH:return n.return=n.value+"{"+Mm(n.children,r)+"}";case wP:n.value=n.props.join(",")}return al(t=Mm(n.children,r))?n.return=n.value+"{"+t+"}":""}function Mle(n){var e=AP(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function Rle(n){return function(e){e.root||(e=e.return)&&n(e)}}function XH(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Ile=function(e,t,r){for(var i=0,s=0;i=s,s=gl(),i===38&&s===12&&(t[r]=1),!q0(s);)mo();return Fy(e,zs)},Ple=function(e,t){var r=-1,i=44;do switch(q0(i)){case 0:i===38&&gl()===12&&(t[r]=1),e[r]+=Ile(zs-1,t,r);break;case 2:e[r]+=q_(i);break;case 4:if(i===44){e[++r]=gl()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=S1(i)}while(i=mo());return e},Ble=function(e,t){return jH(Ple(VH(e),t))},cO=new WeakMap,Lle=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!cO.get(r))&&!i){cO.set(e,!0);for(var s=[],o=Ble(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},kle=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function JH(n,e){switch(gle(n,e)){case 5103:return In+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return In+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return In+n+$w+n+ji+n+n;case 6828:case 4268:return In+n+ji+n+n;case 6165:return In+n+ji+"flex-"+n+n;case 5187:return In+n+Pn(n,/(\w+).+(:[^]+)/,In+"box-$1$2"+ji+"flex-$1$2")+n;case 5443:return In+n+ji+"flex-item-"+Pn(n,/flex-|-self/,"")+n;case 4675:return In+n+ji+"flex-line-pack"+Pn(n,/align-content|flex-|-self/,"")+n;case 5548:return In+n+ji+Pn(n,"shrink","negative")+n;case 5292:return In+n+ji+Pn(n,"basis","preferred-size")+n;case 6060:return In+"box-"+Pn(n,"-grow","")+In+n+ji+Pn(n,"grow","positive")+n;case 4554:return In+Pn(n,/([^-])(transform)/g,"$1"+In+"$2")+n;case 6187:return Pn(Pn(Pn(n,/(zoom-|grab)/,In+"$1"),/(image-set)/,In+"$1"),n,"")+n;case 5495:case 3959:return Pn(n,/(image-set\([^]*)/,In+"$1$`$1");case 4968:return Pn(Pn(n,/(.+:)(flex-)?(.*)/,In+"box-pack:$3"+ji+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+In+n+n;case 4095:case 3583:case 4068:case 2532:return Pn(n,/(.+)-inline(.+)/,In+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(al(n)-1-e>6)switch(Bi(n,e+1)){case 109:if(Bi(n,e+4)!==45)break;case 102:return Pn(n,/(.+:)(.+)-([^]+)/,"$1"+In+"$2-$3$1"+$w+(Bi(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~PM(n,"stretch")?JH(Pn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Bi(n,e+1)!==115)break;case 6444:switch(Bi(n,al(n)-3-(~PM(n,"!important")&&10))){case 107:return Pn(n,":",":"+In)+n;case 101:return Pn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+In+(Bi(n,14)===45?"inline-":"")+"box$3$1"+In+"$2$3$1"+ji+"$2box$3")+n}break;case 5936:switch(Bi(n,e+11)){case 114:return In+n+ji+Pn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return In+n+ji+Pn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return In+n+ji+Pn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return In+n+ji+n+n}return n}var Dle=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case SP:e.return=JH(e.value,e.length);break;case HH:return Mm([Nv(e,{value:Pn(e.value,"@","@"+In)})],i);case wP:if(e.length)return yle(e.props,function(s){switch(vle(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mm([Nv(e,{props:[Pn(s,/:(read-\w+)/,":"+$w+"$1")]})],i);case"::placeholder":return Mm([Nv(e,{props:[Pn(s,/:(plac\w+)/,":"+In+"input-$1")]}),Nv(e,{props:[Pn(s,/:(plac\w+)/,":"+$w+"$1")]}),Nv(e,{props:[Pn(s,/:(plac\w+)/,ji+"input-$1")]})],i)}return""})}},Ole=[Dle],Nle=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var w=b.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||Ole,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(b){for(var w=b.getAttribute("data-emotion").split(" "),x=1;x<w.length;x++)s[w[x]]=!0;a.push(b)});var l,c=[Lle,kle];{var d,p=[Tle,Rle(function(b){d.insert(b)})],m=Mle(c.concat(i,p)),v=function(w){return Mm(Ele(w),m)};l=function(w,x,A,_){d=A,v(w?w+"{"+x.styles+"}":x.styles),_&&(y.inserted[x.name]=!0)}}var y={key:t,sheet:new dle({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},Fle=!0;function Ule(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var KH=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Fle===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},zle=function(e,t,r){KH(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Hle(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Gle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wle=/[A-Z]|^ms/g,Vle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$H=function(e){return e.charCodeAt(1)===45},uO=function(e){return e!=null&&typeof e!="boolean"},uC=XH(function(n){return $H(n)?n:n.replace(Wle,"-$&").toLowerCase()}),dO=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Vle,function(r,i,s){return ll={name:i,styles:s,next:ll},i})}return Gle[e]!==1&&!$H(e)&&typeof t=="number"&&t!==0?t+"px":t};function Q0(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return ll={name:i.name,styles:i.styles,next:ll},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ll={name:o.name,styles:o.styles,next:ll},o=o.next;var a=s.styles+";";return a}return jle(n,e,t)}case"function":{if(n!==void 0){var l=ll,c=t(n);return ll=l,Q0(n,e,c)}break}}var d=t;if(e==null)return d;var p=e[d];return p!==void 0?p:d}function jle(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Q0(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":uO(a)&&(r+=uC(s)+":"+dO(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)uO(o[l])&&(r+=uC(s)+":"+dO(s,o[l])+";");else{var c=Q0(n,e,o);switch(s){case"animation":case"animationName":{r+=uC(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var fO=/label:\s*([^\s;{]+)\s*(;|$)/g,ll;function YH(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";ll=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Q0(t,e,s);else{var o=s;i+=o[0]}for(var a=1;a<n.length;a++)if(i+=Q0(t,e,n[a]),r){var l=s;i+=l[a]}fO.lastIndex=0;for(var c="",d;(d=fO.exec(i))!==null;)c+="-"+d[1];var p=Hle(i)+c;return{name:p,styles:i,next:ll}}var Xle=function(e){return e()},Jle=v0.useInsertionEffect?v0.useInsertionEffect:!1,Kle=Jle||Xle,qH=k.createContext(typeof HTMLElement<"u"?Nle({key:"css"}):null);qH.Provider;var $le=function(e){return k.forwardRef(function(t,r){var i=k.useContext(qH);return e(t,i,r)})},QH=k.createContext({}),Yle=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qle=XH(function(n){return Yle.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Qle=qle,Zle=function(e){return e!=="theme"},hO=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Qle:Zle},pO=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},ece=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return KH(t,r,i),Kle(function(){return zle(t,r,i)}),null},tce=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=pO(e,t,r),l=a||hO(i),c=!l("as");return function(){var d=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var m=d[0];p.push(m[0]);for(var v=d.length,y=1;y<v;y++)p.push(d[y],m[y])}var b=$le(function(w,x,A){var _=c&&w.as||i,T="",R=[],P=w;if(w.theme==null){P={};for(var D in w)P[D]=w[D];P.theme=k.useContext(QH)}typeof w.className=="string"?T=Ule(x.registered,R,w.className):w.className!=null&&(T=w.className+" ");var N=YH(p.concat(R),x.registered,P);T+=x.key+"-"+N.name,o!==void 0&&(T+=" "+o);var L=c&&a===void 0?hO(_):l,M={};for(var U in w)c&&U==="as"||L(U)&&(M[U]=w[U]);return M.className=T,A&&(M.ref=A),k.createElement(k.Fragment,null,k.createElement(ece,{cache:x,serialized:N,isStringTag:typeof _=="string"}),k.createElement(_,M))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=p,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(w,x){var A=n(w,Xw({},t,x,{shouldForwardProp:pO(b,x,!0)}));return A.apply(void 0,p)},b}},nce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],LM=tce.bind(null);nce.forEach(function(n){LM[n]=LM(n)});function rce(n,e){return LM(n,e)}function ice(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const mO=[];function $f(n){return mO[0]=n,YH(mO)}const sce=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function oce(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=sce(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${t})`}function c(m,v){const y=o.indexOf(v);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:v)-r/100}${t})`}function d(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function p(m){const v=o.indexOf(m);return v===0?a(o[1]):v===o.length-1?l(o[v]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:p,unit:t,...i}}const ace={borderRadius:4};function ZH(n=8,e=bP({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function lce(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function EP(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,a=oce(t),l=ZH(i);let c=po({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...ace,...s}},o);return c=_ae(c),c.applyStyles=lce,c=e.reduce((d,p)=>po(d,p),c),c.unstable_sxConfig={...w1,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(p){return Km({sx:p,theme:this})},c}function cce(n){return Object.keys(n).length===0}function uce(n=null){const e=k.useContext(QH);return!e||cce(e)?n:e}const dce=EP();function fce(n=dce){return uce(n)}const gO=n=>n,hce=()=>{let n=gO;return{configure(e){n=e},generate(e){return n(e)},reset(){n=gO}}},pce=hce(),mce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Uy(n,e,t="Mui"){const r=mce[e];return r?`${t}-${r}`:`${pce.generate(n)}-${e}`}function C1(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Uy(n,i,t)}),r}function eG(n){const{variants:e,...t}=n,r={variants:e,style:$f(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=$f(i.style))}),r}const gce=EP();function dC(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Nf(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function vce(n){return n?(e,t)=>t[n]:null}function yce(n,e,t){n.theme=_ce(n.theme)?t:n.theme[e]||n.theme}function Z_(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(i=>Z_(n,i,t));if(Array.isArray(r==null?void 0:r.variants)){let i;if(r.isProcessed)i=t?Nf(r.style,t):r.style;else{const{variants:s,...o}=r;i=t?Nf($f(o),t):o}return tG(n,r.variants,[i],t)}return r!=null&&r.isProcessed?t?Nf($f(r.style),t):r.style:t?Nf($f(r),t):r}function tG(n,e,t=[],r=void 0){var s;let i;e:for(let o=0;o<e.length;o+=1){const a=e[o];if(typeof a.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!a.props(i))continue}else for(const l in a.props)if(n[l]!==a.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==a.props[l])continue e;typeof a.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(r?Nf($f(a.style(i)),r):a.style(i))):t.push(r?Nf($f(a.style),r):a.style)}return t}function xce(n={}){const{themeId:e,defaultTheme:t=gce,rootShouldForwardProp:r=dC,slotShouldForwardProp:i=dC}=n;function s(a){yce(a,e,t)}return(a,l={})=>{ice(a,P=>P.filter(D=>D!==Km));const{name:c,slot:d,skipVariantsResolver:p,skipSx:m,overridesResolver:v=vce(Sce(d)),...y}=l,b=c&&c.startsWith("Mui")||d?"components":"custom",w=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,x=m||!1;let A=dC;d==="Root"||d==="root"?A=r:d?A=i:wce(a)&&(A=void 0);const _=rce(a,{shouldForwardProp:A,label:bce(),...y}),T=P=>{if(P.__emotion_real===P)return P;if(typeof P=="function")return function(N){return Z_(N,P,N.theme.modularCssLayers?b:void 0)};if(oc(P)){const D=eG(P);return function(L){return D.variants?Z_(L,D,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?Nf(D.style,b):D.style}}return P},R=(...P)=>{const D=[],N=P.map(T),L=[];if(D.push(s),c&&v&&L.push(function(H){var ne,z;const K=(z=(ne=H.theme.components)==null?void 0:ne[c])==null?void 0:z.styleOverrides;if(!K)return null;const ee={};for(const G in K)ee[G]=Z_(H,K[G],H.theme.modularCssLayers?"theme":void 0);return v(H,ee)}),c&&!w&&L.push(function(H){var ee,ne;const j=H.theme,K=(ne=(ee=j==null?void 0:j.components)==null?void 0:ee[c])==null?void 0:ne.variants;return K?tG(H,K,[],H.theme.modularCssLayers?"theme":void 0):null}),x||L.push(Km),Array.isArray(N[0])){const V=N.shift(),H=new Array(D.length).fill(""),j=new Array(L.length).fill("");let K;K=[...H,...V,...j],K.raw=[...H,...V.raw,...j],D.unshift(K)}const M=[...D,...N,...L],U=_(...M);return a.muiName&&(U.muiName=a.muiName),U};return _.withConfig&&(R.withConfig=_.withConfig),R}}function bce(n,e){return void 0}function _ce(n){for(const e in n)return!1;return!0}function wce(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Sce(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function kM(n,e,t=!1){const r={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")r[s]={...n[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const o=n[s],a=e[s];if(!a)r[s]=o||{};else if(!o)r[s]=a;else{r[s]={...a};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=l;r[s][c]=kM(o[c],a[c],t)}}}else s==="className"&&t&&e.className?r.className=mt(n==null?void 0:n.className,e==null?void 0:e.className):s==="style"&&t&&e.style?r.style={...n==null?void 0:n.style,...e==null?void 0:e.style}:r[s]===void 0&&(r[s]=n[s])}return r}const DM=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Ace(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function CP(n,e=0,t=1){return Ace(n,e,t)}function Ece(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ad(n){if(n.type)return n;if(n.charAt(0)==="#")return ad(Ece(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(hh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(hh(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const Cce=n=>{const e=ad(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Xv=(n,e)=>{try{return Cce(n)}catch{return n}};function T1(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function nG(n){n=ad(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+t/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),T1({type:a,values:l})}function OM(n){n=ad(n);let e=n.type==="hsl"||n.type==="hsla"?ad(nG(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Tce(n,e){const t=OM(n),r=OM(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function NM(n,e){return n=ad(n),e=CP(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,T1(n)}function w_(n,e,t){try{return NM(n,e)}catch{return n}}function TP(n,e){if(n=ad(n),e=CP(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return T1(n)}function Wn(n,e,t){try{return TP(n,e)}catch{return n}}function MP(n,e){if(n=ad(n),e=CP(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return T1(n)}function Vn(n,e,t){try{return MP(n,e)}catch{return n}}function Mce(n,e=.15){return OM(n)>.5?TP(n,e):MP(n,e)}function S_(n,e,t){try{return Mce(n,e)}catch{return n}}const Rce=k.createContext(void 0);function Ice(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?kM(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?kM(i,r,e.components.mergeClassNameAndStyle):r}function Pce({props:n,name:e}){const t=k.useContext(Rce);return Ice({props:n,name:e,theme:{components:t}})}const vO={theme:void 0};function Bce(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(vO.theme=i.theme,s=eG(n(vO)),e=s,t=i.theme),s}}function Lce(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const yO=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},kce=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!t||t&&!t([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(n)},Dce=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function fC(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return kce(n,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${t?`${t}-`:""}${a.join("-")}`,p=Dce(a,l);Object.assign(i,{[d]:p}),yO(s,a,`var(${d})`,c),yO(o,a,`var(${d}, ${p})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function Oce(n,e={}){const{getSelector:t=w,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=n,{vars:c,css:d,varsWithDefaults:p}=fC(l,e);let m=p;const v={},{[a]:y,...b}=s;if(Object.entries(b||{}).forEach(([_,T])=>{const{vars:R,css:P,varsWithDefaults:D}=fC(T,e);m=po(m,D),v[_]={css:P,vars:R}}),y){const{css:_,vars:T,varsWithDefaults:R}=fC(y,e);m=po(m,R),v[a]={css:_,vars:T}}function w(_,T){var P,D;let R=i;if(i==="class"&&(R=".%s"),i==="data"&&(R="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(R=`[${i}="%s"]`),_){if(R==="media")return n.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((D=(P=s[_])==null?void 0:P.palette)==null?void 0:D.mode)||_})`]:{":root":T}};if(R)return n.defaultColorScheme===_?`:root, ${R.replace("%s",String(_))}`:R.replace("%s",String(_))}return":root"}return{vars:m,generateThemeVars:()=>{let _={...c};return Object.entries(v).forEach(([,{vars:T}])=>{_=po(_,T)}),_},generateStyleSheets:()=>{var N,L;const _=[],T=n.defaultColorScheme||"light";function R(M,U){Object.keys(U).length&&_.push(typeof M=="string"?{[M]:{...U}}:M)}R(t(void 0,{...d}),d);const{[T]:P,...D}=v;if(P){const{css:M}=P,U=(L=(N=s[T])==null?void 0:N.palette)==null?void 0:L.mode,V=!r&&U?{colorScheme:U,...M}:{...M};R(t(T,{...V}),V)}return Object.entries(D).forEach(([M,{css:U}])=>{var j,K;const V=(K=(j=s[M])==null?void 0:j.palette)==null?void 0:K.mode,H=!r&&V?{colorScheme:V,...U}:{...U};R(t(M,{...H}),H)}),_}}}function Nce(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Z0={black:"#000",white:"#fff"},Fce={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Up={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},zp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Fv={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Hp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Gp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Wp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function rG(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Z0.white,default:Z0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Uce=rG();function iG(){return{text:{primary:Z0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Z0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xO=iG();function bO(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=MP(n.main,i):e==="dark"&&(n.dark=TP(n.main,s)))}function zce(n="light"){return n==="dark"?{main:Hp[200],light:Hp[50],dark:Hp[400]}:{main:Hp[700],light:Hp[400],dark:Hp[800]}}function Hce(n="light"){return n==="dark"?{main:Up[200],light:Up[50],dark:Up[400]}:{main:Up[500],light:Up[300],dark:Up[700]}}function Gce(n="light"){return n==="dark"?{main:zp[500],light:zp[300],dark:zp[700]}:{main:zp[700],light:zp[400],dark:zp[800]}}function Wce(n="light"){return n==="dark"?{main:Gp[400],light:Gp[300],dark:Gp[700]}:{main:Gp[700],light:Gp[500],dark:Gp[900]}}function Vce(n="light"){return n==="dark"?{main:Wp[400],light:Wp[300],dark:Wp[700]}:{main:Wp[800],light:Wp[500],dark:Wp[900]}}function jce(n="light"){return n==="dark"?{main:Fv[400],light:Fv[300],dark:Fv[700]}:{main:"#ed6c02",light:Fv[500],dark:Fv[900]}}function RP(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||zce(e),o=n.secondary||Hce(e),a=n.error||Gce(e),l=n.info||Wce(e),c=n.success||Vce(e),d=n.warning||jce(e);function p(b){return Tce(b,xO.text.primary)>=t?xO.text.primary:Uce.text.primary}const m=({color:b,name:w,mainShade:x=500,lightShade:A=300,darkShade:_=700})=>{if(b={...b},!b.main&&b[x]&&(b.main=b[x]),!b.hasOwnProperty("main"))throw new Error(hh(11,w?` (${w})`:"",x));if(typeof b.main!="string")throw new Error(hh(12,w?` (${w})`:"",JSON.stringify(b.main)));return bO(b,"light",A,r),bO(b,"dark",_,r),b.contrastText||(b.contrastText=p(b.main)),b};let v;return e==="light"?v=rG():e==="dark"&&(v=iG()),po({common:{...Z0},mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:d,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:c,name:"success"}),grey:Fce,contrastThreshold:t,getContrastText:p,augmentColor:m,tonalOffset:r,...v},i)}function Xce(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Jce(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Kce(n){return Math.round(n*1e5)/1e5}const _O={textTransform:"uppercase"},wO='"Roboto", "Helvetica", "Arial", sans-serif';function $ce(n,e){const{fontFamily:t=wO,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...p}=typeof e=="function"?e(n):e,m=r/14,v=d||(w=>`${w/l*m}rem`),y=(w,x,A,_,T)=>({fontFamily:t,fontWeight:w,fontSize:v(x),lineHeight:A,...t===wO?{letterSpacing:`${Kce(_/x)}em`}:{},...T,...c}),b={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(o,14,1.75,.4,_O),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,_O),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return po({htmlFontSize:l,pxToRem:v,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...b},p,{clone:!1})}const Yce=.2,qce=.14,Qce=.12;function ir(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Yce})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${qce})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Qce})`].join(",")}const Zce=["none",ir(0,2,1,-1,0,1,1,0,0,1,3,0),ir(0,3,1,-2,0,2,2,0,0,1,5,0),ir(0,3,3,-2,0,3,4,0,0,1,8,0),ir(0,2,4,-1,0,4,5,0,0,1,10,0),ir(0,3,5,-1,0,5,8,0,0,1,14,0),ir(0,3,5,-1,0,6,10,0,0,1,18,0),ir(0,4,5,-2,0,7,10,1,0,2,16,1),ir(0,5,5,-3,0,8,10,1,0,3,14,2),ir(0,5,6,-3,0,9,12,1,0,3,16,2),ir(0,6,6,-3,0,10,14,1,0,4,18,3),ir(0,6,7,-4,0,11,15,1,0,4,20,3),ir(0,7,8,-4,0,12,17,2,0,5,22,4),ir(0,7,8,-4,0,13,19,2,0,5,24,4),ir(0,7,9,-4,0,14,21,2,0,5,26,4),ir(0,8,9,-5,0,15,22,2,0,6,28,5),ir(0,8,10,-5,0,16,24,2,0,6,30,5),ir(0,8,11,-5,0,17,26,2,0,6,32,5),ir(0,9,11,-5,0,18,28,2,0,7,34,6),ir(0,9,12,-6,0,19,29,2,0,7,36,6),ir(0,10,13,-6,0,20,31,3,0,8,38,7),ir(0,10,13,-6,0,21,33,3,0,8,40,7),ir(0,10,14,-6,0,22,35,3,0,8,42,7),ir(0,11,14,-7,0,23,36,3,0,9,44,8),ir(0,11,15,-7,0,24,38,3,0,9,46,8)],eue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},tue={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function SO(n){return`${Math.round(n)}ms`}function nue(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function rue(n){const e={...eue,...n.easing},t={...tue,...n.duration};return{getAutoHeightDuration:nue,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:SO(o)} ${a} ${typeof l=="string"?l:SO(l)}`).join(",")},...n,easing:e,duration:t}}const iue={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function sue(n){return oc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function sG(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!sue(a)||o.startsWith("unstable_")?delete r[o]:oc(a)&&(r[o]={...a},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function FM(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(hh(20));const d=RP(s),p=EP(n);let m=po(p,{mixins:Jce(p.breakpoints,r),palette:d,shadows:Zce.slice(),typography:$ce(d,a),transitions:rue(o),zIndex:{...iue}});return m=po(m,c),m=e.reduce((v,y)=>po(v,y),m),m.unstable_sxConfig={...w1,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(y){return Km({sx:y,theme:this})},m.toRuntimeSource=sG,m}function UM(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const oue=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=UM(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function oG(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function aG(n){return n==="dark"?oue:[]}function aue(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=RP(e);return{palette:s,opacity:{...oG(s.mode),...t},overlays:r||aG(s.mode),...i}}function lue(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const cue=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],uue=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return cue(n.cssVarPrefix).forEach(a=>{o[a]=t[a],delete t[a]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function due(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ne(n,e,t){!n[e]&&t&&(n[e]=t)}function Jv(n){return typeof n!="string"||!n.startsWith("hsl")?n:nG(n)}function Zl(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Xv(Jv(n[e])))}function fue(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const il=n=>{try{return n()}catch{}},hue=(n="mui")=>Lce(n);function hC(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=aue({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=FM({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...oG(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||aG(i)},o}function pue(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=lue,colorSchemeSelector:a=t.light&&t.dark?"media":void 0,rootSelector:l=":root",...c}=n,d=Object.keys(t)[0],p=r||(t.light&&d!=="light"?"light":d),m=hue(s),{[p]:v,light:y,dark:b,...w}=t,x={...w};let A=v;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(A=!0),!A)throw new Error(hh(21,p));const _=hC(x,A,c,p);y&&!x.light&&hC(x,y,void 0,"light"),b&&!x.dark&&hC(x,b,void 0,"dark");let T={defaultColorScheme:p,..._,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:m,colorSchemes:x,font:{...Xce(_.typography),..._.font},spacing:fue(c.spacing)};Object.keys(T.colorSchemes).forEach(L=>{const M=T.colorSchemes[L].palette,U=V=>{const H=V.split("-"),j=H[1],K=H[2];return m(V,M[j][K])};if(M.mode==="light"&&(Ne(M.common,"background","#fff"),Ne(M.common,"onBackground","#000")),M.mode==="dark"&&(Ne(M.common,"background","#000"),Ne(M.common,"onBackground","#fff")),due(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){Ne(M.Alert,"errorColor",Wn(M.error.light,.6)),Ne(M.Alert,"infoColor",Wn(M.info.light,.6)),Ne(M.Alert,"successColor",Wn(M.success.light,.6)),Ne(M.Alert,"warningColor",Wn(M.warning.light,.6)),Ne(M.Alert,"errorFilledBg",U("palette-error-main")),Ne(M.Alert,"infoFilledBg",U("palette-info-main")),Ne(M.Alert,"successFilledBg",U("palette-success-main")),Ne(M.Alert,"warningFilledBg",U("palette-warning-main")),Ne(M.Alert,"errorFilledColor",il(()=>M.getContrastText(M.error.main))),Ne(M.Alert,"infoFilledColor",il(()=>M.getContrastText(M.info.main))),Ne(M.Alert,"successFilledColor",il(()=>M.getContrastText(M.success.main))),Ne(M.Alert,"warningFilledColor",il(()=>M.getContrastText(M.warning.main))),Ne(M.Alert,"errorStandardBg",Vn(M.error.light,.9)),Ne(M.Alert,"infoStandardBg",Vn(M.info.light,.9)),Ne(M.Alert,"successStandardBg",Vn(M.success.light,.9)),Ne(M.Alert,"warningStandardBg",Vn(M.warning.light,.9)),Ne(M.Alert,"errorIconColor",U("palette-error-main")),Ne(M.Alert,"infoIconColor",U("palette-info-main")),Ne(M.Alert,"successIconColor",U("palette-success-main")),Ne(M.Alert,"warningIconColor",U("palette-warning-main")),Ne(M.AppBar,"defaultBg",U("palette-grey-100")),Ne(M.Avatar,"defaultBg",U("palette-grey-400")),Ne(M.Button,"inheritContainedBg",U("palette-grey-300")),Ne(M.Button,"inheritContainedHoverBg",U("palette-grey-A100")),Ne(M.Chip,"defaultBorder",U("palette-grey-400")),Ne(M.Chip,"defaultAvatarColor",U("palette-grey-700")),Ne(M.Chip,"defaultIconColor",U("palette-grey-700")),Ne(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ne(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ne(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ne(M.LinearProgress,"primaryBg",Vn(M.primary.main,.62)),Ne(M.LinearProgress,"secondaryBg",Vn(M.secondary.main,.62)),Ne(M.LinearProgress,"errorBg",Vn(M.error.main,.62)),Ne(M.LinearProgress,"infoBg",Vn(M.info.main,.62)),Ne(M.LinearProgress,"successBg",Vn(M.success.main,.62)),Ne(M.LinearProgress,"warningBg",Vn(M.warning.main,.62)),Ne(M.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.11)`),Ne(M.Slider,"primaryTrack",Vn(M.primary.main,.62)),Ne(M.Slider,"secondaryTrack",Vn(M.secondary.main,.62)),Ne(M.Slider,"errorTrack",Vn(M.error.main,.62)),Ne(M.Slider,"infoTrack",Vn(M.info.main,.62)),Ne(M.Slider,"successTrack",Vn(M.success.main,.62)),Ne(M.Slider,"warningTrack",Vn(M.warning.main,.62));const V=S_(M.background.default,.8);Ne(M.SnackbarContent,"bg",V),Ne(M.SnackbarContent,"color",il(()=>M.getContrastText(V))),Ne(M.SpeedDialAction,"fabHoverBg",S_(M.background.paper,.15)),Ne(M.StepConnector,"border",U("palette-grey-400")),Ne(M.StepContent,"border",U("palette-grey-400")),Ne(M.Switch,"defaultColor",U("palette-common-white")),Ne(M.Switch,"defaultDisabledColor",U("palette-grey-100")),Ne(M.Switch,"primaryDisabledColor",Vn(M.primary.main,.62)),Ne(M.Switch,"secondaryDisabledColor",Vn(M.secondary.main,.62)),Ne(M.Switch,"errorDisabledColor",Vn(M.error.main,.62)),Ne(M.Switch,"infoDisabledColor",Vn(M.info.main,.62)),Ne(M.Switch,"successDisabledColor",Vn(M.success.main,.62)),Ne(M.Switch,"warningDisabledColor",Vn(M.warning.main,.62)),Ne(M.TableCell,"border",Vn(w_(M.divider,1),.88)),Ne(M.Tooltip,"bg",w_(M.grey[700],.92))}if(M.mode==="dark"){Ne(M.Alert,"errorColor",Vn(M.error.light,.6)),Ne(M.Alert,"infoColor",Vn(M.info.light,.6)),Ne(M.Alert,"successColor",Vn(M.success.light,.6)),Ne(M.Alert,"warningColor",Vn(M.warning.light,.6)),Ne(M.Alert,"errorFilledBg",U("palette-error-dark")),Ne(M.Alert,"infoFilledBg",U("palette-info-dark")),Ne(M.Alert,"successFilledBg",U("palette-success-dark")),Ne(M.Alert,"warningFilledBg",U("palette-warning-dark")),Ne(M.Alert,"errorFilledColor",il(()=>M.getContrastText(M.error.dark))),Ne(M.Alert,"infoFilledColor",il(()=>M.getContrastText(M.info.dark))),Ne(M.Alert,"successFilledColor",il(()=>M.getContrastText(M.success.dark))),Ne(M.Alert,"warningFilledColor",il(()=>M.getContrastText(M.warning.dark))),Ne(M.Alert,"errorStandardBg",Wn(M.error.light,.9)),Ne(M.Alert,"infoStandardBg",Wn(M.info.light,.9)),Ne(M.Alert,"successStandardBg",Wn(M.success.light,.9)),Ne(M.Alert,"warningStandardBg",Wn(M.warning.light,.9)),Ne(M.Alert,"errorIconColor",U("palette-error-main")),Ne(M.Alert,"infoIconColor",U("palette-info-main")),Ne(M.Alert,"successIconColor",U("palette-success-main")),Ne(M.Alert,"warningIconColor",U("palette-warning-main")),Ne(M.AppBar,"defaultBg",U("palette-grey-900")),Ne(M.AppBar,"darkBg",U("palette-background-paper")),Ne(M.AppBar,"darkColor",U("palette-text-primary")),Ne(M.Avatar,"defaultBg",U("palette-grey-600")),Ne(M.Button,"inheritContainedBg",U("palette-grey-800")),Ne(M.Button,"inheritContainedHoverBg",U("palette-grey-700")),Ne(M.Chip,"defaultBorder",U("palette-grey-700")),Ne(M.Chip,"defaultAvatarColor",U("palette-grey-300")),Ne(M.Chip,"defaultIconColor",U("palette-grey-300")),Ne(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ne(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ne(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ne(M.LinearProgress,"primaryBg",Wn(M.primary.main,.5)),Ne(M.LinearProgress,"secondaryBg",Wn(M.secondary.main,.5)),Ne(M.LinearProgress,"errorBg",Wn(M.error.main,.5)),Ne(M.LinearProgress,"infoBg",Wn(M.info.main,.5)),Ne(M.LinearProgress,"successBg",Wn(M.success.main,.5)),Ne(M.LinearProgress,"warningBg",Wn(M.warning.main,.5)),Ne(M.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.13)`),Ne(M.Slider,"primaryTrack",Wn(M.primary.main,.5)),Ne(M.Slider,"secondaryTrack",Wn(M.secondary.main,.5)),Ne(M.Slider,"errorTrack",Wn(M.error.main,.5)),Ne(M.Slider,"infoTrack",Wn(M.info.main,.5)),Ne(M.Slider,"successTrack",Wn(M.success.main,.5)),Ne(M.Slider,"warningTrack",Wn(M.warning.main,.5));const V=S_(M.background.default,.98);Ne(M.SnackbarContent,"bg",V),Ne(M.SnackbarContent,"color",il(()=>M.getContrastText(V))),Ne(M.SpeedDialAction,"fabHoverBg",S_(M.background.paper,.15)),Ne(M.StepConnector,"border",U("palette-grey-600")),Ne(M.StepContent,"border",U("palette-grey-600")),Ne(M.Switch,"defaultColor",U("palette-grey-300")),Ne(M.Switch,"defaultDisabledColor",U("palette-grey-600")),Ne(M.Switch,"primaryDisabledColor",Wn(M.primary.main,.55)),Ne(M.Switch,"secondaryDisabledColor",Wn(M.secondary.main,.55)),Ne(M.Switch,"errorDisabledColor",Wn(M.error.main,.55)),Ne(M.Switch,"infoDisabledColor",Wn(M.info.main,.55)),Ne(M.Switch,"successDisabledColor",Wn(M.success.main,.55)),Ne(M.Switch,"warningDisabledColor",Wn(M.warning.main,.55)),Ne(M.TableCell,"border",Wn(w_(M.divider,1),.68)),Ne(M.Tooltip,"bg",w_(M.grey[700],.92))}Zl(M.background,"default"),Zl(M.background,"paper"),Zl(M.common,"background"),Zl(M.common,"onBackground"),Zl(M,"divider"),Object.keys(M).forEach(V=>{const H=M[V];V!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&Ne(M[V],"mainChannel",Xv(Jv(H.main))),H.light&&Ne(M[V],"lightChannel",Xv(Jv(H.light))),H.dark&&Ne(M[V],"darkChannel",Xv(Jv(H.dark))),H.contrastText&&Ne(M[V],"contrastTextChannel",Xv(Jv(H.contrastText))),V==="text"&&(Zl(M[V],"primary"),Zl(M[V],"secondary")),V==="action"&&(H.active&&Zl(M[V],"active"),H.selected&&Zl(M[V],"selected")))})}),T=e.reduce((L,M)=>po(L,M),T);const R={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:uue(T)},{vars:P,generateThemeVars:D,generateStyleSheets:N}=Oce(T,R);return T.vars=P,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([L,M])=>{T[L]=M}),T.generateThemeVars=D,T.generateStyleSheets=N,T.generateSpacing=function(){return ZH(c.spacing,bP(this))},T.getColorSchemeSelector=Nce(a),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=o,T.unstable_sxConfig={...w1,...c==null?void 0:c.unstable_sxConfig},T.unstable_sx=function(M){return Km({sx:M,theme:this})},T.toRuntimeSource=sG,T}function AO(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:RP({...t===!0?{}:t.palette,mode:e})})}function mue(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...o}=n,a=s||"light",l=i==null?void 0:i[a],c={...i,...t?{[a]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return FM(n,...e);let d=t;"palette"in n||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const p=FM({...n,palette:d},...e);return p.defaultColorScheme=a,p.colorSchemes=c,p.palette.mode==="light"&&(p.colorSchemes.light={...c.light!==!0&&c.light,palette:p.palette},AO(p,"dark",c.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:p.palette},AO(p,"light",c.light)),p}return!t&&!("light"in c)&&a==="light"&&(c.light=!0),pue({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const lG=mue(),cG="$$material";function IP(){const n=fce(lG);return n[cG]||n}function gue(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const vue=n=>gue(n)&&n!=="classes",hg=xce({themeId:cG,defaultTheme:lG,rootShouldForwardProp:vue});function M1(n){return Pce(n)}function yue(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function Tc(n){return n&&n.ownerDocument||document}function Ym(n){return Tc(n).defaultView||window}const EO={};function xue(n,e){const t=k.useRef(EO);return t.current===EO&&(t.current=n(e)),t}const bue=[];function _ue(n){k.useEffect(n,bue)}class PP{constructor(){eb(this,"currentId",null);eb(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});eb(this,"disposeEffect",()=>this.clear)}static create(){return new PP}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function wue(){const n=xue(PP.create).current;return _ue(n.disposeEffect),n}function R1(n){var e;return parseInt(k.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function Sue(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function zM(n,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},zM(n,e)}function Aue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,zM(n,e)}const CO={disabled:!1},uG=$p.createContext(null);var Eue=function(e){return e.scrollTop},Kv="unmounted",Sf="exited",Af="entering",Kp="entered",HM="exiting",El=function(n){Aue(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Sf,s.appearStatus=Af):l=Kp:r.unmountOnExit||r.mountOnEnter?l=Kv:l=Sf,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Kv?{status:Sf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Af&&o!==Kp&&(s=Af):(o===Af||o===Kp)&&(s=HM)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Af){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:yb.findDOMNode(this);o&&Eue(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sf&&this.setState({status:Kv})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[yb.findDOMNode(this),a],c=l[0],d=l[1],p=this.getTimeouts(),m=a?p.appear:p.enter;if(!i&&!o||CO.disabled){this.safeSetState({status:Kp},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Af},function(){s.props.onEntering(c,d),s.onTransitionEnd(m,function(){s.safeSetState({status:Kp},function(){s.props.onEntered(c,d)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:yb.findDOMNode(this);if(!s||CO.disabled){this.safeSetState({status:Sf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:HM},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Sf},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:yb.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Kv)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Sue(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $p.createElement(uG.Provider,{value:null},typeof o=="function"?o(i,a):$p.cloneElement($p.Children.only(o),a))},e}($p.Component);El.contextType=uG;El.propTypes={};function Vp(){}El.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vp,onEntering:Vp,onEntered:Vp,onExit:Vp,onExiting:Vp,onExited:Vp};El.UNMOUNTED=Kv;El.EXITED=Sf;El.ENTERING=Af;El.ENTERED=Kp;El.EXITING=HM;const dG=n=>n.scrollTop;function Yw(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function pg(...n){const e=k.useRef(void 0),t=k.useCallback(r=>{const i=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},n);return k.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function GM(n){return`scale(${n}, ${n**2})`}const Cue={entering:{opacity:1,transform:GM(1)},entered:{opacity:1,transform:"none"}},pC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),WM=k.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:p,onExited:m,onExiting:v,style:y,timeout:b="auto",TransitionComponent:w=El,...x}=e,A=wue(),_=k.useRef(),T=IP(),R=k.useRef(null),P=pg(R,R1(s),t),D=K=>ee=>{if(K){const ne=R.current;ee===void 0?K(ne):K(ne,ee)}},N=D(d),L=D((K,ee)=>{dG(K);const{duration:ne,delay:z,easing:G}=Yw({style:y,timeout:b,easing:o},{mode:"enter"});let Y;b==="auto"?(Y=T.transitions.getAutoHeightDuration(K.clientHeight),_.current=Y):Y=ne,K.style.transition=[T.transitions.create("opacity",{duration:Y,delay:z}),T.transitions.create("transform",{duration:pC?Y:Y*.666,delay:z,easing:G})].join(","),l&&l(K,ee)}),M=D(c),U=D(v),V=D(K=>{const{duration:ee,delay:ne,easing:z}=Yw({style:y,timeout:b,easing:o},{mode:"exit"});let G;b==="auto"?(G=T.transitions.getAutoHeightDuration(K.clientHeight),_.current=G):G=ee,K.style.transition=[T.transitions.create("opacity",{duration:G,delay:ne}),T.transitions.create("transform",{duration:pC?G:G*.666,delay:pC?ne:ne||G*.333,easing:z})].join(","),K.style.opacity=0,K.style.transform=GM(.75),p&&p(K)}),H=D(m),j=K=>{b==="auto"&&A.start(_.current||0,K),r&&r(R.current,K)};return te.jsx(w,{appear:i,in:a,nodeRef:R,onEnter:L,onEntered:M,onEntering:N,onExit:V,onExited:H,onExiting:U,addEndListener:j,timeout:b==="auto"?null:b,...x,children:(K,{ownerState:ee,...ne})=>k.cloneElement(s,{style:{opacity:0,transform:GM(.75),visibility:K==="exited"&&!a?"hidden":void 0,...Cue[K],...y,...s.props.style},ref:P,...ne})})});WM&&(WM.muiSupportAuto=!0);function Tue(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function Mue(n){const e=Tc(n);return e.body===n?Ym(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function h0(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function TO(n){return parseInt(Ym(n).getComputedStyle(n).paddingRight,10)||0}function Rue(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function MO(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,o=>{const a=!s.includes(o),l=!Rue(o);a&&l&&h0(o,i)})}function mC(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function Iue(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(Mue(r)){const o=Tue(Ym(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${TO(r)+o}px`;const a=Tc(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${TO(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Tc(r).body;else{const o=r.parentElement,a=Ym(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Pue(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class Bue{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&h0(e.modalRef,!1);const i=Pue(t);MO(t,e.mount,e.modalRef,i,!0);const s=mC(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=mC(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Iue(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=mC(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&h0(e.modalRef,t),MO(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&h0(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Lue=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kue(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function Due(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Oue(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||Due(n))}function Nue(n){const e=[],t=[];return Array.from(n.querySelectorAll(Lue)).forEach((r,i)=>{const s=kue(r);s===-1||!Oue(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Fue(){return!0}function Uue(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Nue,isEnabled:o=Fue,open:a}=n,l=k.useRef(!1),c=k.useRef(null),d=k.useRef(null),p=k.useRef(null),m=k.useRef(null),v=k.useRef(!1),y=k.useRef(null),b=pg(R1(e),y),w=k.useRef(null);k.useEffect(()=>{!a||!y.current||(v.current=!t)},[t,a]),k.useEffect(()=>{if(!a||!y.current)return;const _=Tc(y.current);return y.current.contains(_.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),v.current&&y.current.focus()),()=>{i||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[a]),k.useEffect(()=>{if(!a||!y.current)return;const _=Tc(y.current),T=D=>{w.current=D,!(r||!o()||D.key!=="Tab")&&_.activeElement===y.current&&D.shiftKey&&(l.current=!0,d.current&&d.current.focus())},R=()=>{var L,M;const D=y.current;if(D===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(D.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==d.current)return;if(_.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!v.current)return;let N=[];if((_.activeElement===c.current||_.activeElement===d.current)&&(N=s(y.current)),N.length>0){const U=!!((L=w.current)!=null&&L.shiftKey&&((M=w.current)==null?void 0:M.key)==="Tab"),V=N[0],H=N[N.length-1];typeof V!="string"&&typeof H!="string"&&(U?H.focus():V.focus())}else D.focus()};_.addEventListener("focusin",R),_.addEventListener("keydown",T,!0);const P=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(P),_.removeEventListener("focusin",R),_.removeEventListener("keydown",T,!0)}},[t,r,i,o,a,s]);const x=_=>{p.current===null&&(p.current=_.relatedTarget),v.current=!0,m.current=_.target;const T=e.props.onFocus;T&&T(_)},A=_=>{p.current===null&&(p.current=_.relatedTarget),v.current=!0};return te.jsxs(k.Fragment,{children:[te.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),k.cloneElement(e,{ref:b,onFocus:x}),te.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:d,"data-testid":"sentinelEnd"})]})}function RO(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function zue(n){return typeof n=="function"?n():n}const Hue=k.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=k.useState(null),l=pg(k.isValidElement(r)?R1(r):null,t);if(DM(()=>{s||a(zue(i)||document.body)},[i,s]),DM(()=>{if(o&&!s)return RO(t,o),()=>{RO(t,null)}},[t,o,s]),s){if(k.isValidElement(r)){const c={ref:l};return k.cloneElement(r,c)}return r}return o&&ly.createPortal(r,o)}),fG=Bce;function Gue(n){return typeof n=="string"}function Wue(n,e,t){return n===void 0||Gue(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function Vue(n,e,t){return typeof n=="function"?n(e,t):n}function hG(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function IO(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function jue(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const v=mt(t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),y={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...t,...i,...r};return v.length>0&&(b.className=v),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const o=hG({...i,...r}),a=IO(r),l=IO(i),c=e(o),d=mt(c==null?void 0:c.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p={...c==null?void 0:c.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...c,...t,...l,...a};return d.length>0&&(m.className=d),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:c.ref}}function Yf(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:d={[n]:void 0},slotProps:p={[n]:void 0},...m}=s,v=d[n]||r,y=Vue(p[n],i),{props:{component:b,...w},internalRef:x}=jue({className:t,...l,externalForwardedProps:n==="root"?m:void 0,externalSlotProps:y}),A=pg(x,y==null?void 0:y.ref,e.ref),_=n==="root"?b||c:b,T=Wue(v,{...n==="root"&&!c&&!d[n]&&o,...n!=="root"&&!d[n]&&o,...w,..._&&!a&&{as:_},..._&&a&&{component:_},ref:A},i);return[v,T]}const Xue={entering:{opacity:1},entered:{opacity:1}},Jue=k.forwardRef(function(e,t){const r=IP(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:p,onEntering:m,onExit:v,onExited:y,onExiting:b,style:w,timeout:x=i,TransitionComponent:A=El,..._}=e,T=k.useRef(null),R=pg(T,R1(a),t),P=j=>K=>{if(j){const ee=T.current;K===void 0?j(ee):j(ee,K)}},D=P(m),N=P((j,K)=>{dG(j);const ee=Yw({style:w,timeout:x,easing:l},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",ee),j.style.transition=r.transitions.create("opacity",ee),d&&d(j,K)}),L=P(p),M=P(b),U=P(j=>{const K=Yw({style:w,timeout:x,easing:l},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",K),j.style.transition=r.transitions.create("opacity",K),v&&v(j)}),V=P(y),H=j=>{s&&s(T.current,j)};return te.jsx(A,{appear:o,in:c,nodeRef:T,onEnter:N,onEntered:L,onEntering:D,onExit:U,onExited:V,onExiting:M,addEndListener:H,timeout:x,..._,children:(j,{ownerState:K,...ee})=>k.cloneElement(a,{style:{opacity:0,visibility:j==="exited"&&!c?"hidden":void 0,...Xue[j],...w,...a.props.style},ref:R,...ee})})});function Kue(n){return Uy("MuiBackdrop",n)}C1("MuiBackdrop",["root","invisible"]);const $ue=n=>{const{classes:e,invisible:t}=n;return i1({root:["root",t&&"invisible"]},Kue,e)},Yue=hg("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),que=k.forwardRef(function(e,t){const r=M1({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:p={},slots:m={},TransitionComponent:v,transitionDuration:y,...b}=r,w={...r,component:o,invisible:a},x=$ue(w),A={transition:v,root:c.Root,...m},_={...d,...p},T={component:o,slots:A,slotProps:_},[R,P]=Yf("root",{elementType:Yue,externalForwardedProps:T,className:mt(x.root,s),ownerState:w}),[D,N]=Yf("transition",{elementType:Jue,externalForwardedProps:T,ownerState:w});return te.jsx(D,{in:l,timeout:y,...b,...N,children:te.jsx(R,{"aria-hidden":!0,...P,classes:x,ref:t,children:i})})});function PO(n){const e=k.useRef(n);return DM(()=>{e.current=n}),k.useRef((...t)=>(0,e.current)(...t)).current}function BO(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function Que(n){return typeof n=="function"?n():n}function Zue(n){return n?n.props.hasOwnProperty("in"):!1}const LO=()=>{},A_=new Bue;function ede(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=n,p=k.useRef({}),m=k.useRef(null),v=k.useRef(null),y=pg(v,d),[b,w]=k.useState(!c),x=Zue(a);let A=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(A=!1);const _=()=>Tc(m.current),T=()=>(p.current.modalRef=v.current,p.current.mount=m.current,p.current),R=()=>{A_.mount(T(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},P=PO(()=>{const K=Que(e)||_().body;A_.add(T(),K),v.current&&R()}),D=()=>A_.isTopModal(T()),N=PO(K=>{m.current=K,K&&(c&&D()?R():v.current&&h0(v.current,A))}),L=k.useCallback(()=>{A_.remove(T(),A)},[A]);k.useEffect(()=>()=>{L()},[L]),k.useEffect(()=>{c?P():(!x||!i)&&L()},[c,L,x,i,P]);const M=K=>ee=>{var ne;(ne=K.onKeyDown)==null||ne.call(K,ee),!(ee.key!=="Escape"||ee.which===229||!D())&&(t||(ee.stopPropagation(),l&&l(ee,"escapeKeyDown")))},U=K=>ee=>{var ne;(ne=K.onClick)==null||ne.call(K,ee),ee.target===ee.currentTarget&&l&&l(ee,"backdropClick")};return{getRootProps:(K={})=>{const ee=hG(n);delete ee.onTransitionEnter,delete ee.onTransitionExited;const ne={...ee,...K};return{role:"presentation",...ne,onKeyDown:M(ne),ref:y}},getBackdropProps:(K={})=>{const ee=K;return{"aria-hidden":!0,...ee,onClick:U(ee),open:c}},getTransitionProps:()=>{const K=()=>{w(!1),s&&s()},ee=()=>{w(!0),o&&o(),i&&L()};return{onEnter:BO(K,(a==null?void 0:a.props.onEnter)??LO),onExited:BO(ee,(a==null?void 0:a.props.onExited)??LO)}},rootRef:y,portalRef:N,isTopModal:D,exited:b,hasTransition:x}}function tde(n){return Uy("MuiModal",n)}C1("MuiModal",["root","hidden","backdrop"]);const nde=n=>{const{open:e,exited:t,classes:r}=n;return i1({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},tde,r)},rde=hg("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(fG(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),ide=hg(que,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),sde=k.forwardRef(function(e,t){const r=M1({name:"MuiModal",props:e}),{BackdropComponent:i=ide,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:p,components:m={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:w=!1,disablePortal:x=!1,disableRestoreFocus:A=!1,disableScrollLock:_=!1,hideBackdrop:T=!1,keepMounted:R=!1,onClose:P,onTransitionEnter:D,onTransitionExited:N,open:L,slotProps:M={},slots:U={},theme:V,...H}=r,j={...r,closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:x,disableRestoreFocus:A,disableScrollLock:_,hideBackdrop:T,keepMounted:R},{getRootProps:K,getBackdropProps:ee,getTransitionProps:ne,portalRef:z,isTopModal:G,exited:Y,hasTransition:le}=ede({...j,rootRef:t}),ge={...j,exited:Y},ie=nde(ge),oe={};if(c.props.tabIndex===void 0&&(oe.tabIndex="-1"),le){const{onEnter:xe,onExited:Le}=ne();oe.onEnter=xe,oe.onExited=Le}const he={slots:{root:m.Root,backdrop:m.Backdrop,...U},slotProps:{...v,...M}},[pe,q]=Yf("root",{ref:t,elementType:rde,externalForwardedProps:{...he,...H,component:p},getSlotProps:K,ownerState:ge,className:mt(a,ie==null?void 0:ie.root,!ge.open&&ge.exited&&(ie==null?void 0:ie.hidden))}),[Ie,ke]=Yf("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:he,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:xe=>ee({...xe,onClick:Le=>{xe!=null&&xe.onClick&&xe.onClick(Le)}}),className:mt(s==null?void 0:s.className,ie==null?void 0:ie.backdrop),ownerState:ge});return!R&&!L&&(!le||Y)?null:te.jsx(Hue,{ref:z,container:d,disablePortal:x,children:te.jsxs(pe,{...q,children:[!T&&i?te.jsx(Ie,{...ke}):null,te.jsx(Uue,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:A,isEnabled:G,open:L,children:k.cloneElement(c,oe)})]})})});function ode(n){return Uy("MuiPaper",n)}C1("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ade=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return i1(s,ode,i)},lde=hg("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(fG(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),cde=k.forwardRef(function(e,t){var v;const r=M1({props:e,name:"MuiPaper"}),i=IP(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...d}=r,p={...r,component:o,elevation:a,square:l,variant:c},m=ade(p);return te.jsx(lde,{as:o,ownerState:p,className:mt(m.root,s),ref:t,...d,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(v=i.vars.overlays)==null?void 0:v[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${NM("#fff",UM(a))}, ${NM("#fff",UM(a))})`}},...d.style}})});function ude(n){return Uy("MuiPopover",n)}C1("MuiPopover",["root","paper"]);function dde(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function fde(n,e){if(!n)return e;function t(o,a){const l={};return Object.keys(a).forEach(c=>{dde(c,a[c])&&typeof o[c]=="function"&&(l[c]=(...d)=>{o[c](...d),a[c](...d)})}),l}if(typeof n=="function"||typeof e=="function")return o=>{const a=typeof e=="function"?e(o):e,l=typeof n=="function"?n({...o,...a}):n,c=mt(o==null?void 0:o.className,a==null?void 0:a.className,l==null?void 0:l.className),d=t(l,a);return{...a,...l,...d,...!!c&&{className:c},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,i=t(n,r),s=mt(r==null?void 0:r.className,n==null?void 0:n.className);return{...e,...n,...i,...!!s&&{className:s},...(r==null?void 0:r.style)&&(n==null?void 0:n.style)&&{style:{...r.style,...n.style}},...(r==null?void 0:r.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function kO(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function DO(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function OO(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function E_(n){return typeof n=="function"?n():n}const hde=n=>{const{classes:e}=n;return i1({root:["root"],paper:["paper"]},ude,e)},pde=hg(sde,{name:"MuiPopover",slot:"Root"})({}),mde=hg(cde,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),R0e=k.forwardRef(function(e,t){const r=M1({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:d,container:p,elevation:m=8,marginThreshold:v=16,open:y,PaperProps:b={},slots:w={},slotProps:x={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:T="auto",TransitionProps:R={},disableScrollLock:P=!1,...D}=r,N=k.useRef(),L={...r,anchorOrigin:o,anchorReference:l,elevation:m,marginThreshold:v,transformOrigin:A,TransitionComponent:_,transitionDuration:T,TransitionProps:R},M=hde(L),U=k.useCallback(()=>{if(l==="anchorPosition")return a;const xe=E_(s),we=(xe&&xe.nodeType===1?xe:Tc(N.current).body).getBoundingClientRect();return{top:we.top+kO(we,o.vertical),left:we.left+DO(we,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),V=k.useCallback(xe=>({vertical:kO(xe,A.vertical),horizontal:DO(xe,A.horizontal)}),[A.horizontal,A.vertical]),H=k.useCallback(xe=>{const Le={width:xe.offsetWidth,height:xe.offsetHeight},we=V(Le);if(l==="none")return{top:null,left:null,transformOrigin:OO(we)};const Se=U();let Me=Se.top-we.vertical,Ke=Se.left-we.horizontal;const Ye=Me+Le.height,nt=Ke+Le.width,vt=Ym(E_(s)),Je=vt.innerHeight-v,rt=vt.innerWidth-v;if(v!==null&&Me<v){const Ve=Me-v;Me-=Ve,we.vertical+=Ve}else if(v!==null&&Ye>Je){const Ve=Ye-Je;Me-=Ve,we.vertical+=Ve}if(v!==null&&Ke<v){const Ve=Ke-v;Ke-=Ve,we.horizontal+=Ve}else if(nt>rt){const Ve=nt-rt;Ke-=Ve,we.horizontal+=Ve}return{top:`${Math.round(Me)}px`,left:`${Math.round(Ke)}px`,transformOrigin:OO(we)}},[s,l,U,V,v]),[j,K]=k.useState(y),ee=k.useCallback(()=>{const xe=N.current;if(!xe)return;const Le=H(xe);Le.top!==null&&xe.style.setProperty("top",Le.top),Le.left!==null&&(xe.style.left=Le.left),xe.style.transformOrigin=Le.transformOrigin,K(!0)},[H]);k.useEffect(()=>(P&&window.addEventListener("scroll",ee),()=>window.removeEventListener("scroll",ee)),[s,P,ee]);const ne=()=>{ee()},z=()=>{K(!1)};k.useEffect(()=>{y&&ee()}),k.useImperativeHandle(i,()=>y?{updatePosition:()=>{ee()}}:null,[y,ee]),k.useEffect(()=>{if(!y)return;const xe=yue(()=>{ee()}),Le=Ym(E_(s));return Le.addEventListener("resize",xe),()=>{xe.clear(),Le.removeEventListener("resize",xe)}},[s,y,ee]);let G=T;const Y={slots:{transition:_,...w},slotProps:{transition:R,paper:b,...x}},[le,ge]=Yf("transition",{elementType:WM,externalForwardedProps:Y,ownerState:L,getSlotProps:xe=>({...xe,onEntering:(Le,we)=>{var Se;(Se=xe.onEntering)==null||Se.call(xe,Le,we),ne()},onExited:Le=>{var we;(we=xe.onExited)==null||we.call(xe,Le),z()}}),additionalProps:{appear:!0,in:y}});T==="auto"&&!le.muiSupportAuto&&(G=void 0);const ie=p||(s?Tc(E_(s)).body:void 0),[oe,{slots:he,slotProps:pe,...q}]=Yf("root",{ref:t,elementType:pde,externalForwardedProps:{...Y,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:w.backdrop},slotProps:{backdrop:fde(typeof x.backdrop=="function"?x.backdrop(L):x.backdrop,{invisible:!0})},container:ie,open:y},ownerState:L,className:mt(M.root,d)}),[Ie,ke]=Yf("paper",{ref:N,className:M.paper,elementType:mde,externalForwardedProps:Y,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:j?void 0:{opacity:0}},ownerState:L});return te.jsx(oe,{...q,...!gae(oe)&&{slots:he,slotProps:pe,disableScrollLock:P},children:te.jsx(le,{...ge,timeout:G,children:te.jsx(Ie,{...ke,children:c})})})}),gde=()=>{};var NO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vde=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(m=64)),r.push(t[d],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pG(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vde(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new yde;const m=s<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),p!==64){const y=c<<6&192|p;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xde=function(n){const e=pG(n);return mG.encodeByteArray(e,!0)},gG=function(n){return xde(n).replace(/\./g,"")},vG=function(n){try{return mG.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _de=()=>bde().__FIREBASE_DEFAULTS__,wde=()=>{if(typeof process>"u"||typeof NO>"u")return;const n=NO.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Sde=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vG(n[1]);return e&&JSON.parse(e)},BP=()=>{try{return gde()||_de()||wde()||Sde()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ade=n=>{var e,t;return(t=(e=BP())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yG=()=>{var n;return(n=BP())===null||n===void 0?void 0:n.config},xG=n=>{var e;return(e=BP())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){return n.endsWith(".cloudworkstations.dev")}async function Cde(n){return(await fetch(n,{credentials:"include"})).ok}const p0={};function Tde(){const n={prod:[],emulator:[]};for(const e of Object.keys(p0))p0[e]?n.emulator.push(e):n.prod.push(e);return n}function Mde(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let FO=!1;function Rde(n,e){if(typeof window>"u"||typeof document>"u"||!I1(window.location.host)||p0[n]===e||p0[n]||FO)return;p0[n]=e;function t(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=Tde().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{FO=!0,o()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Mde(r),v=t("text"),y=document.getElementById(v)||document.createElement("span"),b=t("learnmore"),w=document.getElementById(b)||document.createElement("a"),x=t("preprendIcon"),A=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;a(_),d(w,b);const T=c();l(A,x),_.append(A,y,w,T),document.body.appendChild(_)}s?(y.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ide(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function Pde(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bG(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Bde(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lde(){const n=hs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _G(){try{return typeof indexedDB=="object"}catch{return!1}}function wG(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function kde(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde="FirebaseError";class Cl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Dde,Object.setPrototypeOf(this,Cl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Th.prototype.create)}}class Th{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ode(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cl(i,a,r)}}function Ode(n,e){return n.replace(Nde,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nde=/\{\$([^}]+)}/g;function Fde(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ph(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(UO(s)&&UO(o)){if(!ph(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function UO(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ude(n,e){const t=new zde(n,e);return t.subscribe.bind(t)}class zde{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Hde(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=gC),i.error===void 0&&(i.error=gC),i.complete===void 0&&(i.complete=gC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hde(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gC(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde=1e3,Wde=2,Vde=4*60*60*1e3,jde=.5;function zO(n,e=Gde,t=Wde){const r=e*Math.pow(t,n),i=Math.round(jde*r*(Math.random()-.5)*2);return Math.min(Vde,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n){return n&&n._delegate?n._delegate:n}class wl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xde{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ede;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kde(e))try{this.getOrInitializeService({instanceIdentifier:Ef})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ef){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ef){return this.instances.has(e)}getOptions(e=Ef){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jde(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ef){return this.component?this.component.multipleInstances?e:Ef:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jde(n){return n===Ef?void 0:n}function Kde(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xde(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jn||(jn={}));const Yde={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},qde=jn.INFO,Qde={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},Zde=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Qde[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class LP{constructor(e){this.name=e,this._logLevel=qde,this._logHandler=Zde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yde[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}}const efe=(n,e)=>e.some(t=>n instanceof t);let HO,GO;function tfe(){return HO||(HO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nfe(){return GO||(GO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SG=new WeakMap,VM=new WeakMap,AG=new WeakMap,vC=new WeakMap,kP=new WeakMap;function rfe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t($u(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&SG.set(t,n)}).catch(()=>{}),kP.set(e,n),e}function ife(n){if(VM.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});VM.set(n,e)}let jM={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return VM.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AG.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $u(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sfe(n){jM=n(jM)}function ofe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(yC(this),e,...t);return AG.set(r,e.sort?e.sort():[e]),$u(r)}:nfe().includes(n)?function(...e){return n.apply(yC(this),e),$u(SG.get(this))}:function(...e){return $u(n.apply(yC(this),e))}}function afe(n){return typeof n=="function"?ofe(n):(n instanceof IDBTransaction&&ife(n),efe(n,tfe())?new Proxy(n,jM):n)}function $u(n){if(n instanceof IDBRequest)return rfe(n);if(vC.has(n))return vC.get(n);const e=afe(n);return e!==n&&(vC.set(n,e),kP.set(e,n)),e}const yC=n=>kP.get(n);function EG(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=$u(o);return r&&o.addEventListener("upgradeneeded",l=>{r($u(o.result),l.oldVersion,l.newVersion,$u(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lfe=["get","getKey","getAll","getAllKeys","count"],cfe=["put","add","delete","clear"],xC=new Map;function WO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xC.get(e))return xC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=cfe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lfe.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return xC.set(e,s),s}sfe(n=>({...n,get:(e,t,r)=>WO(e,t)||n.get(e,t,r),has:(e,t)=>!!WO(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dfe(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function dfe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XM="@firebase/app",VO="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new LP("@firebase/app"),ffe="@firebase/app-compat",hfe="@firebase/analytics-compat",pfe="@firebase/analytics",mfe="@firebase/app-check-compat",gfe="@firebase/app-check",vfe="@firebase/auth",yfe="@firebase/auth-compat",xfe="@firebase/database",bfe="@firebase/data-connect",_fe="@firebase/database-compat",wfe="@firebase/functions",Sfe="@firebase/functions-compat",Afe="@firebase/installations",Efe="@firebase/installations-compat",Cfe="@firebase/messaging",Tfe="@firebase/messaging-compat",Mfe="@firebase/performance",Rfe="@firebase/performance-compat",Ife="@firebase/remote-config",Pfe="@firebase/remote-config-compat",Bfe="@firebase/storage",Lfe="@firebase/storage-compat",kfe="@firebase/firestore",Dfe="@firebase/ai",Ofe="@firebase/firestore-compat",Nfe="firebase",Ffe="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="[DEFAULT]",Ufe={[XM]:"fire-core",[ffe]:"fire-core-compat",[pfe]:"fire-analytics",[hfe]:"fire-analytics-compat",[gfe]:"fire-app-check",[mfe]:"fire-app-check-compat",[vfe]:"fire-auth",[yfe]:"fire-auth-compat",[xfe]:"fire-rtdb",[bfe]:"fire-data-connect",[_fe]:"fire-rtdb-compat",[wfe]:"fire-fn",[Sfe]:"fire-fn-compat",[Afe]:"fire-iid",[Efe]:"fire-iid-compat",[Cfe]:"fire-fcm",[Tfe]:"fire-fcm-compat",[Mfe]:"fire-perf",[Rfe]:"fire-perf-compat",[Ife]:"fire-rc",[Pfe]:"fire-rc-compat",[Bfe]:"fire-gcs",[Lfe]:"fire-gcs-compat",[kfe]:"fire-fst",[Ofe]:"fire-fst-compat",[Dfe]:"fire-vertex","fire-js":"fire-js",[Nfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map,zfe=new Map,KM=new Map;function jO(n,e){try{n.container.addComponent(e)}catch(t){Mc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rc(n){const e=n.name;if(KM.has(e))return Mc.debug(`There were multiple attempts to register component ${e}.`),!1;KM.set(e,n);for(const t of qw.values())jO(t,n);for(const t of zfe.values())jO(t,n);return!0}function mg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ul(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yu=new Th("app","Firebase",Hfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=Ffe;function Wfe(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:JM,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Yu.create("bad-app-name",{appName:String(i)});if(t||(t=yG()),!t)throw Yu.create("no-options");const s=qw.get(i);if(s){if(ph(t,s.options)&&ph(r,s.config))return s;throw Yu.create("duplicate-app",{appName:i})}const o=new $de(i);for(const l of KM.values())o.addComponent(l);const a=new Gfe(t,r,o);return qw.set(i,a),a}function CG(n=JM){const e=qw.get(n);if(!e&&n===JM&&yG())return Wfe();if(!e)throw Yu.create("no-app",{appName:n});return e}function vl(n,e,t){var r;let i=(r=Ufe[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mc.warn(a.join(" "));return}Rc(new wl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vfe="firebase-heartbeat-database",jfe=1,ey="firebase-heartbeat-store";let bC=null;function TG(){return bC||(bC=EG(Vfe,jfe,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ey)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yu.create("idb-open",{originalErrorMessage:n.message})})),bC}async function Xfe(n){try{const t=(await TG()).transaction(ey),r=await t.objectStore(ey).get(MG(n));return await t.done,r}catch(e){if(e instanceof Cl)Mc.warn(e.message);else{const t=Yu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mc.warn(t.message)}}}async function XO(n,e){try{const r=(await TG()).transaction(ey,"readwrite");await r.objectStore(ey).put(e,MG(n)),await r.done}catch(t){if(t instanceof Cl)Mc.warn(t.message);else{const r=Yu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mc.warn(r.message)}}}function MG(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe=1024,Kfe=30;class $fe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qfe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Kfe){const o=Qfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=JO(),{heartbeatsToSend:r,unsentEntries:i}=Yfe(this._heartbeatsCache.heartbeats),s=gG(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Mc.warn(t),""}}}function JO(){return new Date().toISOString().substring(0,10)}function Yfe(n,e=Jfe){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),KO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qfe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _G()?wG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Xfe(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function KO(n){return gG(JSON.stringify({version:2,heartbeats:n})).length}function Qfe(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zfe(n){Rc(new wl("platform-logger",e=>new ufe(e),"PRIVATE")),Rc(new wl("heartbeat",e=>new $fe(e),"PRIVATE")),vl(XM,VO,n),vl(XM,VO,"esm2017"),vl("fire-js","")}Zfe("");var ehe="firebase",the="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vl(ehe,the,"app");const RG="@firebase/installations",DP="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=1e4,PG=`w:${DP}`,BG="FIS_v2",nhe="https://firebaseinstallations.googleapis.com/v1",rhe=60*60*1e3,ihe="installations",she="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mh=new Th(ihe,she,ohe);function LG(n){return n instanceof Cl&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG({projectId:n}){return`${nhe}/projects/${n}/installations`}function DG(n){return{token:n.token,requestStatus:2,expiresIn:lhe(n.expiresIn),creationTime:Date.now()}}async function OG(n,e){const r=(await e.json()).error;return mh.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function NG({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ahe(n,{refreshToken:e}){const t=NG(n);return t.append("Authorization",che(e)),t}async function FG(n){const e=await n();return e.status>=500&&e.status<600?n():e}function lhe(n){return Number(n.replace("s","000"))}function che(n){return`${BG} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uhe({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=kG(n),i=NG(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:t,authVersion:BG,appId:n.appId,sdkVersion:PG},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await FG(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:DG(c.authToken)}}else throw await OG("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe=/^[cdef][\w-]{21}$/,$M="";function hhe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=phe(n);return fhe.test(t)?t:$M}catch{return $M}}function phe(n){return dhe(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=new Map;function HG(n,e){const t=P1(n);GG(t,e),mhe(t,e)}function GG(n,e){const t=zG.get(n);if(t)for(const r of t)r(e)}function mhe(n,e){const t=ghe();t&&t.postMessage({key:n,fid:e}),vhe()}let Ff=null;function ghe(){return!Ff&&"BroadcastChannel"in self&&(Ff=new BroadcastChannel("[Firebase] FID Change"),Ff.onmessage=n=>{GG(n.data.key,n.data.fid)}),Ff}function vhe(){zG.size===0&&Ff&&(Ff.close(),Ff=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe="firebase-installations-database",xhe=1,gh="firebase-installations-store";let _C=null;function OP(){return _C||(_C=EG(yhe,xhe,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(gh)}}})),_C}async function Qw(n,e){const t=P1(n),i=(await OP()).transaction(gh,"readwrite"),s=i.objectStore(gh),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&HG(n,e.fid),e}async function WG(n){const e=P1(n),r=(await OP()).transaction(gh,"readwrite");await r.objectStore(gh).delete(e),await r.done}async function B1(n,e){const t=P1(n),i=(await OP()).transaction(gh,"readwrite"),s=i.objectStore(gh),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&HG(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n){let e;const t=await B1(n.appConfig,r=>{const i=bhe(r),s=_he(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===$M?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function bhe(n){const e=n||{fid:hhe(),registrationStatus:0};return VG(e)}function _he(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(mh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=whe(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:She(n)}:{installationEntry:e}}async function whe(n,e){try{const t=await uhe(n,e);return Qw(n.appConfig,t)}catch(t){throw LG(t)&&t.customData.serverCode===409?await WG(n.appConfig):await Qw(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function She(n){let e=await $O(n.appConfig);for(;e.registrationStatus===1;)await UG(100),e=await $O(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await NP(n);return r||t}return e}function $O(n){return B1(n,e=>{if(!e)throw mh.create("installation-not-found");return VG(e)})}function VG(n){return Ahe(n)?{fid:n.fid,registrationStatus:0}:n}function Ahe(n){return n.registrationStatus===1&&n.registrationTime+IG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ehe({appConfig:n,heartbeatServiceProvider:e},t){const r=Che(n,t),i=ahe(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:PG,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await FG(()=>fetch(r,a));if(l.ok){const c=await l.json();return DG(c)}else throw await OG("Generate Auth Token",l)}function Che(n,{fid:e}){return`${kG(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(n,e=!1){let t;const r=await B1(n.appConfig,s=>{if(!jG(s))throw mh.create("not-registered");const o=s.authToken;if(!e&&Rhe(o))return s;if(o.requestStatus===1)return t=The(n,e),s;{if(!navigator.onLine)throw mh.create("app-offline");const a=Phe(s);return t=Mhe(n,a),a}});return t?await t:r.authToken}async function The(n,e){let t=await YO(n.appConfig);for(;t.authToken.requestStatus===1;)await UG(100),t=await YO(n.appConfig);const r=t.authToken;return r.requestStatus===0?FP(n,e):r}function YO(n){return B1(n,e=>{if(!jG(e))throw mh.create("not-registered");const t=e.authToken;return Bhe(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mhe(n,e){try{const t=await Ehe(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Qw(n.appConfig,r),t}catch(t){if(LG(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await WG(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qw(n.appConfig,r)}throw t}}function jG(n){return n!==void 0&&n.registrationStatus===2}function Rhe(n){return n.requestStatus===2&&!Ihe(n)}function Ihe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+rhe}function Phe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Bhe(n){return n.requestStatus===1&&n.requestTime+IG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lhe(n){const e=n,{installationEntry:t,registrationPromise:r}=await NP(e);return r?r.catch(console.error):FP(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function khe(n,e=!1){const t=n;return await Dhe(t),(await FP(t,e)).token}async function Dhe(n){const{registrationPromise:e}=await NP(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ohe(n){if(!n||!n.options)throw wC("App Configuration");if(!n.name)throw wC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw wC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function wC(n){return mh.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG="installations",Nhe="installations-internal",Fhe=n=>{const e=n.getProvider("app").getImmediate(),t=Ohe(e),r=mg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Uhe=n=>{const e=n.getProvider("app").getImmediate(),t=mg(e,XG).getImmediate();return{getId:()=>Lhe(t),getToken:i=>khe(t,i)}};function zhe(){Rc(new wl(XG,Fhe,"PUBLIC")),Rc(new wl(Nhe,Uhe,"PRIVATE"))}zhe();vl(RG,DP);vl(RG,DP,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="analytics",Hhe="firebase_id",Ghe="origin",Whe=60*1e3,Vhe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UP="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new LP("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},go=new Th("analytics","Analytics",jhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xhe(n){if(!n.startsWith(UP)){const e=go.create("invalid-gtag-resource",{gtagURL:n});return Ns.warn(e.message),""}return n}function JG(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Jhe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Khe(n,e){const t=Jhe("firebase-js-sdk-policy",{createScriptURL:Xhe}),r=document.createElement("script"),i=`${UP}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function $he(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Yhe(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await JG(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Ns.error(a)}n("config",i,s)}async function qhe(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await JG(t);for(const l of o){const c=a.find(p=>p.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Ns.error(s)}}function Qhe(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await qhe(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await Yhe(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){Ns.error(a)}}return i}function Zhe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Qhe(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function epe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(UP)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tpe=30,npe=1e3;class rpe{constructor(e={},t=npe){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KG=new rpe;function ipe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function spe(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:ipe(r)},s=Vhe.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw go.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function ope(n,e=KG,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw go.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw go.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cpe;return setTimeout(async()=>{a.abort()},Whe),$G({appId:r,apiKey:i,measurementId:s},o,a,e)}async function $G(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=KG){var s;const{appId:o,measurementId:a}=n;try{await ape(r,e)}catch(l){if(a)return Ns.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await spe(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!lpe(c)){if(i.deleteThrottleMetadata(o),a)return Ns.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?zO(t,i.intervalMillis,tpe):zO(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(o,p),Ns.debug(`Calling attemptFetch again in ${d} millis`),$G(n,p,r,i)}}function ape(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(go.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lpe(n){if(!(n instanceof Cl)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class cpe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function upe(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dpe(){if(_G())try{await wG()}catch(n){return Ns.warn(go.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ns.warn(go.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fpe(n,e,t,r,i,s,o){var a;const l=ope(n);l.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Ns.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ns.error(v)),e.push(l);const c=dpe().then(v=>{if(v)return r.getId()}),[d,p]=await Promise.all([l,c]);epe(s)||Khe(s,d.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[Ghe]="firebase",m.update=!0,p!=null&&(m[Hhe]=p),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e){this.app=e}_delete(){return delete m0[this.app.options.appId],Promise.resolve()}}let m0={},qO=[];const QO={};let SC="dataLayer",ppe="gtag",ZO,YG,eN=!1;function mpe(){const n=[];if(bG()&&n.push("This is a browser extension environment."),kde()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=go.create("invalid-analytics-context",{errorInfo:e});Ns.warn(t.message)}}function gpe(n,e,t){mpe();const r=n.options.appId;if(!r)throw go.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ns.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw go.create("no-api-key");if(m0[r]!=null)throw go.create("already-exists",{id:r});if(!eN){$he(SC);const{wrappedGtag:s,gtagCore:o}=Zhe(m0,qO,QO,SC,ppe);YG=s,ZO=o,eN=!0}return m0[r]=fpe(n,qO,QO,e,ZO,SC,t),new hpe(n)}function I0e(n=CG()){n=Fa(n);const e=mg(n,Zw);return e.isInitialized()?e.getImmediate():vpe(n)}function vpe(n,e={}){const t=mg(n,Zw);if(t.isInitialized()){const i=t.getImmediate();if(ph(e,t.getOptions()))return i;throw go.create("already-initialized")}return t.initialize({options:e})}function ype(n,e,t,r){n=Fa(n),upe(YG,m0[n.app.options.appId],e,t,r).catch(i=>Ns.error(i))}const tN="@firebase/analytics",nN="0.10.16";function xpe(){Rc(new wl(Zw,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return gpe(r,i,t)},"PUBLIC")),Rc(new wl("analytics-internal",n,"PRIVATE")),vl(tN,nN),vl(tN,nN,"esm2017");function n(e){try{const t=e.getProvider(Zw).getImmediate();return{logEvent:(r,i,s)=>ype(t,r,i,s)}}catch(t){throw go.create("interop-component-reg-failed",{reason:t})}}}xpe();function zP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bpe=qG,QG=new Th("auth","Firebase",qG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new LP("@firebase/auth");function _pe(n,...e){eS.logLevel<=jn.WARN&&eS.warn(`Auth (${Hy}): ${n}`,...e)}function ew(n,...e){eS.logLevel<=jn.ERROR&&eS.error(`Auth (${Hy}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n,...e){throw GP(n,...e)}function Ia(n,...e){return GP(n,...e)}function HP(n,e,t){const r=Object.assign(Object.assign({},bpe()),{[e]:t});return new Th("auth","Firebase",r).create(e,{appName:n.name})}function qf(n){return HP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wpe(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sl(n,"argument-error"),HP(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function GP(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QG.create(n,...e)}function Ft(n,e,...t){if(!n)throw GP(e,...t)}function dc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ew(e),new Error(e)}function Ic(n,e){n||dc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Spe(){return rN()==="http:"||rN()==="https:"}function rN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ape(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Spe()||bG()||"connection"in navigator)?navigator.onLine:!0}function Epe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ic(t>e,"Short delay should be less than long delay!"),this.isMobile=Ide()||Bde()}get(){return Ape()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n,e){Ic(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mpe=new Gy(3e4,6e4);function VP(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gg(n,e,t,r,i={}){return e5(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=zy(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return Pde()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&I1(n.emulatorConfig.host)&&(c.credentials="include"),ZG.fetch()(await t5(n,n.config.apiHost,t,a),c)})}async function e5(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cpe),e);try{const i=new Ipe(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw C_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw C_(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw C_(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw C_(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HP(n,d,c);Sl(n,d)}}catch(i){if(i instanceof Cl)throw i;Sl(n,"network-request-failed",{message:String(i)})}}async function Rpe(n,e,t,r,i={}){const s=await gg(n,e,t,r,i);return"mfaPendingCredential"in s&&Sl(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function t5(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?WP(n.config,i):`${n.config.apiScheme}://${i}`;return Tpe.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class Ipe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ia(this.auth,"network-request-failed")),Mpe.get())})}}function C_(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ia(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ppe(n,e){return gg(n,"POST","/v1/accounts:delete",e)}async function tS(n,e){return gg(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bpe(n,e=!1){const t=Fa(n),r=await t.getIdToken(e),i=jP(r);Ft(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:g0(AC(i.auth_time)),issuedAtTime:g0(AC(i.iat)),expirationTime:g0(AC(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function AC(n){return Number(n)*1e3}function jP(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ew("JWT malformed, contained fewer than 3 sections"),null;try{const i=vG(t);return i?JSON.parse(i):(ew("Failed to decode base64 JWT payload"),null)}catch(i){return ew("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iN(n){const e=jP(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ty(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cl&&Lpe(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Lpe({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=g0(this.lastLoginAt),this.creationTime=g0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ty(n,tS(t,{idToken:r}));Ft(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?n5(s.providerUserInfo):[],a=Ope(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qM(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function Dpe(n){const e=Fa(n);await nS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ope(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function n5(n){return n.map(e=>{var{providerId:t}=e,r=zP(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Npe(n,e){const t=await e5(n,{},async()=>{const r=zy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await t5(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return n.emulatorConfig&&I1(n.emulatorConfig.host)&&(l.credentials="include"),ZG.fetch()(o,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Fpe(n,e){return gg(n,"POST","/v2/accounts:revokeToken",VP(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=iN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Npe(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Rm;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ft(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ft(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rm,this.toJSON())}_performRefresh(){return dc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ca{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=zP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qM(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ty(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Bpe(this,e)}reload(){return Dpe(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ca(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ul(this.auth.app))return Promise.reject(qf(this.auth));const e=await this.getIdToken();return await ty(this,Ppe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,d;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,b=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=t.createdAt)!==null&&c!==void 0?c:void 0,A=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:T,isAnonymous:R,providerData:P,stsTokenManager:D}=t;Ft(_&&D,e,"internal-error");const N=Rm.fromJSON(this.name,D);Ft(typeof _=="string",e,"internal-error"),yu(p,e.name),yu(m,e.name),Ft(typeof T=="boolean",e,"internal-error"),Ft(typeof R=="boolean",e,"internal-error"),yu(v,e.name),yu(y,e.name),yu(b,e.name),yu(w,e.name),yu(x,e.name),yu(A,e.name);const L=new Ca({uid:_,auth:e,email:m,emailVerified:T,displayName:p,isAnonymous:R,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:N,createdAt:x,lastLoginAt:A});return P&&Array.isArray(P)&&(L.providerData=P.map(M=>Object.assign({},M))),w&&(L._redirectEventId=w),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Rm;i.updateFromServerResponse(t);const s=new Ca({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nS(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ft(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?n5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Rm;a.updateFromIdToken(r);const l=new Ca({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Map;function fc(n){Ic(n instanceof Function,"Expected a class definition");let e=sN.get(n);return e?(Ic(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sN.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}r5.type="NONE";const oN=r5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e,t){return`firebase:${n}:${e}:${t}`}class Im{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tw(this.userKey,i.apiKey,s),this.fullPersistenceKey=tw("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tS(this.auth,{idToken:e}).catch(()=>{});return t?Ca._fromGetAccountInfoResponse(this.auth,t,e):null}return Ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Im(fc(oN),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fc(oN);const o=tw(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=await c._get(o);if(d){let p;if(typeof d=="string"){const m=await tS(e,{idToken:d}).catch(()=>{});if(!m)break;p=await Ca._fromGetAccountInfoResponse(e,m,d)}else p=Ca._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Im(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Im(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c5(e))return"Blackberry";if(u5(e))return"Webos";if(s5(e))return"Safari";if((e.includes("chrome/")||o5(e))&&!e.includes("edge/"))return"Chrome";if(l5(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function i5(n=hs()){return/firefox\//i.test(n)}function s5(n=hs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o5(n=hs()){return/crios\//i.test(n)}function a5(n=hs()){return/iemobile/i.test(n)}function l5(n=hs()){return/android/i.test(n)}function c5(n=hs()){return/blackberry/i.test(n)}function u5(n=hs()){return/webos/i.test(n)}function XP(n=hs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Upe(n=hs()){var e;return XP(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zpe(){return Lde()&&document.documentMode===10}function d5(n=hs()){return XP(n)||l5(n)||u5(n)||c5(n)||/windows phone/i.test(n)||a5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(n,e=[]){let t;switch(n){case"Browser":t=aN(hs());break;case"Worker":t=`${aN(hs())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hy}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gpe(n,e={}){return gg(n,"GET","/v2/passwordPolicy",VP(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=6;class Vpe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Wpe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lN(this),this.idTokenSubscription=new lN(this),this.beforeStateQueue=new Hpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fc(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Im.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tS(this,{idToken:e}),r=await Ca._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ul(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nS(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Epe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ul(this.app))return Promise.reject(qf(this));const t=e?Fa(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ul(this.app)?Promise.reject(qf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ul(this.app)?Promise.reject(qf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gpe(this),t=new Vpe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Th("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fpe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fc(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await Im.create(this,[fc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ul(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_pe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function L1(n){return Fa(n)}class lN{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ude(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xpe(n){JP=n}function Jpe(n){return JP.loadJS(n)}function Kpe(){return JP.gapiScript}function $pe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ype(n,e){const t=mg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ph(s,e??{}))return i;Sl(i,"already-initialized")}return t.initialize({options:e})}function qpe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(fc);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qpe(n,e,t){const r=L1(n);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=h5(e),{host:o,port:a}=Zpe(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(ph(c,r.config.emulator)&&ph(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,I1(o)?(Cde(`${s}//${o}${l}`),Rde("Auth",!0)):eme()}function h5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Zpe(n){const e=h5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cN(o)}}}function cN(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eme(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dc("not implemented")}_getIdTokenResponse(e){return dc("not implemented")}_linkToIdToken(e,t){return dc("not implemented")}_getReauthenticationResolver(e){return dc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(n,e){return Rpe(n,"POST","/v1/accounts:signInWithIdp",VP(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tme="http://localhost";class vh extends p5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=zP(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Pm(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Pm(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pm(e,t)}buildRequest(){const e={requestUri:tme,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zy(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends KP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Wy{constructor(){super("facebook.com")}static credential(e){return vh._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eu.credentialFromTaggedObject(e)}static credentialFromError(e){return Eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eu.credential(e.oauthAccessToken)}catch{return null}}}Eu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Wy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vh._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Cu.credential(t,r)}catch{return null}}}Cu.GOOGLE_SIGN_IN_METHOD="google.com";Cu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Wy{constructor(){super("github.com")}static credential(e){return vh._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tu.credential(e.oauthAccessToken)}catch{return null}}}Tu.GITHUB_SIGN_IN_METHOD="github.com";Tu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Wy{constructor(){super("twitter.com")}static credential(e,t){return vh._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mu.credential(t,r)}catch{return null}}}Mu.TWITTER_SIGN_IN_METHOD="twitter.com";Mu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ca._fromIdTokenResponse(e,r,i),o=uN(r);return new qm({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=uN(r);return new qm({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function uN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends Cl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rS.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new rS(e,t,r,i)}}function m5(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rS._fromErrorAndOperation(n,s,e,r):s})}async function nme(n,e,t=!1){const r=await ty(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qm._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rme(n,e,t=!1){const{auth:r}=n;if(ul(r.app))return Promise.reject(qf(r));const i="reauthenticate";try{const s=await ty(n,m5(r,i,e,n),t);Ft(s.idToken,r,"internal-error");const o=jP(s.idToken);Ft(o,r,"internal-error");const{sub:a}=o;return Ft(n.uid===a,r,"user-mismatch"),qm._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ime(n,e,t=!1){if(ul(n.app))return Promise.reject(qf(n));const r="signIn",i=await m5(n,r,e),s=await qm._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0e(n,e){return Fa(n).setPersistence(e)}function sme(n,e,t,r){return Fa(n).onIdTokenChanged(e,t,r)}function ome(n,e,t){return Fa(n).beforeAuthStateChanged(e,t)}function B0e(n,e,t,r){return Fa(n).onAuthStateChanged(e,t,r)}function L0e(n){return Fa(n).signOut()}const iS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(iS,"1"),this.storage.removeItem(iS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame=1e3,lme=10;class v5 extends g5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zpe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lme):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ame)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}v5.type="LOCAL";const cme=v5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5 extends g5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}y5.type="SESSION";const x5=y5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ume(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new k1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await ume(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}k1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=$P("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(){return window}function fme(n){yl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return typeof yl().WorkerGlobalScope<"u"&&typeof yl().importScripts=="function"}async function hme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pme(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mme(){return b5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firebaseLocalStorageDb",gme=1,sS="firebaseLocalStorage",w5="fbase_key";class Vy{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function D1(n,e){return n.transaction([sS],e?"readwrite":"readonly").objectStore(sS)}function vme(){const n=indexedDB.deleteDatabase(_5);return new Vy(n).toPromise()}function QM(){const n=indexedDB.open(_5,gme);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sS,{keyPath:w5})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sS)?e(r):(r.close(),await vme(),e(await QM()))})})}async function dN(n,e,t){const r=D1(n,!0).put({[w5]:e,value:t});return new Vy(r).toPromise()}async function yme(n,e){const t=D1(n,!1).get(e),r=await new Vy(t).toPromise();return r===void 0?null:r.value}function fN(n,e){const t=D1(n,!0).delete(e);return new Vy(t).toPromise()}const xme=800,bme=3;class S5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QM(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>bme)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=k1._getInstance(mme()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await hme(),!this.activeServiceWorker)return;this.sender=new dme(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QM();return await dN(e,iS,"1"),await fN(e,iS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>dN(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>yme(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=D1(i,!1).getAll();return new Vy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S5.type="LOCAL";const _me=S5;new Gy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n,e){return e?fc(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP extends p5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wme(n){return ime(n.auth,new YP(n),n.bypassAuthState)}function Sme(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),rme(t,new YP(n),n.bypassAuthState)}async function Ame(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),nme(t,new YP(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wme;case"linkViaPopup":case"linkViaRedirect":return Ame;case"reauthViaPopup":case"reauthViaRedirect":return Sme;default:Sl(this.auth,"internal-error")}}resolve(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eme=new Gy(2e3,1e4);async function k0e(n,e,t){if(ul(n.app))return Promise.reject(Ia(n,"operation-not-supported-in-this-environment"));const r=L1(n);wpe(n,e,KP);const i=A5(r,t);return new Uf(r,"signInViaPopup",e,i).executeNotNull()}class Uf extends E5{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Uf.currentPopupAction&&Uf.currentPopupAction.cancel(),Uf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){Ic(this.filter.length===1,"Popup operations only handle one event");const e=$P();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Eme.get())};e()}}Uf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme="pendingRedirect",nw=new Map;class Tme extends E5{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=nw.get(this.auth._key());if(!e){try{const r=await Mme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nw.set(this.auth._key(),e)}return this.bypassAuthState||nw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mme(n,e){const t=Pme(e),r=Ime(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Rme(n,e){nw.set(n._key(),e)}function Ime(n){return fc(n._redirectPersistence)}function Pme(n){return tw(Cme,n.config.apiKey,n.name)}async function Bme(n,e,t=!1){if(ul(n.app))return Promise.reject(qf(n));const r=L1(n),i=A5(r,e),o=await new Tme(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme=10*60*1e3;class kme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dme(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!C5(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ia(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lme&&this.cachedEventUids.clear(),this.cachedEventUids.has(hN(e))}saveEventToCache(e){this.cachedEventUids.add(hN(e)),this.lastProcessedEventTime=Date.now()}}function hN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C5({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dme(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C5(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ome(n,e={}){return gg(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fme=/^https?/;async function Ume(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ome(n);for(const t of e)try{if(zme(t))return}catch{}Sl(n,"unauthorized-domain")}function zme(n){const e=YM(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Fme.test(t))return!1;if(Nme.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme=new Gy(3e4,6e4);function pN(){const n=yl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Gme(n){return new Promise((e,t)=>{var r,i,s;function o(){pN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pN(),t(Ia(n,"network-request-failed"))},timeout:Hme.get()})}if(!((i=(r=yl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yl().gapi)===null||s===void 0)&&s.load)o();else{const a=$pe("iframefcb");return yl()[a]=()=>{gapi.load?o():t(Ia(n,"network-request-failed"))},Jpe(`${Kpe()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw rw=null,e})}let rw=null;function Wme(n){return rw=rw||Gme(n),rw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vme=new Gy(5e3,15e3),jme="__/auth/iframe",Xme="emulator/auth/iframe",Jme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $me(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?WP(e,Xme):`https://${n.config.authDomain}/${jme}`,r={apiKey:e.apiKey,appName:n.name,v:Hy},i=Kme.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${zy(r).slice(1)}`}async function Yme(n){const e=await Wme(n),t=yl().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:$me(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jme,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ia(n,"network-request-failed"),a=yl().setTimeout(()=>{s(o)},Vme.get());function l(){yl().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qme=500,Zme=600,ege="_blank",tge="http://localhost";class mN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nge(n,e,t,r=Qme,i=Zme){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qme),{width:r.toString(),height:i.toString(),top:s,left:o}),c=hs().toLowerCase();t&&(a=o5(c)?ege:t),i5(c)&&(e=e||tge,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,y])=>`${m}${v}=${y},`,"");if(Upe(c)&&a!=="_self")return rge(e||"",a),new mN(null);const p=window.open(e||"",a,d);Ft(p,n,"popup-blocked");try{p.focus()}catch{}return new mN(p)}function rge(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ige="__/auth/handler",sge="emulator/auth/handler",oge=encodeURIComponent("fac");async function gN(n,e,t,r,i,s){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hy,eventId:i};if(e instanceof KP){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Fde(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Wy){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),c=l?`#${oge}=${encodeURIComponent(l)}`:"";return`${age(n)}?${zy(a).slice(1)}${c}`}function age({config:n}){return n.emulator?WP(n,sge):`https://${n.authDomain}/${ige}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="webStorageSupport";class lge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x5,this._completeRedirectFn=Bme,this._overrideRedirectResult=Rme}async _openPopup(e,t,r,i){var s;Ic((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gN(e,t,r,YM(),i);return nge(e,o,$P())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await gN(e,t,r,YM(),i);return fme(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ic(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Yme(e),r=new kme(e);return t.register("authEvent",i=>(Ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(EC,{type:EC},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[EC];o!==void 0&&t(!!o),Sl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ume(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return d5()||s5()||XP()}}const cge=lge;var vN="@firebase/auth",yN="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dge(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fge(n){Rc(new wl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ft(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f5(n)},c=new jpe(r,i,s,l);return qpe(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rc(new wl("auth-internal",e=>{const t=L1(e.getProvider("auth").getImmediate());return(r=>new uge(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vl(vN,yN,dge(n)),vl(vN,yN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hge=5*60,pge=xG("authIdTokenMaxAge")||hge;let xN=null;const mge=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>pge)return;const i=t==null?void 0:t.token;xN!==i&&(xN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function D0e(n=CG()){const e=mg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ype(n,{popupRedirectResolver:cge,persistence:[_me,cme,x5]}),r=xG("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=mge(s.toString());ome(t,o,()=>o(t.currentUser)),sme(t,a=>o(a))}}const i=Ade("auth");return i&&Qpe(t,`http://${i}`),t}function gge(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Xpe({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ia("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",gge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fge("Browser");function T5(n,e){return function(){return n.apply(e,arguments)}}const{toString:vge}=Object.prototype,{getPrototypeOf:qP}=Object,{iterator:O1,toStringTag:M5}=Symbol,N1=(n=>e=>{const t=vge.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ua=n=>(n=n.toLowerCase(),e=>N1(e)===n),F1=n=>e=>typeof e===n,{isArray:vg}=Array,ny=F1("undefined");function yge(n){return n!==null&&!ny(n)&&n.constructor!==null&&!ny(n.constructor)&&Fs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const R5=Ua("ArrayBuffer");function xge(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&R5(n.buffer),e}const bge=F1("string"),Fs=F1("function"),I5=F1("number"),U1=n=>n!==null&&typeof n=="object",_ge=n=>n===!0||n===!1,iw=n=>{if(N1(n)!=="object")return!1;const e=qP(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(M5 in n)&&!(O1 in n)},wge=Ua("Date"),Sge=Ua("File"),Age=Ua("Blob"),Ege=Ua("FileList"),Cge=n=>U1(n)&&Fs(n.pipe),Tge=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fs(n.append)&&((e=N1(n))==="formdata"||e==="object"&&Fs(n.toString)&&n.toString()==="[object FormData]"))},Mge=Ua("URLSearchParams"),[Rge,Ige,Pge,Bge]=["ReadableStream","Request","Response","Headers"].map(Ua),Lge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jy(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),vg(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function P5(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const zf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,B5=n=>!ny(n)&&n!==zf;function ZM(){const{caseless:n}=B5(this)&&this||{},e={},t=(r,i)=>{const s=n&&P5(e,i)||i;iw(e[s])&&iw(r)?e[s]=ZM(e[s],r):iw(r)?e[s]=ZM({},r):vg(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&jy(arguments[r],t);return e}const kge=(n,e,t,{allOwnKeys:r}={})=>(jy(e,(i,s)=>{t&&Fs(i)?n[s]=T5(i,t):n[s]=i},{allOwnKeys:r}),n),Dge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Oge=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Nge=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&qP(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Fge=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Uge=n=>{if(!n)return null;if(vg(n))return n;let e=n.length;if(!I5(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},zge=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&qP(Uint8Array)),Hge=(n,e)=>{const r=(n&&n[O1]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},Gge=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Wge=Ua("HTMLFormElement"),Vge=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),bN=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),jge=Ua("RegExp"),L5=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};jy(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},Xge=n=>{L5(n,(e,t)=>{if(Fs(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Fs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Jge=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return vg(n)?r(n):r(String(n).split(e)),t},Kge=()=>{},$ge=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Yge(n){return!!(n&&Fs(n.append)&&n[M5]==="FormData"&&n[O1])}const qge=n=>{const e=new Array(10),t=(r,i)=>{if(U1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=vg(r)?[]:{};return jy(r,(o,a)=>{const l=t(o,i+1);!ny(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},Qge=Ua("AsyncFunction"),Zge=n=>n&&(U1(n)||Fs(n))&&Fs(n.then)&&Fs(n.catch),k5=((n,e)=>n?setImmediate:e?((t,r)=>(zf.addEventListener("message",({source:i,data:s})=>{i===zf&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),zf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fs(zf.postMessage)),eve=typeof queueMicrotask<"u"?queueMicrotask.bind(zf):typeof process<"u"&&process.nextTick||k5,tve=n=>n!=null&&Fs(n[O1]),Re={isArray:vg,isArrayBuffer:R5,isBuffer:yge,isFormData:Tge,isArrayBufferView:xge,isString:bge,isNumber:I5,isBoolean:_ge,isObject:U1,isPlainObject:iw,isReadableStream:Rge,isRequest:Ige,isResponse:Pge,isHeaders:Bge,isUndefined:ny,isDate:wge,isFile:Sge,isBlob:Age,isRegExp:jge,isFunction:Fs,isStream:Cge,isURLSearchParams:Mge,isTypedArray:zge,isFileList:Ege,forEach:jy,merge:ZM,extend:kge,trim:Lge,stripBOM:Dge,inherits:Oge,toFlatObject:Nge,kindOf:N1,kindOfTest:Ua,endsWith:Fge,toArray:Uge,forEachEntry:Hge,matchAll:Gge,isHTMLForm:Wge,hasOwnProperty:bN,hasOwnProp:bN,reduceDescriptors:L5,freezeMethods:Xge,toObjectSet:Jge,toCamelCase:Vge,noop:Kge,toFiniteNumber:$ge,findKey:P5,global:zf,isContextDefined:B5,isSpecCompliantForm:Yge,toJSONObject:qge,isAsyncFn:Qge,isThenable:Zge,setImmediate:k5,asap:eve,isIterable:tve};function qt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Re.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const D5=qt.prototype,O5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{O5[n]={value:n}});Object.defineProperties(qt,O5);Object.defineProperty(D5,"isAxiosError",{value:!0});qt.from=(n,e,t,r,i,s)=>{const o=Object.create(D5);return Re.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),qt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const nve=null;function eR(n){return Re.isPlainObject(n)||Re.isArray(n)}function N5(n){return Re.endsWith(n,"[]")?n.slice(0,-2):n}function _N(n,e,t){return n?n.concat(e).map(function(i,s){return i=N5(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function rve(n){return Re.isArray(n)&&!n.some(eR)}const ive=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function z1(n,e,t){if(!Re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!Re.isUndefined(w[b])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Re.isDate(y))return y.toISOString();if(Re.isBoolean(y))return y.toString();if(!l&&Re.isBlob(y))throw new qt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(y)||Re.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,w){let x=y;if(y&&!w&&typeof y=="object"){if(Re.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(Re.isArray(y)&&rve(y)||(Re.isFileList(y)||Re.endsWith(b,"[]"))&&(x=Re.toArray(y)))return b=N5(b),x.forEach(function(_,T){!(Re.isUndefined(_)||_===null)&&e.append(o===!0?_N([b],T,s):o===null?b:b+"[]",c(_))}),!1}return eR(y)?!0:(e.append(_N(w,b,s),c(y)),!1)}const p=[],m=Object.assign(ive,{defaultVisitor:d,convertValue:c,isVisitable:eR});function v(y,b){if(!Re.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(y),Re.forEach(y,function(x,A){(!(Re.isUndefined(x)||x===null)&&i.call(e,x,Re.isString(A)?A.trim():A,b,m))===!0&&v(x,b?b.concat(A):[A])}),p.pop()}}if(!Re.isObject(n))throw new TypeError("data must be an object");return v(n),e}function wN(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function QP(n,e){this._pairs=[],n&&z1(n,this,e)}const F5=QP.prototype;F5.append=function(e,t){this._pairs.push([e,t])};F5.toString=function(e){const t=e?function(r){return e.call(this,r,wN)}:wN;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function sve(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function U5(n,e,t){if(!e)return n;const r=t&&t.encode||sve;Re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=Re.isURLSearchParams(e)?e.toString():new QP(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class SN{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const z5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ove=typeof URLSearchParams<"u"?URLSearchParams:QP,ave=typeof FormData<"u"?FormData:null,lve=typeof Blob<"u"?Blob:null,cve={isBrowser:!0,classes:{URLSearchParams:ove,FormData:ave,Blob:lve},protocols:["http","https","file","blob","url","data"]},ZP=typeof window<"u"&&typeof document<"u",tR=typeof navigator=="object"&&navigator||void 0,uve=ZP&&(!tR||["ReactNative","NativeScript","NS"].indexOf(tR.product)<0),dve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fve=ZP&&window.location.href||"http://localhost",hve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZP,hasStandardBrowserEnv:uve,hasStandardBrowserWebWorkerEnv:dve,navigator:tR,origin:fve},Symbol.toStringTag,{value:"Module"})),Ki={...hve,...cve};function pve(n,e){return z1(n,new Ki.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ki.isNode&&Re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function mve(n){return Re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gve(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function H5(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Re.isArray(i)?i.length:o,l?(Re.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Re.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Re.isArray(i[o])&&(i[o]=gve(i[o])),!a)}if(Re.isFormData(n)&&Re.isFunction(n.entries)){const t={};return Re.forEachEntry(n,(r,i)=>{e(mve(r),i,t,0)}),t}return null}function vve(n,e,t){if(Re.isString(n))try{return(e||JSON.parse)(n),Re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Xy={transitional:z5,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Re.isObject(e);if(s&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return i?JSON.stringify(H5(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e)||Re.isReadableStream(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pve(e,this.formSerializer).toString();if((a=Re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return z1(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),vve(e)):e}],transformResponse:[function(e){const t=this.transitional||Xy.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Re.isResponse(e)||Re.isReadableStream(e))return e;if(e&&Re.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?qt.from(a,qt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ki.classes.FormData,Blob:Ki.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],n=>{Xy.headers[n]={}});const yve=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xve=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&yve[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},AN=Symbol("internals");function Uv(n){return n&&String(n).trim().toLowerCase()}function sw(n){return n===!1||n==null?n:Re.isArray(n)?n.map(sw):String(n)}function bve(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const _ve=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function CC(n,e,t,r,i){if(Re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Re.isString(e)){if(Re.isString(r))return e.indexOf(r)!==-1;if(Re.isRegExp(r))return r.test(e)}}function wve(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Sve(n,e){const t=Re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Us=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,c){const d=Uv(l);if(!d)throw new Error("header name must be a non-empty string");const p=Re.findKey(i,d);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||l]=sw(a))}const o=(a,l)=>Re.forEach(a,(c,d)=>s(c,d,l));if(Re.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Re.isString(e)&&(e=e.trim())&&!_ve(e))o(xve(e),t);else if(Re.isObject(e)&&Re.isIterable(e)){let a={},l,c;for(const d of e){if(!Re.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?Re.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Uv(e),e){const r=Re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return bve(i);if(Re.isFunction(t))return t.call(this,i,r);if(Re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Uv(e),e){const r=Re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||CC(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Uv(o),o){const a=Re.findKey(r,o);a&&(!t||CC(r,r[a],a,t))&&(delete r[a],i=!0)}}return Re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||CC(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Re.forEach(this,(i,s)=>{const o=Re.findKey(r,s);if(o){t[o]=sw(i),delete t[s];return}const a=e?wve(s):String(s).trim();a!==s&&delete t[s],t[a]=sw(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[AN]=this[AN]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Uv(o);r[a]||(Sve(i,o),r[a]=!0)}return Re.isArray(e)?e.forEach(s):s(e),this}};Us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(Us.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Re.freezeMethods(Us);function TC(n,e){const t=this||Xy,r=e||t,i=Us.from(r.headers);let s=r.data;return Re.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function G5(n){return!!(n&&n.__CANCEL__)}function yg(n,e,t){qt.call(this,n??"canceled",qt.ERR_CANCELED,e,t),this.name="CanceledError"}Re.inherits(yg,qt,{__CANCEL__:!0});function W5(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new qt("Request failed with status code "+t.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ave(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Eve(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),t[i]=l,r[i]=c;let p=s,m=0;for(;p!==i;)m+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),c-o<e)return;const v=d&&c-d;return v?Math.round(m*1e3/v):void 0}}function Cve(n,e){let t=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n.apply(null,c)};return[(...c)=>{const d=Date.now(),p=d-t;p>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const oS=(n,e,t=3)=>{let r=0;const i=Eve(50,250);return Cve(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(p)},t)},EN=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},CN=n=>(...e)=>Re.asap(()=>n(...e)),Tve=Ki.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ki.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ki.origin),Ki.navigator&&/(msie|trident)/i.test(Ki.navigator.userAgent)):()=>!0,Mve=Ki.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];Re.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Re.isString(r)&&o.push("path="+r),Re.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rve(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ive(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function V5(n,e,t){let r=!Rve(e);return n&&(r||t==!1)?Ive(n,e):e}const TN=n=>n instanceof Us?{...n}:n;function yh(n,e){e=e||{};const t={};function r(c,d,p,m){return Re.isPlainObject(c)&&Re.isPlainObject(d)?Re.merge.call({caseless:m},c,d):Re.isPlainObject(d)?Re.merge({},d):Re.isArray(d)?d.slice():d}function i(c,d,p,m){if(Re.isUndefined(d)){if(!Re.isUndefined(c))return r(void 0,c,p,m)}else return r(c,d,p,m)}function s(c,d){if(!Re.isUndefined(d))return r(void 0,d)}function o(c,d){if(Re.isUndefined(d)){if(!Re.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,p){if(p in e)return r(c,d);if(p in n)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,p)=>i(TN(c),TN(d),p,!0)};return Re.forEach(Object.keys(Object.assign({},n,e)),function(d){const p=l[d]||i,m=p(n[d],e[d],d);Re.isUndefined(m)&&p!==a||(t[d]=m)}),t}const j5=n=>{const e=yh({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Us.from(o),e.url=U5(V5(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Re.isFormData(t)){if(Ki.hasStandardBrowserEnv||Ki.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Ki.hasStandardBrowserEnv&&(r&&Re.isFunction(r)&&(r=r(e)),r||r!==!1&&Tve(e.url))){const c=i&&s&&Mve.read(s);c&&o.set(i,c)}return e},Pve=typeof XMLHttpRequest<"u",Bve=Pve&&function(n){return new Promise(function(t,r){const i=j5(n);let s=i.data;const o=Us.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,p,m,v,y;function b(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function x(){if(!w)return;const _=Us.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:n,request:w};W5(function(D){t(D),b()},function(D){r(D),b()},R),w=null}"onloadend"in w?w.onloadend=x:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(x)},w.onabort=function(){w&&(r(new qt("Request aborted",qt.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new qt("Network Error",qt.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||z5;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new qt(T,R.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,n,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&Re.forEach(o.toJSON(),function(T,R){w.setRequestHeader(R,T)}),Re.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([m,y]=oS(c,!0),w.addEventListener("progress",m)),l&&w.upload&&([p,v]=oS(l),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(d=_=>{w&&(r(!_||_.type?new yg(null,n,w):_),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const A=Ave(i.url);if(A&&Ki.protocols.indexOf(A)===-1){r(new qt("Unsupported protocol "+A+":",qt.ERR_BAD_REQUEST,n));return}w.send(s||null)})},Lve=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof qt?d:new yg(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new qt(`timeout ${e} of ms exceeded`,qt.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Re.asap(a),l}},kve=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Dve=async function*(n,e){for await(const t of Ove(n))yield*kve(t,e)},Ove=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},MN=(n,e,t,r)=>{const i=Dve(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let p=d.byteLength;if(t){let m=s+=p;t(m)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},H1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",X5=H1&&typeof ReadableStream=="function",Nve=H1&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),J5=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Fve=X5&&J5(()=>{let n=!1;const e=new Request(Ki.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),RN=64*1024,nR=X5&&J5(()=>Re.isReadableStream(new Response("").body)),aS={stream:nR&&(n=>n.body)};H1&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!aS[e]&&(aS[e]=Re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new qt(`Response type '${e}' is not supported`,qt.ERR_NOT_SUPPORT,r)})})})(new Response);const Uve=async n=>{if(n==null)return 0;if(Re.isBlob(n))return n.size;if(Re.isSpecCompliantForm(n))return(await new Request(Ki.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(n)||Re.isArrayBuffer(n))return n.byteLength;if(Re.isURLSearchParams(n)&&(n=n+""),Re.isString(n))return(await Nve(n)).byteLength},zve=async(n,e)=>{const t=Re.toFiniteNumber(n.getContentLength());return t??Uve(e)},Hve=H1&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:p="same-origin",fetchOptions:m}=j5(n);c=c?(c+"").toLowerCase():"text";let v=Lve([i,s&&s.toAbortSignal()],o),y;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let w;try{if(l&&Fve&&t!=="get"&&t!=="head"&&(w=await zve(d,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(Re.isFormData(r)&&(P=R.headers.get("content-type"))&&d.setContentType(P),R.body){const[D,N]=EN(w,oS(CN(l)));r=MN(R.body,RN,D,N)}}Re.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;y=new Request(e,{...m,signal:v,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:x?p:void 0});let A=await fetch(y,m);const _=nR&&(c==="stream"||c==="response");if(nR&&(a||_&&b)){const R={};["status","statusText","headers"].forEach(L=>{R[L]=A[L]});const P=Re.toFiniteNumber(A.headers.get("content-length")),[D,N]=a&&EN(P,oS(CN(a),!0))||[];A=new Response(MN(A.body,RN,D,()=>{N&&N(),b&&b()}),R)}c=c||"text";let T=await aS[Re.findKey(aS,c)||"text"](A,n);return!_&&b&&b(),await new Promise((R,P)=>{W5(R,P,{data:T,headers:Us.from(A.headers),status:A.status,statusText:A.statusText,config:n,request:y})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,n,y),{cause:x.cause||x}):qt.from(x,x&&x.code,n,y)}}),rR={http:nve,xhr:Bve,fetch:Hve};Re.forEach(rR,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const IN=n=>`- ${n}`,Gve=n=>Re.isFunction(n)||n===null||n===!1,K5={getAdapter:n=>{n=Re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!Gve(t)&&(r=rR[(o=String(t)).toLowerCase()],r===void 0))throw new qt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(IN).join(`
`):" "+IN(s[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:rR};function MC(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yg(null,n)}function PN(n){return MC(n),n.headers=Us.from(n.headers),n.data=TC.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),K5.getAdapter(n.adapter||Xy.adapter)(n).then(function(r){return MC(n),r.data=TC.call(n,n.transformResponse,r),r.headers=Us.from(r.headers),r},function(r){return G5(r)||(MC(n),r&&r.response&&(r.response.data=TC.call(n,n.transformResponse,r.response),r.response.headers=Us.from(r.response.headers))),Promise.reject(r)})}const $5="1.10.0",G1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{G1[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const BN={};G1.transitional=function(e,t,r){function i(s,o){return"[Axios v"+$5+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new qt(i(o," has been removed"+(t?" in "+t:"")),qt.ERR_DEPRECATED);return t&&!BN[o]&&(BN[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};G1.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Wve(n,e,t){if(typeof n!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new qt("option "+s+" must be "+l,qt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new qt("Unknown option "+s,qt.ERR_BAD_OPTION)}}const ow={assertOptions:Wve,validators:G1},sl=ow.validators;let Qf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new SN,response:new SN}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=yh(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&ow.assertOptions(r,{silentJSONParsing:sl.transitional(sl.boolean),forcedJSONParsing:sl.transitional(sl.boolean),clarifyTimeoutError:sl.transitional(sl.boolean)},!1),i!=null&&(Re.isFunction(i)?t.paramsSerializer={serialize:i}:ow.assertOptions(i,{encode:sl.function,serialize:sl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ow.assertOptions(t,{baseUrl:sl.spelling("baseURL"),withXsrfToken:sl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Re.merge(s.common,s[t.method]);s&&Re.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=Us.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,p=0,m;if(!l){const y=[PN.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),m=y.length,d=Promise.resolve(t);p<m;)d=d.then(y[p++],y[p++]);return d}m=a.length;let v=t;for(p=0;p<m;){const y=a[p++],b=a[p++];try{v=y(v)}catch(w){b.call(this,w);break}}try{d=PN.call(this,v)}catch(y){return Promise.reject(y)}for(p=0,m=c.length;p<m;)d=d.then(c[p++],c[p++]);return d}getUri(e){e=yh(this.defaults,e);const t=V5(e.baseURL,e.url,e.allowAbsoluteUrls);return U5(t,e.params,e.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(e){Qf.prototype[e]=function(t,r){return this.request(yh(r||{},{method:e,url:t,data:(r||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(yh(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qf.prototype[e]=t(),Qf.prototype[e+"Form"]=t(!0)});let Vve=class Y5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new yg(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Y5(function(i){e=i}),cancel:e}}};function jve(n){return function(t){return n.apply(null,t)}}function Xve(n){return Re.isObject(n)&&n.isAxiosError===!0}const iR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iR).forEach(([n,e])=>{iR[e]=n});function q5(n){const e=new Qf(n),t=T5(Qf.prototype.request,e);return Re.extend(t,Qf.prototype,e,{allOwnKeys:!0}),Re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return q5(yh(n,i))},t}const Qr=q5(Xy);Qr.Axios=Qf;Qr.CanceledError=yg;Qr.CancelToken=Vve;Qr.isCancel=G5;Qr.VERSION=$5;Qr.toFormData=z1;Qr.AxiosError=qt;Qr.Cancel=Qr.CanceledError;Qr.all=function(e){return Promise.all(e)};Qr.spread=jve;Qr.isAxiosError=Xve;Qr.mergeConfig=yh;Qr.AxiosHeaders=Us;Qr.formToJSON=n=>H5(Re.isHTMLForm(n)?new FormData(n):n);Qr.getAdapter=K5.getAdapter;Qr.HttpStatusCode=iR;Qr.default=Qr;const{Axios:F0e,AxiosError:U0e,CanceledError:z0e,isCancel:H0e,CancelToken:G0e,VERSION:W0e,all:V0e,Cancel:j0e,isAxiosError:X0e,spread:J0e,toFormData:K0e,AxiosHeaders:$0e,HttpStatusCode:Y0e,formToJSON:q0e,getAdapter:Q0e,mergeConfig:Z0e}=Qr;var lS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lS.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",p=1,m=2,v=4,y=1,b=2,w=1,x=2,A=4,_=8,T=16,R=32,P=64,D=128,N=256,L=512,M=30,U="...",V=800,H=16,j=1,K=2,ee=3,ne=1/0,z=9007199254740991,G=17976931348623157e292,Y=NaN,le=4294967295,ge=le-1,ie=le>>>1,oe=[["ary",D],["bind",w],["bindKey",x],["curry",_],["curryRight",T],["flip",L],["partial",R],["partialRight",P],["rearg",N]],he="[object Arguments]",pe="[object Array]",q="[object AsyncFunction]",Ie="[object Boolean]",ke="[object Date]",xe="[object DOMException]",Le="[object Error]",we="[object Function]",Se="[object GeneratorFunction]",Me="[object Map]",Ke="[object Number]",Ye="[object Null]",nt="[object Object]",vt="[object Promise]",Je="[object Proxy]",rt="[object RegExp]",Ve="[object Set]",Q="[object String]",X="[object Symbol]",ye="[object Undefined]",ze="[object WeakMap]",Xe="[object WeakSet]",qe="[object ArrayBuffer]",dt="[object DataView]",et="[object Float32Array]",Pe="[object Float64Array]",ft="[object Int8Array]",_t="[object Int16Array]",gt="[object Int32Array]",it="[object Uint8Array]",pt="[object Uint8ClampedArray]",ce="[object Uint16Array]",Fe="[object Uint32Array]",lt=/\b__p \+= '';/g,ae=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,je=/&(?:amp|lt|gt|quot|#39);/g,tt=/[&<>"']/g,yt=RegExp(je.source),fn=RegExp(tt.source),Wt=/<%-([\s\S]+?)%>/g,En=/<%([\s\S]+?)%>/g,yr=/<%=([\s\S]+?)%>/g,xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/,xr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hs=/[\\^$.*+?()[\]{}|]/g,kc=RegExp(Hs.source),Ut=/^\s+/,Fn=/\s/,Ci=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,Ae=/,? & /,Oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,be=/[()=,{}\[\]\/\s]/,Ue=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mt=/\w*$/,Nt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Qt=/^\[object .+?Constructor\]$/,Zt=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,Cn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,br=/($^)/,qi=/['\n\r\u2028\u2029\\]/g,Oi="\\ud800-\\udfff",On="\\u0300-\\u036f",an="\\ufe20-\\ufe2f",Tl="\\u20d0-\\u20ff",or=On+an+Tl,vs="\\u2700-\\u27bf",wo="a-z\\xdf-\\xf6\\xf8-\\xff",Ni="\\xac\\xb1\\xd7\\xf7",Mn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jt="\\u2000-\\u206f",ui=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ar="A-Z\\xc0-\\xd6\\xd8-\\xde",Rn="\\ufe0e\\ufe0f",ys=Ni+Mn+jt+ui,So="['’]",Zr="["+Oi+"]",xd="["+ys+"]",bd="["+or+"]",xg="\\d+",Mh="["+vs+"]",bg="["+wo+"]",xs="[^"+Oi+ys+xg+vs+wo+ar+"]",_g="\\ud83c[\\udffb-\\udfff]",W1="(?:"+bd+"|"+_g+")",Jy="[^"+Oi+"]",Dc="(?:\\ud83c[\\udde6-\\uddff]){2}",Oc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+ar+"]",_d="\\u200d",Ky="(?:"+bg+"|"+xs+")",V1="(?:"+Ao+"|"+xs+")",Rh="(?:"+So+"(?:d|ll|m|re|s|t|ve))?",Ih="(?:"+So+"(?:D|LL|M|RE|S|T|VE))?",Nc=W1+"?",$y="["+Rn+"]?",wg="(?:"+_d+"(?:"+[Jy,Dc,Oc].join("|")+")"+$y+Nc+")*",bn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ph=$y+Nc+wg,qy="(?:"+[Mh,Dc,Oc].join("|")+")"+Ph,j1="(?:"+[Jy+bd+"?",bd,Dc,Oc,Zr].join("|")+")",X1=RegExp(So,"g"),Wr=RegExp(bd,"g"),wd=RegExp(_g+"(?="+_g+")|"+j1+Ph,"g"),J1=RegExp([Ao+"?"+bg+"+"+Rh+"(?="+[xd,Ao,"$"].join("|")+")",V1+"+"+Ih+"(?="+[xd,Ao+Ky,"$"].join("|")+")",Ao+"?"+Ky+"+"+Rh,Ao+"+"+Ih,Yy,bn,xg,qy].join("|"),"g"),Sg=RegExp("["+_d+Oi+or+Rn+"]"),K1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Eo=-1,Un={};Un[et]=Un[Pe]=Un[ft]=Un[_t]=Un[gt]=Un[it]=Un[pt]=Un[ce]=Un[Fe]=!0,Un[he]=Un[pe]=Un[qe]=Un[Ie]=Un[dt]=Un[ke]=Un[Le]=Un[we]=Un[Me]=Un[Ke]=Un[nt]=Un[rt]=Un[Ve]=Un[Q]=Un[ze]=!1;var Nn={};Nn[he]=Nn[pe]=Nn[qe]=Nn[dt]=Nn[Ie]=Nn[ke]=Nn[et]=Nn[Pe]=Nn[ft]=Nn[_t]=Nn[gt]=Nn[Me]=Nn[Ke]=Nn[nt]=Nn[rt]=Nn[Ve]=Nn[Q]=Nn[X]=Nn[it]=Nn[pt]=Nn[ce]=Nn[Fe]=!0,Nn[Le]=Nn[we]=Nn[ze]=!1;var Co={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},na={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ag={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qy=parseFloat,$1=parseInt,Gs=typeof fv=="object"&&fv&&fv.Object===Object&&fv,Y1=typeof self=="object"&&self&&self.Object===Object&&self,_r=Gs||Y1||Function("return this")(),Eg=e&&!e.nodeType&&e,ei=Eg&&!0&&n&&!n.nodeType&&n,Sd=ei&&ei.exports===Eg,Fc=Sd&&Gs.process,ti=function(){try{var de=ei&&ei.require&&ei.require("util").types;return de||Fc&&Fc.binding&&Fc.binding("util")}catch{}}(),kh=ti&&ti.isArrayBuffer,Dh=ti&&ti.isDate,Cg=ti&&ti.isMap,Oh=ti&&ti.isRegExp,Nh=ti&&ti.isSet,Ml=ti&&ti.isTypedArray;function Yn(de,De,Ce){switch(Ce.length){case 0:return de.call(De);case 1:return de.call(De,Ce[0]);case 2:return de.call(De,Ce[0],Ce[1]);case 3:return de.call(De,Ce[0],Ce[1],Ce[2])}return de.apply(De,Ce)}function To(de,De,Ce,ht){for(var Ot=-1,Xt=de==null?0:de.length;++Ot<Xt;){var qn=de[Ot];De(ht,qn,Ce(qn),de)}return ht}function Lr(de,De){for(var Ce=-1,ht=de==null?0:de.length;++Ce<ht&&De(de[Ce],Ce,de)!==!1;);return de}function Tg(de,De){for(var Ce=de==null?0:de.length;Ce--&&De(de[Ce],Ce,de)!==!1;);return de}function Mg(de,De){for(var Ce=-1,ht=de==null?0:de.length;++Ce<ht;)if(!De(de[Ce],Ce,de))return!1;return!0}function di(de,De){for(var Ce=-1,ht=de==null?0:de.length,Ot=0,Xt=[];++Ce<ht;){var qn=de[Ce];De(qn,Ce,de)&&(Xt[Ot++]=qn)}return Xt}function Ws(de,De){var Ce=de==null?0:de.length;return!!Ce&&js(de,De,0)>-1}function Uc(de,De,Ce){for(var ht=-1,Ot=de==null?0:de.length;++ht<Ot;)if(Ce(De,de[ht]))return!0;return!1}function zn(de,De){for(var Ce=-1,ht=de==null?0:de.length,Ot=Array(ht);++Ce<ht;)Ot[Ce]=De(de[Ce],Ce,de);return Ot}function Vs(de,De){for(var Ce=-1,ht=De.length,Ot=de.length;++Ce<ht;)de[Ot+Ce]=De[Ce];return de}function Fh(de,De,Ce,ht){var Ot=-1,Xt=de==null?0:de.length;for(ht&&Xt&&(Ce=de[++Ot]);++Ot<Xt;)Ce=De(Ce,de[Ot],Ot,de);return Ce}function Zy(de,De,Ce,ht){var Ot=de==null?0:de.length;for(ht&&Ot&&(Ce=de[--Ot]);Ot--;)Ce=De(Ce,de[Ot],Ot,de);return Ce}function Ad(de,De){for(var Ce=-1,ht=de==null?0:de.length;++Ce<ht;)if(De(de[Ce],Ce,de))return!0;return!1}var Uh=Fi("length");function ex(de){return de.split("")}function tx(de){return de.match(Oe)||[]}function Rg(de,De,Ce){var ht;return Ce(de,function(Ot,Xt,qn){if(De(Ot,Xt,qn))return ht=Xt,!1}),ht}function zc(de,De,Ce,ht){for(var Ot=de.length,Xt=Ce+(ht?1:-1);ht?Xt--:++Xt<Ot;)if(De(de[Xt],Xt,de))return Xt;return-1}function js(de,De,Ce){return De===De?jc(de,De,Ce):zc(de,Ed,Ce)}function Hc(de,De,Ce,ht){for(var Ot=Ce-1,Xt=de.length;++Ot<Xt;)if(ht(de[Ot],De))return Ot;return-1}function Ed(de){return de!==de}function Cd(de,De){var Ce=de==null?0:de.length;return Ce?Xs(de,De)/Ce:Y}function Fi(de){return function(De){return De==null?t:De[de]}}function Ui(de){return function(De){return de==null?t:de[De]}}function za(de,De,Ce,ht,Ot){return Ot(de,function(Xt,qn,Lt){Ce=ht?(ht=!1,Xt):De(Ce,Xt,qn,Lt)}),Ce}function ra(de,De){var Ce=de.length;for(de.sort(De);Ce--;)de[Ce]=de[Ce].value;return de}function Xs(de,De){for(var Ce,ht=-1,Ot=de.length;++ht<Ot;){var Xt=De(de[ht]);Xt!==t&&(Ce=Ce===t?Xt:Ce+Xt)}return Ce}function ia(de,De){for(var Ce=-1,ht=Array(de);++Ce<de;)ht[Ce]=De(Ce);return ht}function nx(de,De){return zn(De,function(Ce){return[Ce,de[Ce]]})}function zh(de){return de&&de.slice(0,Xc(de)+1).replace(Ut,"")}function Ti(de){return function(De){return de(De)}}function Mi(de,De){return zn(De,function(Ce){return de[Ce]})}function ni(de,De){return de.has(De)}function Hn(de,De){for(var Ce=-1,ht=de.length;++Ce<ht&&js(De,de[Ce],0)>-1;);return Ce}function Gc(de,De){for(var Ce=de.length;Ce--&&js(De,de[Ce],0)>-1;);return Ce}function Js(de,De){for(var Ce=de.length,ht=0;Ce--;)de[Ce]===De&&++ht;return ht}var rx=Ui(Co),ix=Ui(na);function Ig(de){return"\\"+Ag[de]}function Pg(de,De){return de==null?t:de[De]}function Rl(de){return Sg.test(de)}function Td(de){return K1.test(de)}function Wc(de){for(var De,Ce=[];!(De=de.next()).done;)Ce.push(De.value);return Ce}function Md(de){var De=-1,Ce=Array(de.size);return de.forEach(function(ht,Ot){Ce[++De]=[Ot,ht]}),Ce}function Vc(de,De){return function(Ce){return de(De(Ce))}}function Ks(de,De){for(var Ce=-1,ht=de.length,Ot=0,Xt=[];++Ce<ht;){var qn=de[Ce];(qn===De||qn===d)&&(de[Ce]=d,Xt[Ot++]=Ce)}return Xt}function Rd(de){var De=-1,Ce=Array(de.size);return de.forEach(function(ht){Ce[++De]=ht}),Ce}function sx(de){var De=-1,Ce=Array(de.size);return de.forEach(function(ht){Ce[++De]=[ht,ht]}),Ce}function jc(de,De,Ce){for(var ht=Ce-1,Ot=de.length;++ht<Ot;)if(de[ht]===De)return ht;return-1}function ox(de,De,Ce){for(var ht=Ce+1;ht--;)if(de[ht]===De)return ht;return ht}function Mo(de){return Rl(de)?Ro(de):Uh(de)}function rr(de){return Rl(de)?Bg(de):ex(de)}function Xc(de){for(var De=de.length;De--&&Fn.test(de.charAt(De)););return De}var Jc=Ui(Lh);function Ro(de){for(var De=wd.lastIndex=0;wd.test(de);)++De;return De}function Bg(de){return de.match(wd)||[]}function Kc(de){return de.match(J1)||[]}var ax=function de(De){De=De==null?_r:Ha.defaults(_r.Object(),De,Ha.pick(_r,Bh));var Ce=De.Array,ht=De.Date,Ot=De.Error,Xt=De.Function,qn=De.Math,Lt=De.Object,Vr=De.RegExp,jr=De.String,Ri=De.TypeError,Ga=Ce.prototype,Id=Xt.prototype,$c=Lt.prototype,kr=De["__core-js_shared__"],Yc=Id.toString,Sn=$c.hasOwnProperty,Lg=0,Io=function(){var u=/[^.]+$/.exec(kr&&kr.keys&&kr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Qi=$c.toString,Il=Yc.call(Lt),Hh=_r._,Gh=Vr("^"+Yc.call(Sn).replace(Hs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pd=Sd?De.Buffer:t,sa=De.Symbol,Bd=De.Uint8Array,kg=Pd?Pd.allocUnsafe:t,Ld=Vc(Lt.getPrototypeOf,Lt),Dg=Lt.create,Wh=$c.propertyIsEnumerable,Wa=Ga.splice,Og=sa?sa.isConcatSpreadable:t,Va=sa?sa.iterator:t,Po=sa?sa.toStringTag:t,qc=function(){try{var u=Qd(Lt,"defineProperty");return u({},"",{}),u}catch{}}(),kd=De.clearTimeout!==_r.clearTimeout&&De.clearTimeout,lx=ht&&ht.now!==_r.Date.now&&ht.now,cx=De.setTimeout!==_r.setTimeout&&De.setTimeout,Dd=qn.ceil,Od=qn.floor,Nd=Lt.getOwnPropertySymbols,ux=Pd?Pd.isBuffer:t,Ng=De.isFinite,q1=Ga.join,dx=Vc(Lt.keys,Lt),Dr=qn.max,fi=qn.min,fx=ht.now,hx=De.parseInt,Fg=qn.random,px=Ga.reverse,Qc=Qd(De,"DataView"),Fd=Qd(De,"Map"),Ug=Qd(De,"Promise"),Zc=Qd(De,"Set"),Pl=Qd(De,"WeakMap"),Bl=Qd(Lt,"create"),Vh=Pl&&new Pl,Ll={},mx=Zd(Qc),gx=Zd(Fd),vx=Zd(Ug),yx=Zd(Zc),Bo=Zd(Pl),Ud=sa?sa.prototype:t,oa=Ud?Ud.valueOf:t,eu=Ud?Ud.toString:t;function W(u){if(Er(u)&&!Jt(u)&&!(u instanceof It)){if(u instanceof hi)return u;if(Sn.call(u,"__wrapped__"))return d2(u)}return new hi(u)}var aa=function(){function u(){}return function(g){if(!dr(g))return{};if(Dg)return Dg(g);u.prototype=g;var E=new u;return u.prototype=t,E}}();function zd(){}function hi(u,g){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=t}W.templateSettings={escape:Wt,evaluate:En,interpolate:yr,variable:"",imports:{_:W}},W.prototype=zd.prototype,W.prototype.constructor=W,hi.prototype=aa(zd.prototype),hi.prototype.constructor=hi;function It(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Q1(){var u=new It(this.__wrapped__);return u.__actions__=yi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=yi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=yi(this.__views__),u}function Z1(){if(this.__filtered__){var u=new It(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Zi(){var u=this.__wrapped__.value(),g=this.__dir__,E=Jt(u),B=g<0,F=E?u.length:0,J=Z5(0,F,this.__views__),se=J.start,ue=J.end,ve=ue-se,Ge=B?ue:se-1,We=this.__iteratees__,$e=We.length,at=0,Et=fi(ve,this.__takeCount__);if(!E||!B&&F==ve&&Et==ve)return Ya(u,this.__actions__);var kt=[];e:for(;ve--&&at<Et;){Ge+=g;for(var ln=-1,Dt=u[Ge];++ln<$e;){var hn=We[ln],yn=hn.iteratee,to=hn.type,os=yn(Dt);if(to==K)Dt=os;else if(!os){if(to==j)continue e;break e}}kt[at++]=Dt}return kt}It.prototype=aa(zd.prototype),It.prototype.constructor=It;function lr(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var B=u[g];this.set(B[0],B[1])}}function xx(){this.__data__=Bl?Bl(null):{},this.size=0}function bx(u){var g=this.has(u)&&delete this.__data__[u];return this.size-=g?1:0,g}function _x(u){var g=this.__data__;if(Bl){var E=g[u];return E===l?t:E}return Sn.call(g,u)?g[u]:t}function wx(u){var g=this.__data__;return Bl?g[u]!==t:Sn.call(g,u)}function Sx(u,g){var E=this.__data__;return this.size+=this.has(u)?0:1,E[u]=Bl&&g===t?l:g,this}lr.prototype.clear=xx,lr.prototype.delete=bx,lr.prototype.get=_x,lr.prototype.has=wx,lr.prototype.set=Sx;function $s(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var B=u[g];this.set(B[0],B[1])}}function Ax(){this.__data__=[],this.size=0}function zg(u){var g=this.__data__,E=Xa(g,u);if(E<0)return!1;var B=g.length-1;return E==B?g.pop():Wa.call(g,E,1),--this.size,!0}function Ex(u){var g=this.__data__,E=Xa(g,u);return E<0?t:g[E][1]}function Cx(u){return Xa(this.__data__,u)>-1}function jh(u,g){var E=this.__data__,B=Xa(E,u);return B<0?(++this.size,E.push([u,g])):E[B][1]=g,this}$s.prototype.clear=Ax,$s.prototype.delete=zg,$s.prototype.get=Ex,$s.prototype.has=Cx,$s.prototype.set=jh;function bs(u){var g=-1,E=u==null?0:u.length;for(this.clear();++g<E;){var B=u[g];this.set(B[0],B[1])}}function Tx(){this.size=0,this.__data__={hash:new lr,map:new(Fd||$s),string:new lr}}function Hg(u){var g=Vx(this,u).delete(u);return this.size-=g?1:0,g}function Mx(u){return Vx(this,u).get(u)}function Rx(u){return Vx(this,u).has(u)}function Xh(u,g){var E=Vx(this,u),B=E.size;return E.set(u,g),this.size+=E.size==B?0:1,this}bs.prototype.clear=Tx,bs.prototype.delete=Hg,bs.prototype.get=Mx,bs.prototype.has=Rx,bs.prototype.set=Xh;function ja(u){var g=-1,E=u==null?0:u.length;for(this.__data__=new bs;++g<E;)this.add(u[g])}function Gg(u){return this.__data__.set(u,l),this}function Ix(u){return this.__data__.has(u)}ja.prototype.add=ja.prototype.push=Gg,ja.prototype.has=Ix;function Or(u){var g=this.__data__=new $s(u);this.size=g.size}function eA(){this.__data__=new $s,this.size=0}function tA(u){var g=this.__data__,E=g.delete(u);return this.size=g.size,E}function Jh(u){return this.__data__.get(u)}function kl(u){return this.__data__.has(u)}function nA(u,g){var E=this.__data__;if(E instanceof $s){var B=E.__data__;if(!Fd||B.length<i-1)return B.push([u,g]),this.size=++E.size,this;E=this.__data__=new bs(B)}return E.set(u,g),this.size=E.size,this}Or.prototype.clear=eA,Or.prototype.delete=tA,Or.prototype.get=Jh,Or.prototype.has=kl,Or.prototype.set=nA;function ot(u,g){var E=Jt(u),B=!E&&ef(u),F=!E&&!B&&uu(u),J=!E&&!B&&!F&&up(u),se=E||B||F||J,ue=se?ia(u.length,jr):[],ve=ue.length;for(var Ge in u)(g||Sn.call(u,Ge))&&!(se&&(Ge=="length"||F&&(Ge=="offset"||Ge=="parent")||J&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||zl(Ge,ve)))&&ue.push(Ge);return ue}function Hd(u){var g=u.length;return g?u[ko(0,g-1)]:t}function Wg(u,g){return jx(yi(u),Ja(g,0,u.length))}function Px(u){return jx(yi(u))}function Vg(u,g,E){(E!==t&&!ua(u[g],E)||E===t&&!(g in u))&&Lo(u,g,E)}function Ys(u,g,E){var B=u[g];(!(Sn.call(u,g)&&ua(B,E))||E===t&&!(g in u))&&Lo(u,g,E)}function Xa(u,g){for(var E=u.length;E--;)if(ua(u[E][0],g))return E;return-1}function jg(u,g,E,B){return qs(u,function(F,J,se){g(B,F,E(F),se)}),B}function Xg(u,g){return u&&Ss(g,bi(g),u)}function Bx(u,g){return u&&Ss(g,Es(g),u)}function Lo(u,g,E){g=="__proto__"&&qc?qc(u,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):u[g]=E}function Kh(u,g){for(var E=-1,B=g.length,F=Ce(B),J=u==null;++E<B;)F[E]=J?t:bA(u,g[E]);return F}function Ja(u,g,E){return u===u&&(E!==t&&(u=u<=E?u:E),g!==t&&(u=u>=g?u:g)),u}function es(u,g,E,B,F,J){var se,ue=g&p,ve=g&m,Ge=g&v;if(E&&(se=F?E(u,B,F,J):E(u)),se!==t)return se;if(!dr(u))return u;var We=Jt(u);if(We){if(se=t8(u),!ue)return yi(u,se)}else{var $e=zi(u),at=$e==we||$e==Se;if(uu(u))return ov(u,ue);if($e==nt||$e==he||at&&!F){if(se=ve||at?{}:n2(u),!ue)return ve?Gx(u,Bx(se,u)):oA(u,Xg(se,u))}else{if(!Nn[$e])return F?u:{};se=n8(u,$e,ue)}}J||(J=new Or);var Et=J.get(u);if(Et)return Et;J.set(u,se),P2(u)?u.forEach(function(Dt){se.add(es(Dt,g,E,Dt,u,J))}):R2(u)&&u.forEach(function(Dt,hn){se.set(hn,es(Dt,g,E,hn,u,J))});var kt=Ge?ve?gn:Ar:ve?Es:bi,ln=We?t:kt(u);return Lr(ln||u,function(Dt,hn){ln&&(hn=Dt,Dt=u[hn]),Ys(se,hn,es(Dt,g,E,hn,u,J))}),se}function Jg(u){var g=bi(u);return function(E){return $h(E,u,g)}}function $h(u,g,E){var B=E.length;if(u==null)return!B;for(u=Lt(u);B--;){var F=E[B],J=g[F],se=u[F];if(se===t&&!(F in u)||!J(se))return!1}return!0}function Kg(u,g,E){if(typeof u!="function")throw new Ri(o);return uv(function(){u.apply(t,E)},g)}function Dl(u,g,E,B){var F=-1,J=Ws,se=!0,ue=u.length,ve=[],Ge=g.length;if(!ue)return ve;E&&(g=zn(g,Ti(E))),B?(J=Uc,se=!1):g.length>=i&&(J=ni,se=!1,g=new ja(g));e:for(;++F<ue;){var We=u[F],$e=E==null?We:E(We);if(We=B||We!==0?We:0,se&&$e===$e){for(var at=Ge;at--;)if(g[at]===$e)continue e;ve.push(We)}else J(g,$e,B)||ve.push(We)}return ve}var qs=lv(ts),Lx=lv(nu,!0);function rA(u,g){var E=!0;return qs(u,function(B,F,J){return E=!!g(B,F,J),E}),E}function Gd(u,g,E){for(var B=-1,F=u.length;++B<F;){var J=u[B],se=g(J);if(se!=null&&(ue===t?se===se&&!eo(se):E(se,ue)))var ue=se,ve=J}return ve}function kx(u,g,E,B){var F=u.length;for(E=en(E),E<0&&(E=-E>F?0:F+E),B=B===t||B>F?F:en(B),B<0&&(B+=F),B=E>B?0:L2(B);E<B;)u[E++]=g;return u}function $g(u,g){var E=[];return qs(u,function(B,F,J){g(B,F,J)&&E.push(B)}),E}function Xr(u,g,E,B,F){var J=-1,se=u.length;for(E||(E=i8),F||(F=[]);++J<se;){var ue=u[J];g>0&&E(ue)?g>1?Xr(ue,g-1,E,B,F):Vs(F,ue):B||(F[F.length]=ue)}return F}var tu=ap(),Wd=ap(!0);function ts(u,g){return u&&tu(u,g,bi)}function nu(u,g){return u&&Wd(u,g,bi)}function Ol(u,g){return di(g,function(E){return Hl(u[E])})}function Qs(u,g){g=Qa(g,u);for(var E=0,B=g.length;u!=null&&E<B;)u=u[tl(g[E++])];return E&&E==B?u:t}function Yh(u,g,E){var B=g(u);return Jt(u)?B:Vs(B,E(u))}function ri(u){return u==null?u===t?ye:Ye:Po&&Po in Lt(u)?Q5(u):d8(u)}function Vd(u,g){return u>g}function Dx(u,g){return u!=null&&Sn.call(u,g)}function Yg(u,g){return u!=null&&g in Lt(u)}function iA(u,g,E){return u>=fi(g,E)&&u<Dr(g,E)}function ru(u,g,E){for(var B=E?Uc:Ws,F=u[0].length,J=u.length,se=J,ue=Ce(J),ve=1/0,Ge=[];se--;){var We=u[se];se&&g&&(We=zn(We,Ti(g))),ve=fi(We.length,ve),ue[se]=!E&&(g||F>=120&&We.length>=120)?new ja(se&&We):t}We=u[0];var $e=-1,at=ue[0];e:for(;++$e<F&&Ge.length<ve;){var Et=We[$e],kt=g?g(Et):Et;if(Et=E||Et!==0?Et:0,!(at?ni(at,kt):B(Ge,kt,E))){for(se=J;--se;){var ln=ue[se];if(!(ln?ni(ln,kt):B(u[se],kt,E)))continue e}at&&at.push(kt),Ge.push(Et)}}return Ge}function qg(u,g,E,B){return ts(u,function(F,J,se){g(B,E(F),J,se)}),B}function Gn(u,g,E){g=Qa(g,u),u=o2(u,g);var B=u==null?u:u[tl(No(g))];return B==null?t:Yn(B,u,E)}function Kt(u){return Er(u)&&ri(u)==he}function wr(u){return Er(u)&&ri(u)==qe}function Sr(u){return Er(u)&&ri(u)==ke}function cr(u,g,E,B,F){return u===g?!0:u==null||g==null||!Er(u)&&!Er(g)?u!==u&&g!==g:ns(u,g,E,B,cr,F)}function ns(u,g,E,B,F,J){var se=Jt(u),ue=Jt(g),ve=se?pe:zi(u),Ge=ue?pe:zi(g);ve=ve==he?nt:ve,Ge=Ge==he?nt:Ge;var We=ve==nt,$e=Ge==nt,at=ve==Ge;if(at&&uu(u)){if(!uu(g))return!1;se=!0,We=!1}if(at&&!We)return J||(J=new Or),se||up(u)?St(u,g,E,B,F,J):$t(u,g,ve,E,B,F,J);if(!(E&y)){var Et=We&&Sn.call(u,"__wrapped__"),kt=$e&&Sn.call(g,"__wrapped__");if(Et||kt){var ln=Et?u.value():u,Dt=kt?g.value():g;return J||(J=new Or),F(ln,Dt,E,B,J)}}return at?(J||(J=new Or),Gt(u,g,E,B,F,J)):!1}function iu(u){return Er(u)&&zi(u)==Me}function ur(u,g,E,B){var F=E.length,J=F,se=!B;if(u==null)return!J;for(u=Lt(u);F--;){var ue=E[F];if(se&&ue[2]?ue[1]!==u[ue[0]]:!(ue[0]in u))return!1}for(;++F<J;){ue=E[F];var ve=ue[0],Ge=u[ve],We=ue[1];if(se&&ue[2]){if(Ge===t&&!(ve in u))return!1}else{var $e=new Or;if(B)var at=B(Ge,We,ve,u,g,$e);if(!(at===t?cr(We,Ge,y|b,B,$e):at))return!1}}return!0}function su(u){if(!dr(u)||o8(u))return!1;var g=Hl(u)?Gh:Qt;return g.test(Zd(u))}function ou(u){return Er(u)&&ri(u)==rt}function qh(u){return Er(u)&&zi(u)==Ve}function Qg(u){return Er(u)&&qx(u.length)&&!!Un[ri(u)]}function au(u){return typeof u=="function"?u:u==null?Cs:typeof u=="object"?Jt(u)?Qh(u[0],u[1]):Xd(u):V2(u)}function pi(u){if(!cv(u))return dx(u);var g=[];for(var E in Lt(u))Sn.call(u,E)&&E!="constructor"&&g.push(E);return g}function Zg(u){if(!dr(u))return u8(u);var g=cv(u),E=[];for(var B in u)B=="constructor"&&(g||!Sn.call(u,B))||E.push(B);return E}function jd(u,g){return u<g}function Nl(u,g){var E=-1,B=As(u)?Ce(u.length):[];return qs(u,function(F,J,se){B[++E]=g(F,J,se)}),B}function Xd(u){var g=lA(u);return g.length==1&&g[0][2]?i2(g[0][0],g[0][1]):function(E){return E===u||ur(E,u,g)}}function Qh(u,g){return uA(u)&&r2(g)?i2(tl(u),g):function(E){var B=bA(E,u);return B===t&&B===g?_A(E,u):cr(g,B,y|b)}}function Zs(u,g,E,B,F){u!==g&&tu(g,function(J,se){if(F||(F=new Or),dr(J))Zh(u,g,se,E,Zs,B,F);else{var ue=B?B(fA(u,se),J,se+"",u,g,F):t;ue===t&&(ue=J),Vg(u,se,ue)}},Es)}function Zh(u,g,E,B,F,J,se){var ue=fA(u,E),ve=fA(g,E),Ge=se.get(ve);if(Ge){Vg(u,E,Ge);return}var We=J?J(ue,ve,E+"",u,g,se):t,$e=We===t;if($e){var at=Jt(ve),Et=!at&&uu(ve),kt=!at&&!Et&&up(ve);We=ve,at||Et||kt?Jt(ue)?We=ue:Nr(ue)?We=yi(ue):Et?($e=!1,We=ov(ve,!0)):kt?($e=!1,We=Hx(ve,!0)):We=[]:dv(ve)||ef(ve)?(We=ue,ef(ue)?We=k2(ue):(!dr(ue)||Hl(ue))&&(We=n2(ve))):$e=!1}$e&&(se.set(ve,We),F(We,ve,B,J,se),se.delete(ve)),Vg(u,E,We)}function la(u,g){var E=u.length;if(E)return g+=g<0?E:0,zl(g,E)?u[g]:t}function Jd(u,g,E){g.length?g=zn(g,function(J){return Jt(J)?function(se){return Qs(se,J.length===1?J[0]:J)}:J}):g=[Cs];var B=-1;g=zn(g,Ti(Bt()));var F=Nl(u,function(J,se,ue){var ve=zn(g,function(Ge){return Ge(J)});return{criteria:ve,index:++B,value:J}});return ra(F,function(J,se){return op(J,se,E)})}function Kd(u,g){return ep(u,g,function(E,B){return _A(u,B)})}function ep(u,g,E){for(var B=-1,F=g.length,J={};++B<F;){var se=g[B],ue=Qs(u,se);E(ue,se)&&Fl(J,Qa(se,u),ue)}return J}function tp(u){return function(g){return Qs(g,u)}}function lu(u,g,E,B){var F=B?Hc:js,J=-1,se=g.length,ue=u;for(u===g&&(g=yi(g)),E&&(ue=zn(u,Ti(E)));++J<se;)for(var ve=0,Ge=g[J],We=E?E(Ge):Ge;(ve=F(ue,We,ve,B))>-1;)ue!==u&&Wa.call(ue,ve,1),Wa.call(u,ve,1);return u}function mi(u,g){for(var E=u?g.length:0,B=E-1;E--;){var F=g[E];if(E==B||F!==J){var J=F;zl(F)?Wa.call(u,F,1):rv(u,F)}}return u}function ko(u,g){return u+Od(Fg()*(g-u+1))}function _s(u,g,E,B){for(var F=-1,J=Dr(Dd((g-u)/(E||1)),0),se=Ce(J);J--;)se[B?J:++F]=u,u+=E;return se}function cu(u,g){var E="";if(!u||g<1||g>z)return E;do g%2&&(E+=u),g=Od(g/2),g&&(u+=u);while(g);return E}function Rt(u,g){return hA(s2(u,g,Cs),u+"")}function Ox(u){return Hd(dp(u))}function ev(u,g){var E=dp(u);return jx(E,Ja(g,0,E.length))}function Fl(u,g,E,B){if(!dr(u))return u;g=Qa(g,u);for(var F=-1,J=g.length,se=J-1,ue=u;ue!=null&&++F<J;){var ve=tl(g[F]),Ge=E;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return u;if(F!=se){var We=ue[ve];Ge=B?B(We,ve,ue):t,Ge===t&&(Ge=dr(We)?We:zl(g[F+1])?[]:{})}Ys(ue,ve,Ge),ue=ue[ve]}return u}var Nx=Vh?function(u,g){return Vh.set(u,g),u}:Cs,Ka=qc?function(u,g){return qc(u,"toString",{configurable:!0,enumerable:!1,value:SA(g),writable:!0})}:Cs;function Fx(u){return jx(dp(u))}function rs(u,g,E){var B=-1,F=u.length;g<0&&(g=-g>F?0:F+g),E=E>F?F:E,E<0&&(E+=F),F=g>E?0:E-g>>>0,g>>>=0;for(var J=Ce(F);++B<F;)J[B]=u[B+g];return J}function tv(u,g){var E;return qs(u,function(B,F,J){return E=g(B,F,J),!E}),!!E}function Do(u,g,E){var B=0,F=u==null?B:u.length;if(typeof g=="number"&&g===g&&F<=ie){for(;B<F;){var J=B+F>>>1,se=u[J];se!==null&&!eo(se)&&(E?se<=g:se<g)?B=J+1:F=J}return F}return np(u,g,Cs,E)}function np(u,g,E,B){var F=0,J=u==null?0:u.length;if(J===0)return 0;g=E(g);for(var se=g!==g,ue=g===null,ve=eo(g),Ge=g===t;F<J;){var We=Od((F+J)/2),$e=E(u[We]),at=$e!==t,Et=$e===null,kt=$e===$e,ln=eo($e);if(se)var Dt=B||kt;else Ge?Dt=kt&&(B||at):ue?Dt=kt&&at&&(B||!Et):ve?Dt=kt&&at&&!Et&&(B||!ln):Et||ln?Dt=!1:Dt=B?$e<=g:$e<g;Dt?F=We+1:J=We}return fi(J,ge)}function nv(u,g){for(var E=-1,B=u.length,F=0,J=[];++E<B;){var se=u[E],ue=g?g(se):se;if(!E||!ua(ue,ve)){var ve=ue;J[F++]=se===0?0:se}}return J}function rp(u){return typeof u=="number"?u:eo(u)?Y:+u}function gi(u){if(typeof u=="string")return u;if(Jt(u))return zn(u,gi)+"";if(eo(u))return eu?eu.call(u):"";var g=u+"";return g=="0"&&1/u==-ne?"-0":g}function $a(u,g,E){var B=-1,F=Ws,J=u.length,se=!0,ue=[],ve=ue;if(E)se=!1,F=Uc;else if(J>=i){var Ge=g?null:xi(u);if(Ge)return Rd(Ge);se=!1,F=ni,ve=new ja}else ve=g?[]:ue;e:for(;++B<J;){var We=u[B],$e=g?g(We):We;if(We=E||We!==0?We:0,se&&$e===$e){for(var at=ve.length;at--;)if(ve[at]===$e)continue e;g&&ve.push($e),ue.push(We)}else F(ve,$e,E)||(ve!==ue&&ve.push($e),ue.push(We))}return ue}function rv(u,g){return g=Qa(g,u),u=o2(u,g),u==null||delete u[tl(No(g))]}function iv(u,g,E,B){return Fl(u,g,E(Qs(u,g)),B)}function $d(u,g,E,B){for(var F=u.length,J=B?F:-1;(B?J--:++J<F)&&g(u[J],J,u););return E?rs(u,B?0:J,B?J+1:F):rs(u,B?J+1:0,B?F:J)}function Ya(u,g){var E=u;return E instanceof It&&(E=E.value()),Fh(g,function(B,F){return F.func.apply(F.thisArg,Vs([B],F.args))},E)}function sv(u,g,E){var B=u.length;if(B<2)return B?$a(u[0]):[];for(var F=-1,J=Ce(B);++F<B;)for(var se=u[F],ue=-1;++ue<B;)ue!=F&&(J[F]=Dl(J[F]||se,u[ue],g,E));return $a(Xr(J,1),g,E)}function qa(u,g,E){for(var B=-1,F=u.length,J=g.length,se={};++B<F;){var ue=B<J?g[B]:t;E(se,u[B],ue)}return se}function ip(u){return Nr(u)?u:[]}function vi(u){return typeof u=="function"?u:Cs}function Qa(u,g){return Jt(u)?u:uA(u,g)?[u]:u2(Ln(u))}var Ux=Rt;function Za(u,g,E){var B=u.length;return E=E===t?B:E,!g&&E>=B?u:rs(u,g,E)}var zx=kd||function(u){return _r.clearTimeout(u)};function ov(u,g){if(g)return u.slice();var E=u.length,B=kg?kg(E):new u.constructor(E);return u.copy(B),B}function sp(u){var g=new u.constructor(u.byteLength);return new Bd(g).set(new Bd(u)),g}function sA(u,g){var E=g?sp(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.byteLength)}function ws(u){var g=new u.constructor(u.source,Mt.exec(u));return g.lastIndex=u.lastIndex,g}function av(u){return oa?Lt(oa.call(u)):{}}function Hx(u,g){var E=g?sp(u.buffer):u.buffer;return new u.constructor(E,u.byteOffset,u.length)}function ca(u,g){if(u!==g){var E=u!==t,B=u===null,F=u===u,J=eo(u),se=g!==t,ue=g===null,ve=g===g,Ge=eo(g);if(!ue&&!Ge&&!J&&u>g||J&&se&&ve&&!ue&&!Ge||B&&se&&ve||!E&&ve||!F)return 1;if(!B&&!J&&!Ge&&u<g||Ge&&E&&F&&!B&&!J||ue&&E&&F||!se&&F||!ve)return-1}return 0}function op(u,g,E){for(var B=-1,F=u.criteria,J=g.criteria,se=F.length,ue=E.length;++B<se;){var ve=ca(F[B],J[B]);if(ve){if(B>=ue)return ve;var Ge=E[B];return ve*(Ge=="desc"?-1:1)}}return u.index-g.index}function el(u,g,E,B){for(var F=-1,J=u.length,se=E.length,ue=-1,ve=g.length,Ge=Dr(J-se,0),We=Ce(ve+Ge),$e=!B;++ue<ve;)We[ue]=g[ue];for(;++F<se;)($e||F<J)&&(We[E[F]]=u[F]);for(;Ge--;)We[ue++]=u[F++];return We}function Yd(u,g,E,B){for(var F=-1,J=u.length,se=-1,ue=E.length,ve=-1,Ge=g.length,We=Dr(J-ue,0),$e=Ce(We+Ge),at=!B;++F<We;)$e[F]=u[F];for(var Et=F;++ve<Ge;)$e[Et+ve]=g[ve];for(;++se<ue;)(at||F<J)&&($e[Et+E[se]]=u[F++]);return $e}function yi(u,g){var E=-1,B=u.length;for(g||(g=Ce(B));++E<B;)g[E]=u[E];return g}function Ss(u,g,E,B){var F=!E;E||(E={});for(var J=-1,se=g.length;++J<se;){var ue=g[J],ve=B?B(E[ue],u[ue],ue,E,u):t;ve===t&&(ve=u[ue]),F?Lo(E,ue,ve):Ys(E,ue,ve)}return E}function oA(u,g){return Ss(u,cA(u),g)}function Gx(u,g){return Ss(u,e2(u),g)}function qd(u,g){return function(E,B){var F=Jt(E)?To:jg,J=g?g():{};return F(E,u,Bt(B,2),J)}}function Ul(u){return Rt(function(g,E){var B=-1,F=E.length,J=F>1?E[F-1]:t,se=F>2?E[2]:t;for(J=u.length>3&&typeof J=="function"?(F--,J):t,se&&ss(E[0],E[1],se)&&(J=F<3?t:J,F=1),g=Lt(g);++B<F;){var ue=E[B];ue&&u(g,ue,B,J)}return g})}function lv(u,g){return function(E,B){if(E==null)return E;if(!As(E))return u(E,B);for(var F=E.length,J=g?F:-1,se=Lt(E);(g?J--:++J<F)&&B(se[J],J,se)!==!1;);return E}}function ap(u){return function(g,E,B){for(var F=-1,J=Lt(g),se=B(g),ue=se.length;ue--;){var ve=se[u?ue:++F];if(E(J[ve],ve,J)===!1)break}return g}}function aA(u,g,E){var B=g&w,F=h(u);function J(){var se=this&&this!==_r&&this instanceof J?F:u;return se.apply(B?E:this,arguments)}return J}function Wx(u){return function(g){g=Ln(g);var E=Rl(g)?rr(g):t,B=E?E[0]:g.charAt(0),F=E?Za(E,1).join(""):g.slice(1);return B[u]()+F}}function f(u){return function(g){return Fh(G2(H2(g).replace(X1,"")),u,"")}}function h(u){return function(){var g=arguments;switch(g.length){case 0:return new u;case 1:return new u(g[0]);case 2:return new u(g[0],g[1]);case 3:return new u(g[0],g[1],g[2]);case 4:return new u(g[0],g[1],g[2],g[3]);case 5:return new u(g[0],g[1],g[2],g[3],g[4]);case 6:return new u(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new u(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=aa(u.prototype),B=u.apply(E,g);return dr(B)?B:E}}function S(u,g,E){var B=h(u);function F(){for(var J=arguments.length,se=Ce(J),ue=J,ve=cp(F);ue--;)se[ue]=arguments[ue];var Ge=J<3&&se[0]!==ve&&se[J-1]!==ve?[]:Ks(se,ve);if(J-=Ge.length,J<E)return Bn(u,g,O,F.placeholder,t,se,Ge,t,t,E-J);var We=this&&this!==_r&&this instanceof F?B:u;return Yn(We,this,se)}return F}function C(u){return function(g,E,B){var F=Lt(g);if(!As(g)){var J=Bt(E,3);g=bi(g),E=function(ue){return J(F[ue],ue,F)}}var se=u(g,E,B);return se>-1?F[J?g[se]:se]:t}}function I(u){return Yt(function(g){var E=g.length,B=E,F=hi.prototype.thru;for(u&&g.reverse();B--;){var J=g[B];if(typeof J!="function")throw new Ri(o);if(F&&!se&&lp(J)=="wrapper")var se=new hi([],!0)}for(B=se?B:E;++B<E;){J=g[B];var ue=lp(J),ve=ue=="wrapper"?Oo(J):t;ve&&dA(ve[0])&&ve[1]==(D|_|R|N)&&!ve[4].length&&ve[9]==1?se=se[lp(ve[0])].apply(se,ve[3]):se=J.length==1&&dA(J)?se[ue]():se.thru(J)}return function(){var Ge=arguments,We=Ge[0];if(se&&Ge.length==1&&Jt(We))return se.plant(We).value();for(var $e=0,at=E?g[$e].apply(this,Ge):We;++$e<E;)at=g[$e].call(this,at);return at}})}function O(u,g,E,B,F,J,se,ue,ve,Ge){var We=g&D,$e=g&w,at=g&x,Et=g&(_|T),kt=g&L,ln=at?t:h(u);function Dt(){for(var hn=arguments.length,yn=Ce(hn),to=hn;to--;)yn[to]=arguments[to];if(Et)var os=cp(Dt),no=Js(yn,os);if(B&&(yn=el(yn,B,F,Et)),J&&(yn=Yd(yn,J,se,Et)),hn-=no,Et&&hn<Ge){var Fr=Ks(yn,os);return Bn(u,g,O,Dt.placeholder,E,yn,Fr,ue,ve,Ge-hn)}var da=$e?E:this,Wl=at?da[u]:u;return hn=yn.length,ue?yn=f8(yn,ue):kt&&hn>1&&yn.reverse(),We&&ve<hn&&(yn.length=ve),this&&this!==_r&&this instanceof Dt&&(Wl=ln||h(Wl)),Wl.apply(da,yn)}return Dt}function re(u,g){return function(E,B){return qg(E,u,g(B),{})}}function fe(u,g){return function(E,B){var F;if(E===t&&B===t)return g;if(E!==t&&(F=E),B!==t){if(F===t)return B;typeof E=="string"||typeof B=="string"?(E=gi(E),B=gi(B)):(E=rp(E),B=rp(B)),F=u(E,B)}return F}}function Be(u){return Yt(function(g){return g=zn(g,Ti(Bt())),Rt(function(E){var B=this;return u(g,function(F){return Yn(F,B,E)})})})}function Qe(u,g){g=g===t?" ":gi(g);var E=g.length;if(E<2)return E?cu(g,u):g;var B=cu(g,Dd(u/Mo(g)));return Rl(g)?Za(rr(B),0,u).join(""):B.slice(0,u)}function xt(u,g,E,B){var F=g&w,J=h(u);function se(){for(var ue=-1,ve=arguments.length,Ge=-1,We=B.length,$e=Ce(We+ve),at=this&&this!==_r&&this instanceof se?J:u;++Ge<We;)$e[Ge]=B[Ge];for(;ve--;)$e[Ge++]=arguments[++ue];return Yn(at,F?E:this,$e)}return se}function zt(u){return function(g,E,B){return B&&typeof B!="number"&&ss(g,E,B)&&(E=B=t),g=Gl(g),E===t?(E=g,g=0):E=Gl(E),B=B===t?g<E?1:-1:Gl(B),_s(g,E,B,u)}}function Ct(u){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=Fo(g),E=Fo(E)),u(g,E)}}function Bn(u,g,E,B,F,J,se,ue,ve,Ge){var We=g&_,$e=We?se:t,at=We?t:se,Et=We?J:t,kt=We?t:J;g|=We?R:P,g&=~(We?P:R),g&A||(g&=-4);var ln=[u,g,F,Et,$e,kt,at,ue,ve,Ge],Dt=E.apply(t,ln);return dA(u)&&a2(Dt,ln),Dt.placeholder=B,l2(Dt,u,g)}function wt(u){var g=qn[u];return function(E,B){if(E=Fo(E),B=B==null?0:fi(en(B),292),B&&Ng(E)){var F=(Ln(E)+"e").split("e"),J=g(F[0]+"e"+(+F[1]+B));return F=(Ln(J)+"e").split("e"),+(F[0]+"e"+(+F[1]-B))}return g(E)}}var xi=Zc&&1/Rd(new Zc([,-0]))[1]==ne?function(u){return new Zc(u)}:CA;function is(u){return function(g){var E=zi(g);return E==Me?Md(g):E==Ve?sx(g):nx(g,u(g))}}function _e(u,g,E,B,F,J,se,ue){var ve=g&x;if(!ve&&typeof u!="function")throw new Ri(o);var Ge=B?B.length:0;if(Ge||(g&=-97,B=F=t),se=se===t?se:Dr(en(se),0),ue=ue===t?ue:en(ue),Ge-=F?F.length:0,g&P){var We=B,$e=F;B=F=t}var at=ve?t:Oo(u),Et=[u,g,E,B,F,We,$e,J,se,ue];if(at&&c8(Et,at),u=Et[0],g=Et[1],E=Et[2],B=Et[3],F=Et[4],ue=Et[9]=Et[9]===t?ve?0:u.length:Dr(Et[9]-Ge,0),!ue&&g&(_|T)&&(g&=-25),!g||g==w)var kt=aA(u,g,E);else g==_||g==T?kt=S(u,g,ue):(g==R||g==(w|R))&&!F.length?kt=xt(u,g,E,B):kt=O.apply(t,Et);var ln=at?Nx:a2;return l2(ln(kt,Et),u,g)}function me(u,g,E,B){return u===t||ua(u,$c[E])&&!Sn.call(B,E)?g:u}function Te(u,g,E,B,F,J){return dr(u)&&dr(g)&&(J.set(g,u),Zs(u,g,t,Te,J),J.delete(g)),u}function ct(u){return dv(u)?t:u}function St(u,g,E,B,F,J){var se=E&y,ue=u.length,ve=g.length;if(ue!=ve&&!(se&&ve>ue))return!1;var Ge=J.get(u),We=J.get(g);if(Ge&&We)return Ge==g&&We==u;var $e=-1,at=!0,Et=E&b?new ja:t;for(J.set(u,g),J.set(g,u);++$e<ue;){var kt=u[$e],ln=g[$e];if(B)var Dt=se?B(ln,kt,$e,g,u,J):B(kt,ln,$e,u,g,J);if(Dt!==t){if(Dt)continue;at=!1;break}if(Et){if(!Ad(g,function(hn,yn){if(!ni(Et,yn)&&(kt===hn||F(kt,hn,E,B,J)))return Et.push(yn)})){at=!1;break}}else if(!(kt===ln||F(kt,ln,E,B,J))){at=!1;break}}return J.delete(u),J.delete(g),at}function $t(u,g,E,B,F,J,se){switch(E){case dt:if(u.byteLength!=g.byteLength||u.byteOffset!=g.byteOffset)return!1;u=u.buffer,g=g.buffer;case qe:return!(u.byteLength!=g.byteLength||!J(new Bd(u),new Bd(g)));case Ie:case ke:case Ke:return ua(+u,+g);case Le:return u.name==g.name&&u.message==g.message;case rt:case Q:return u==g+"";case Me:var ue=Md;case Ve:var ve=B&y;if(ue||(ue=Rd),u.size!=g.size&&!ve)return!1;var Ge=se.get(u);if(Ge)return Ge==g;B|=b,se.set(u,g);var We=St(ue(u),ue(g),B,F,J,se);return se.delete(u),We;case X:if(oa)return oa.call(u)==oa.call(g)}return!1}function Gt(u,g,E,B,F,J){var se=E&y,ue=Ar(u),ve=ue.length,Ge=Ar(g),We=Ge.length;if(ve!=We&&!se)return!1;for(var $e=ve;$e--;){var at=ue[$e];if(!(se?at in g:Sn.call(g,at)))return!1}var Et=J.get(u),kt=J.get(g);if(Et&&kt)return Et==g&&kt==u;var ln=!0;J.set(u,g),J.set(g,u);for(var Dt=se;++$e<ve;){at=ue[$e];var hn=u[at],yn=g[at];if(B)var to=se?B(yn,hn,at,g,u,J):B(hn,yn,at,u,g,J);if(!(to===t?hn===yn||F(hn,yn,E,B,J):to)){ln=!1;break}Dt||(Dt=at=="constructor")}if(ln&&!Dt){var os=u.constructor,no=g.constructor;os!=no&&"constructor"in u&&"constructor"in g&&!(typeof os=="function"&&os instanceof os&&typeof no=="function"&&no instanceof no)&&(ln=!1)}return J.delete(u),J.delete(g),ln}function Yt(u){return hA(s2(u,t,p2),u+"")}function Ar(u){return Yh(u,bi,cA)}function gn(u){return Yh(u,Es,e2)}var Oo=Vh?function(u){return Vh.get(u)}:CA;function lp(u){for(var g=u.name+"",E=Ll[g],B=Sn.call(Ll,g)?E.length:0;B--;){var F=E[B],J=F.func;if(J==null||J==u)return F.name}return g}function cp(u){var g=Sn.call(W,"placeholder")?W:u;return g.placeholder}function Bt(){var u=W.iteratee||AA;return u=u===AA?au:u,arguments.length?u(arguments[0],arguments[1]):u}function Vx(u,g){var E=u.__data__;return s8(g)?E[typeof g=="string"?"string":"hash"]:E.map}function lA(u){for(var g=bi(u),E=g.length;E--;){var B=g[E],F=u[B];g[E]=[B,F,r2(F)]}return g}function Qd(u,g){var E=Pg(u,g);return su(E)?E:t}function Q5(u){var g=Sn.call(u,Po),E=u[Po];try{u[Po]=t;var B=!0}catch{}var F=Qi.call(u);return B&&(g?u[Po]=E:delete u[Po]),F}var cA=Nd?function(u){return u==null?[]:(u=Lt(u),di(Nd(u),function(g){return Wh.call(u,g)}))}:TA,e2=Nd?function(u){for(var g=[];u;)Vs(g,cA(u)),u=Ld(u);return g}:TA,zi=ri;(Qc&&zi(new Qc(new ArrayBuffer(1)))!=dt||Fd&&zi(new Fd)!=Me||Ug&&zi(Ug.resolve())!=vt||Zc&&zi(new Zc)!=Ve||Pl&&zi(new Pl)!=ze)&&(zi=function(u){var g=ri(u),E=g==nt?u.constructor:t,B=E?Zd(E):"";if(B)switch(B){case mx:return dt;case gx:return Me;case vx:return vt;case yx:return Ve;case Bo:return ze}return g});function Z5(u,g,E){for(var B=-1,F=E.length;++B<F;){var J=E[B],se=J.size;switch(J.type){case"drop":u+=se;break;case"dropRight":g-=se;break;case"take":g=fi(g,u+se);break;case"takeRight":u=Dr(u,g-se);break}}return{start:u,end:g}}function e8(u){var g=u.match(Z);return g?g[1].split(Ae):[]}function t2(u,g,E){g=Qa(g,u);for(var B=-1,F=g.length,J=!1;++B<F;){var se=tl(g[B]);if(!(J=u!=null&&E(u,se)))break;u=u[se]}return J||++B!=F?J:(F=u==null?0:u.length,!!F&&qx(F)&&zl(se,F)&&(Jt(u)||ef(u)))}function t8(u){var g=u.length,E=new u.constructor(g);return g&&typeof u[0]=="string"&&Sn.call(u,"index")&&(E.index=u.index,E.input=u.input),E}function n2(u){return typeof u.constructor=="function"&&!cv(u)?aa(Ld(u)):{}}function n8(u,g,E){var B=u.constructor;switch(g){case qe:return sp(u);case Ie:case ke:return new B(+u);case dt:return sA(u,E);case et:case Pe:case ft:case _t:case gt:case it:case pt:case ce:case Fe:return Hx(u,E);case Me:return new B;case Ke:case Q:return new B(u);case rt:return ws(u);case Ve:return new B;case X:return av(u)}}function r8(u,g){var E=g.length;if(!E)return u;var B=E-1;return g[B]=(E>1?"& ":"")+g[B],g=g.join(E>2?", ":" "),u.replace(Ci,`{
/* [wrapped with `+g+`] */
`)}function i8(u){return Jt(u)||ef(u)||!!(Og&&u&&u[Og])}function zl(u,g){var E=typeof u;return g=g??z,!!g&&(E=="number"||E!="symbol"&&on.test(u))&&u>-1&&u%1==0&&u<g}function ss(u,g,E){if(!dr(E))return!1;var B=typeof g;return(B=="number"?As(E)&&zl(g,E.length):B=="string"&&g in E)?ua(E[g],u):!1}function uA(u,g){if(Jt(u))return!1;var E=typeof u;return E=="number"||E=="symbol"||E=="boolean"||u==null||eo(u)?!0:er.test(u)||!xn.test(u)||g!=null&&u in Lt(g)}function s8(u){var g=typeof u;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?u!=="__proto__":u===null}function dA(u){var g=lp(u),E=W[g];if(typeof E!="function"||!(g in It.prototype))return!1;if(u===E)return!0;var B=Oo(E);return!!B&&u===B[0]}function o8(u){return!!Io&&Io in u}var a8=kr?Hl:MA;function cv(u){var g=u&&u.constructor,E=typeof g=="function"&&g.prototype||$c;return u===E}function r2(u){return u===u&&!dr(u)}function i2(u,g){return function(E){return E==null?!1:E[u]===g&&(g!==t||u in Lt(E))}}function l8(u){var g=$x(u,function(B){return E.size===c&&E.clear(),B}),E=g.cache;return g}function c8(u,g){var E=u[1],B=g[1],F=E|B,J=F<(w|x|D),se=B==D&&E==_||B==D&&E==N&&u[7].length<=g[8]||B==(D|N)&&g[7].length<=g[8]&&E==_;if(!(J||se))return u;B&w&&(u[2]=g[2],F|=E&w?0:A);var ue=g[3];if(ue){var ve=u[3];u[3]=ve?el(ve,ue,g[4]):ue,u[4]=ve?Ks(u[3],d):g[4]}return ue=g[5],ue&&(ve=u[5],u[5]=ve?Yd(ve,ue,g[6]):ue,u[6]=ve?Ks(u[5],d):g[6]),ue=g[7],ue&&(u[7]=ue),B&D&&(u[8]=u[8]==null?g[8]:fi(u[8],g[8])),u[9]==null&&(u[9]=g[9]),u[0]=g[0],u[1]=F,u}function u8(u){var g=[];if(u!=null)for(var E in Lt(u))g.push(E);return g}function d8(u){return Qi.call(u)}function s2(u,g,E){return g=Dr(g===t?u.length-1:g,0),function(){for(var B=arguments,F=-1,J=Dr(B.length-g,0),se=Ce(J);++F<J;)se[F]=B[g+F];F=-1;for(var ue=Ce(g+1);++F<g;)ue[F]=B[F];return ue[g]=E(se),Yn(u,this,ue)}}function o2(u,g){return g.length<2?u:Qs(u,rs(g,0,-1))}function f8(u,g){for(var E=u.length,B=fi(g.length,E),F=yi(u);B--;){var J=g[B];u[B]=zl(J,E)?F[J]:t}return u}function fA(u,g){if(!(g==="constructor"&&typeof u[g]=="function")&&g!="__proto__")return u[g]}var a2=c2(Nx),uv=cx||function(u,g){return _r.setTimeout(u,g)},hA=c2(Ka);function l2(u,g,E){var B=g+"";return hA(u,r8(B,h8(e8(B),E)))}function c2(u){var g=0,E=0;return function(){var B=fx(),F=H-(B-E);if(E=B,F>0){if(++g>=V)return arguments[0]}else g=0;return u.apply(t,arguments)}}function jx(u,g){var E=-1,B=u.length,F=B-1;for(g=g===t?B:g;++E<g;){var J=ko(E,F),se=u[J];u[J]=u[E],u[E]=se}return u.length=g,u}var u2=l8(function(u){var g=[];return u.charCodeAt(0)===46&&g.push(""),u.replace(xr,function(E,B,F,J){g.push(F?J.replace(Ue,"$1"):B||E)}),g});function tl(u){if(typeof u=="string"||eo(u))return u;var g=u+"";return g=="0"&&1/u==-ne?"-0":g}function Zd(u){if(u!=null){try{return Yc.call(u)}catch{}try{return u+""}catch{}}return""}function h8(u,g){return Lr(oe,function(E){var B="_."+E[0];g&E[1]&&!Ws(u,B)&&u.push(B)}),u.sort()}function d2(u){if(u instanceof It)return u.clone();var g=new hi(u.__wrapped__,u.__chain__);return g.__actions__=yi(u.__actions__),g.__index__=u.__index__,g.__values__=u.__values__,g}function p8(u,g,E){(E?ss(u,g,E):g===t)?g=1:g=Dr(en(g),0);var B=u==null?0:u.length;if(!B||g<1)return[];for(var F=0,J=0,se=Ce(Dd(B/g));F<B;)se[J++]=rs(u,F,F+=g);return se}function m8(u){for(var g=-1,E=u==null?0:u.length,B=0,F=[];++g<E;){var J=u[g];J&&(F[B++]=J)}return F}function g8(){var u=arguments.length;if(!u)return[];for(var g=Ce(u-1),E=arguments[0],B=u;B--;)g[B-1]=arguments[B];return Vs(Jt(E)?yi(E):[E],Xr(g,1))}var v8=Rt(function(u,g){return Nr(u)?Dl(u,Xr(g,1,Nr,!0)):[]}),y8=Rt(function(u,g){var E=No(g);return Nr(E)&&(E=t),Nr(u)?Dl(u,Xr(g,1,Nr,!0),Bt(E,2)):[]}),x8=Rt(function(u,g){var E=No(g);return Nr(E)&&(E=t),Nr(u)?Dl(u,Xr(g,1,Nr,!0),t,E):[]});function b8(u,g,E){var B=u==null?0:u.length;return B?(g=E||g===t?1:en(g),rs(u,g<0?0:g,B)):[]}function _8(u,g,E){var B=u==null?0:u.length;return B?(g=E||g===t?1:en(g),g=B-g,rs(u,0,g<0?0:g)):[]}function w8(u,g){return u&&u.length?$d(u,Bt(g,3),!0,!0):[]}function S8(u,g){return u&&u.length?$d(u,Bt(g,3),!0):[]}function A8(u,g,E,B){var F=u==null?0:u.length;return F?(E&&typeof E!="number"&&ss(u,g,E)&&(E=0,B=F),kx(u,g,E,B)):[]}function f2(u,g,E){var B=u==null?0:u.length;if(!B)return-1;var F=E==null?0:en(E);return F<0&&(F=Dr(B+F,0)),zc(u,Bt(g,3),F)}function h2(u,g,E){var B=u==null?0:u.length;if(!B)return-1;var F=B-1;return E!==t&&(F=en(E),F=E<0?Dr(B+F,0):fi(F,B-1)),zc(u,Bt(g,3),F,!0)}function p2(u){var g=u==null?0:u.length;return g?Xr(u,1):[]}function E8(u){var g=u==null?0:u.length;return g?Xr(u,ne):[]}function C8(u,g){var E=u==null?0:u.length;return E?(g=g===t?1:en(g),Xr(u,g)):[]}function T8(u){for(var g=-1,E=u==null?0:u.length,B={};++g<E;){var F=u[g];B[F[0]]=F[1]}return B}function m2(u){return u&&u.length?u[0]:t}function M8(u,g,E){var B=u==null?0:u.length;if(!B)return-1;var F=E==null?0:en(E);return F<0&&(F=Dr(B+F,0)),js(u,g,F)}function R8(u){var g=u==null?0:u.length;return g?rs(u,0,-1):[]}var I8=Rt(function(u){var g=zn(u,ip);return g.length&&g[0]===u[0]?ru(g):[]}),P8=Rt(function(u){var g=No(u),E=zn(u,ip);return g===No(E)?g=t:E.pop(),E.length&&E[0]===u[0]?ru(E,Bt(g,2)):[]}),B8=Rt(function(u){var g=No(u),E=zn(u,ip);return g=typeof g=="function"?g:t,g&&E.pop(),E.length&&E[0]===u[0]?ru(E,t,g):[]});function L8(u,g){return u==null?"":q1.call(u,g)}function No(u){var g=u==null?0:u.length;return g?u[g-1]:t}function k8(u,g,E){var B=u==null?0:u.length;if(!B)return-1;var F=B;return E!==t&&(F=en(E),F=F<0?Dr(B+F,0):fi(F,B-1)),g===g?ox(u,g,F):zc(u,Ed,F,!0)}function D8(u,g){return u&&u.length?la(u,en(g)):t}var O8=Rt(g2);function g2(u,g){return u&&u.length&&g&&g.length?lu(u,g):u}function N8(u,g,E){return u&&u.length&&g&&g.length?lu(u,g,Bt(E,2)):u}function F8(u,g,E){return u&&u.length&&g&&g.length?lu(u,g,t,E):u}var U8=Yt(function(u,g){var E=u==null?0:u.length,B=Kh(u,g);return mi(u,zn(g,function(F){return zl(F,E)?+F:F}).sort(ca)),B});function z8(u,g){var E=[];if(!(u&&u.length))return E;var B=-1,F=[],J=u.length;for(g=Bt(g,3);++B<J;){var se=u[B];g(se,B,u)&&(E.push(se),F.push(B))}return mi(u,F),E}function pA(u){return u==null?u:px.call(u)}function H8(u,g,E){var B=u==null?0:u.length;return B?(E&&typeof E!="number"&&ss(u,g,E)?(g=0,E=B):(g=g==null?0:en(g),E=E===t?B:en(E)),rs(u,g,E)):[]}function G8(u,g){return Do(u,g)}function W8(u,g,E){return np(u,g,Bt(E,2))}function V8(u,g){var E=u==null?0:u.length;if(E){var B=Do(u,g);if(B<E&&ua(u[B],g))return B}return-1}function j8(u,g){return Do(u,g,!0)}function X8(u,g,E){return np(u,g,Bt(E,2),!0)}function J8(u,g){var E=u==null?0:u.length;if(E){var B=Do(u,g,!0)-1;if(ua(u[B],g))return B}return-1}function K8(u){return u&&u.length?nv(u):[]}function $8(u,g){return u&&u.length?nv(u,Bt(g,2)):[]}function Y8(u){var g=u==null?0:u.length;return g?rs(u,1,g):[]}function q8(u,g,E){return u&&u.length?(g=E||g===t?1:en(g),rs(u,0,g<0?0:g)):[]}function Q8(u,g,E){var B=u==null?0:u.length;return B?(g=E||g===t?1:en(g),g=B-g,rs(u,g<0?0:g,B)):[]}function Z8(u,g){return u&&u.length?$d(u,Bt(g,3),!1,!0):[]}function e6(u,g){return u&&u.length?$d(u,Bt(g,3)):[]}var t6=Rt(function(u){return $a(Xr(u,1,Nr,!0))}),n6=Rt(function(u){var g=No(u);return Nr(g)&&(g=t),$a(Xr(u,1,Nr,!0),Bt(g,2))}),r6=Rt(function(u){var g=No(u);return g=typeof g=="function"?g:t,$a(Xr(u,1,Nr,!0),t,g)});function i6(u){return u&&u.length?$a(u):[]}function s6(u,g){return u&&u.length?$a(u,Bt(g,2)):[]}function o6(u,g){return g=typeof g=="function"?g:t,u&&u.length?$a(u,t,g):[]}function mA(u){if(!(u&&u.length))return[];var g=0;return u=di(u,function(E){if(Nr(E))return g=Dr(E.length,g),!0}),ia(g,function(E){return zn(u,Fi(E))})}function v2(u,g){if(!(u&&u.length))return[];var E=mA(u);return g==null?E:zn(E,function(B){return Yn(g,t,B)})}var a6=Rt(function(u,g){return Nr(u)?Dl(u,g):[]}),l6=Rt(function(u){return sv(di(u,Nr))}),c6=Rt(function(u){var g=No(u);return Nr(g)&&(g=t),sv(di(u,Nr),Bt(g,2))}),u6=Rt(function(u){var g=No(u);return g=typeof g=="function"?g:t,sv(di(u,Nr),t,g)}),d6=Rt(mA);function f6(u,g){return qa(u||[],g||[],Ys)}function h6(u,g){return qa(u||[],g||[],Fl)}var p6=Rt(function(u){var g=u.length,E=g>1?u[g-1]:t;return E=typeof E=="function"?(u.pop(),E):t,v2(u,E)});function y2(u){var g=W(u);return g.__chain__=!0,g}function m6(u,g){return g(u),u}function Xx(u,g){return g(u)}var g6=Yt(function(u){var g=u.length,E=g?u[0]:0,B=this.__wrapped__,F=function(J){return Kh(J,u)};return g>1||this.__actions__.length||!(B instanceof It)||!zl(E)?this.thru(F):(B=B.slice(E,+E+(g?1:0)),B.__actions__.push({func:Xx,args:[F],thisArg:t}),new hi(B,this.__chain__).thru(function(J){return g&&!J.length&&J.push(t),J}))});function v6(){return y2(this)}function y6(){return new hi(this.value(),this.__chain__)}function x6(){this.__values__===t&&(this.__values__=B2(this.value()));var u=this.__index__>=this.__values__.length,g=u?t:this.__values__[this.__index__++];return{done:u,value:g}}function b6(){return this}function _6(u){for(var g,E=this;E instanceof zd;){var B=d2(E);B.__index__=0,B.__values__=t,g?F.__wrapped__=B:g=B;var F=B;E=E.__wrapped__}return F.__wrapped__=u,g}function w6(){var u=this.__wrapped__;if(u instanceof It){var g=u;return this.__actions__.length&&(g=new It(this)),g=g.reverse(),g.__actions__.push({func:Xx,args:[pA],thisArg:t}),new hi(g,this.__chain__)}return this.thru(pA)}function S6(){return Ya(this.__wrapped__,this.__actions__)}var A6=qd(function(u,g,E){Sn.call(u,E)?++u[E]:Lo(u,E,1)});function E6(u,g,E){var B=Jt(u)?Mg:rA;return E&&ss(u,g,E)&&(g=t),B(u,Bt(g,3))}function C6(u,g){var E=Jt(u)?di:$g;return E(u,Bt(g,3))}var T6=C(f2),M6=C(h2);function R6(u,g){return Xr(Jx(u,g),1)}function I6(u,g){return Xr(Jx(u,g),ne)}function P6(u,g,E){return E=E===t?1:en(E),Xr(Jx(u,g),E)}function x2(u,g){var E=Jt(u)?Lr:qs;return E(u,Bt(g,3))}function b2(u,g){var E=Jt(u)?Tg:Lx;return E(u,Bt(g,3))}var B6=qd(function(u,g,E){Sn.call(u,E)?u[E].push(g):Lo(u,E,[g])});function L6(u,g,E,B){u=As(u)?u:dp(u),E=E&&!B?en(E):0;var F=u.length;return E<0&&(E=Dr(F+E,0)),Qx(u)?E<=F&&u.indexOf(g,E)>-1:!!F&&js(u,g,E)>-1}var k6=Rt(function(u,g,E){var B=-1,F=typeof g=="function",J=As(u)?Ce(u.length):[];return qs(u,function(se){J[++B]=F?Yn(g,se,E):Gn(se,g,E)}),J}),D6=qd(function(u,g,E){Lo(u,E,g)});function Jx(u,g){var E=Jt(u)?zn:Nl;return E(u,Bt(g,3))}function O6(u,g,E,B){return u==null?[]:(Jt(g)||(g=g==null?[]:[g]),E=B?t:E,Jt(E)||(E=E==null?[]:[E]),Jd(u,g,E))}var N6=qd(function(u,g,E){u[E?0:1].push(g)},function(){return[[],[]]});function F6(u,g,E){var B=Jt(u)?Fh:za,F=arguments.length<3;return B(u,Bt(g,4),E,F,qs)}function U6(u,g,E){var B=Jt(u)?Zy:za,F=arguments.length<3;return B(u,Bt(g,4),E,F,Lx)}function z6(u,g){var E=Jt(u)?di:$g;return E(u,Yx(Bt(g,3)))}function H6(u){var g=Jt(u)?Hd:Ox;return g(u)}function G6(u,g,E){(E?ss(u,g,E):g===t)?g=1:g=en(g);var B=Jt(u)?Wg:ev;return B(u,g)}function W6(u){var g=Jt(u)?Px:Fx;return g(u)}function V6(u){if(u==null)return 0;if(As(u))return Qx(u)?Mo(u):u.length;var g=zi(u);return g==Me||g==Ve?u.size:pi(u).length}function j6(u,g,E){var B=Jt(u)?Ad:tv;return E&&ss(u,g,E)&&(g=t),B(u,Bt(g,3))}var X6=Rt(function(u,g){if(u==null)return[];var E=g.length;return E>1&&ss(u,g[0],g[1])?g=[]:E>2&&ss(g[0],g[1],g[2])&&(g=[g[0]]),Jd(u,Xr(g,1),[])}),Kx=lx||function(){return _r.Date.now()};function J6(u,g){if(typeof g!="function")throw new Ri(o);return u=en(u),function(){if(--u<1)return g.apply(this,arguments)}}function _2(u,g,E){return g=E?t:g,g=u&&g==null?u.length:g,_e(u,D,t,t,t,t,g)}function w2(u,g){var E;if(typeof g!="function")throw new Ri(o);return u=en(u),function(){return--u>0&&(E=g.apply(this,arguments)),u<=1&&(g=t),E}}var gA=Rt(function(u,g,E){var B=w;if(E.length){var F=Ks(E,cp(gA));B|=R}return _e(u,B,g,E,F)}),S2=Rt(function(u,g,E){var B=w|x;if(E.length){var F=Ks(E,cp(S2));B|=R}return _e(g,B,u,E,F)});function A2(u,g,E){g=E?t:g;var B=_e(u,_,t,t,t,t,t,g);return B.placeholder=A2.placeholder,B}function E2(u,g,E){g=E?t:g;var B=_e(u,T,t,t,t,t,t,g);return B.placeholder=E2.placeholder,B}function C2(u,g,E){var B,F,J,se,ue,ve,Ge=0,We=!1,$e=!1,at=!0;if(typeof u!="function")throw new Ri(o);g=Fo(g)||0,dr(E)&&(We=!!E.leading,$e="maxWait"in E,J=$e?Dr(Fo(E.maxWait)||0,g):J,at="trailing"in E?!!E.trailing:at);function Et(Fr){var da=B,Wl=F;return B=F=t,Ge=Fr,se=u.apply(Wl,da),se}function kt(Fr){return Ge=Fr,ue=uv(hn,g),We?Et(Fr):se}function ln(Fr){var da=Fr-ve,Wl=Fr-Ge,j2=g-da;return $e?fi(j2,J-Wl):j2}function Dt(Fr){var da=Fr-ve,Wl=Fr-Ge;return ve===t||da>=g||da<0||$e&&Wl>=J}function hn(){var Fr=Kx();if(Dt(Fr))return yn(Fr);ue=uv(hn,ln(Fr))}function yn(Fr){return ue=t,at&&B?Et(Fr):(B=F=t,se)}function to(){ue!==t&&zx(ue),Ge=0,B=ve=F=ue=t}function os(){return ue===t?se:yn(Kx())}function no(){var Fr=Kx(),da=Dt(Fr);if(B=arguments,F=this,ve=Fr,da){if(ue===t)return kt(ve);if($e)return zx(ue),ue=uv(hn,g),Et(ve)}return ue===t&&(ue=uv(hn,g)),se}return no.cancel=to,no.flush=os,no}var K6=Rt(function(u,g){return Kg(u,1,g)}),$6=Rt(function(u,g,E){return Kg(u,Fo(g)||0,E)});function Y6(u){return _e(u,L)}function $x(u,g){if(typeof u!="function"||g!=null&&typeof g!="function")throw new Ri(o);var E=function(){var B=arguments,F=g?g.apply(this,B):B[0],J=E.cache;if(J.has(F))return J.get(F);var se=u.apply(this,B);return E.cache=J.set(F,se)||J,se};return E.cache=new($x.Cache||bs),E}$x.Cache=bs;function Yx(u){if(typeof u!="function")throw new Ri(o);return function(){var g=arguments;switch(g.length){case 0:return!u.call(this);case 1:return!u.call(this,g[0]);case 2:return!u.call(this,g[0],g[1]);case 3:return!u.call(this,g[0],g[1],g[2])}return!u.apply(this,g)}}function q6(u){return w2(2,u)}var Q6=Ux(function(u,g){g=g.length==1&&Jt(g[0])?zn(g[0],Ti(Bt())):zn(Xr(g,1),Ti(Bt()));var E=g.length;return Rt(function(B){for(var F=-1,J=fi(B.length,E);++F<J;)B[F]=g[F].call(this,B[F]);return Yn(u,this,B)})}),vA=Rt(function(u,g){var E=Ks(g,cp(vA));return _e(u,R,t,g,E)}),T2=Rt(function(u,g){var E=Ks(g,cp(T2));return _e(u,P,t,g,E)}),Z6=Yt(function(u,g){return _e(u,N,t,t,t,g)});function e9(u,g){if(typeof u!="function")throw new Ri(o);return g=g===t?g:en(g),Rt(u,g)}function t9(u,g){if(typeof u!="function")throw new Ri(o);return g=g==null?0:Dr(en(g),0),Rt(function(E){var B=E[g],F=Za(E,0,g);return B&&Vs(F,B),Yn(u,this,F)})}function n9(u,g,E){var B=!0,F=!0;if(typeof u!="function")throw new Ri(o);return dr(E)&&(B="leading"in E?!!E.leading:B,F="trailing"in E?!!E.trailing:F),C2(u,g,{leading:B,maxWait:g,trailing:F})}function r9(u){return _2(u,1)}function i9(u,g){return vA(vi(g),u)}function s9(){if(!arguments.length)return[];var u=arguments[0];return Jt(u)?u:[u]}function o9(u){return es(u,v)}function a9(u,g){return g=typeof g=="function"?g:t,es(u,v,g)}function l9(u){return es(u,p|v)}function c9(u,g){return g=typeof g=="function"?g:t,es(u,p|v,g)}function u9(u,g){return g==null||$h(u,g,bi(g))}function ua(u,g){return u===g||u!==u&&g!==g}var d9=Ct(Vd),f9=Ct(function(u,g){return u>=g}),ef=Kt(function(){return arguments}())?Kt:function(u){return Er(u)&&Sn.call(u,"callee")&&!Wh.call(u,"callee")},Jt=Ce.isArray,h9=kh?Ti(kh):wr;function As(u){return u!=null&&qx(u.length)&&!Hl(u)}function Nr(u){return Er(u)&&As(u)}function p9(u){return u===!0||u===!1||Er(u)&&ri(u)==Ie}var uu=ux||MA,m9=Dh?Ti(Dh):Sr;function g9(u){return Er(u)&&u.nodeType===1&&!dv(u)}function v9(u){if(u==null)return!0;if(As(u)&&(Jt(u)||typeof u=="string"||typeof u.splice=="function"||uu(u)||up(u)||ef(u)))return!u.length;var g=zi(u);if(g==Me||g==Ve)return!u.size;if(cv(u))return!pi(u).length;for(var E in u)if(Sn.call(u,E))return!1;return!0}function y9(u,g){return cr(u,g)}function x9(u,g,E){E=typeof E=="function"?E:t;var B=E?E(u,g):t;return B===t?cr(u,g,t,E):!!B}function yA(u){if(!Er(u))return!1;var g=ri(u);return g==Le||g==xe||typeof u.message=="string"&&typeof u.name=="string"&&!dv(u)}function b9(u){return typeof u=="number"&&Ng(u)}function Hl(u){if(!dr(u))return!1;var g=ri(u);return g==we||g==Se||g==q||g==Je}function M2(u){return typeof u=="number"&&u==en(u)}function qx(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=z}function dr(u){var g=typeof u;return u!=null&&(g=="object"||g=="function")}function Er(u){return u!=null&&typeof u=="object"}var R2=Cg?Ti(Cg):iu;function _9(u,g){return u===g||ur(u,g,lA(g))}function w9(u,g,E){return E=typeof E=="function"?E:t,ur(u,g,lA(g),E)}function S9(u){return I2(u)&&u!=+u}function A9(u){if(a8(u))throw new Ot(s);return su(u)}function E9(u){return u===null}function C9(u){return u==null}function I2(u){return typeof u=="number"||Er(u)&&ri(u)==Ke}function dv(u){if(!Er(u)||ri(u)!=nt)return!1;var g=Ld(u);if(g===null)return!0;var E=Sn.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&Yc.call(E)==Il}var xA=Oh?Ti(Oh):ou;function T9(u){return M2(u)&&u>=-z&&u<=z}var P2=Nh?Ti(Nh):qh;function Qx(u){return typeof u=="string"||!Jt(u)&&Er(u)&&ri(u)==Q}function eo(u){return typeof u=="symbol"||Er(u)&&ri(u)==X}var up=Ml?Ti(Ml):Qg;function M9(u){return u===t}function R9(u){return Er(u)&&zi(u)==ze}function I9(u){return Er(u)&&ri(u)==Xe}var P9=Ct(jd),B9=Ct(function(u,g){return u<=g});function B2(u){if(!u)return[];if(As(u))return Qx(u)?rr(u):yi(u);if(Va&&u[Va])return Wc(u[Va]());var g=zi(u),E=g==Me?Md:g==Ve?Rd:dp;return E(u)}function Gl(u){if(!u)return u===0?u:0;if(u=Fo(u),u===ne||u===-ne){var g=u<0?-1:1;return g*G}return u===u?u:0}function en(u){var g=Gl(u),E=g%1;return g===g?E?g-E:g:0}function L2(u){return u?Ja(en(u),0,le):0}function Fo(u){if(typeof u=="number")return u;if(eo(u))return Y;if(dr(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=dr(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=zh(u);var E=Vt.test(u);return E||Zt.test(u)?$1(u.slice(2),E?2:8):Nt.test(u)?Y:+u}function k2(u){return Ss(u,Es(u))}function L9(u){return u?Ja(en(u),-z,z):u===0?u:0}function Ln(u){return u==null?"":gi(u)}var k9=Ul(function(u,g){if(cv(g)||As(g)){Ss(g,bi(g),u);return}for(var E in g)Sn.call(g,E)&&Ys(u,E,g[E])}),D2=Ul(function(u,g){Ss(g,Es(g),u)}),Zx=Ul(function(u,g,E,B){Ss(g,Es(g),u,B)}),D9=Ul(function(u,g,E,B){Ss(g,bi(g),u,B)}),O9=Yt(Kh);function N9(u,g){var E=aa(u);return g==null?E:Xg(E,g)}var F9=Rt(function(u,g){u=Lt(u);var E=-1,B=g.length,F=B>2?g[2]:t;for(F&&ss(g[0],g[1],F)&&(B=1);++E<B;)for(var J=g[E],se=Es(J),ue=-1,ve=se.length;++ue<ve;){var Ge=se[ue],We=u[Ge];(We===t||ua(We,$c[Ge])&&!Sn.call(u,Ge))&&(u[Ge]=J[Ge])}return u}),U9=Rt(function(u){return u.push(t,Te),Yn(O2,t,u)});function z9(u,g){return Rg(u,Bt(g,3),ts)}function H9(u,g){return Rg(u,Bt(g,3),nu)}function G9(u,g){return u==null?u:tu(u,Bt(g,3),Es)}function W9(u,g){return u==null?u:Wd(u,Bt(g,3),Es)}function V9(u,g){return u&&ts(u,Bt(g,3))}function j9(u,g){return u&&nu(u,Bt(g,3))}function X9(u){return u==null?[]:Ol(u,bi(u))}function J9(u){return u==null?[]:Ol(u,Es(u))}function bA(u,g,E){var B=u==null?t:Qs(u,g);return B===t?E:B}function K9(u,g){return u!=null&&t2(u,g,Dx)}function _A(u,g){return u!=null&&t2(u,g,Yg)}var $9=re(function(u,g,E){g!=null&&typeof g.toString!="function"&&(g=Qi.call(g)),u[g]=E},SA(Cs)),Y9=re(function(u,g,E){g!=null&&typeof g.toString!="function"&&(g=Qi.call(g)),Sn.call(u,g)?u[g].push(E):u[g]=[E]},Bt),q9=Rt(Gn);function bi(u){return As(u)?ot(u):pi(u)}function Es(u){return As(u)?ot(u,!0):Zg(u)}function Q9(u,g){var E={};return g=Bt(g,3),ts(u,function(B,F,J){Lo(E,g(B,F,J),B)}),E}function Z9(u,g){var E={};return g=Bt(g,3),ts(u,function(B,F,J){Lo(E,F,g(B,F,J))}),E}var eW=Ul(function(u,g,E){Zs(u,g,E)}),O2=Ul(function(u,g,E,B){Zs(u,g,E,B)}),tW=Yt(function(u,g){var E={};if(u==null)return E;var B=!1;g=zn(g,function(J){return J=Qa(J,u),B||(B=J.length>1),J}),Ss(u,gn(u),E),B&&(E=es(E,p|m|v,ct));for(var F=g.length;F--;)rv(E,g[F]);return E});function nW(u,g){return N2(u,Yx(Bt(g)))}var rW=Yt(function(u,g){return u==null?{}:Kd(u,g)});function N2(u,g){if(u==null)return{};var E=zn(gn(u),function(B){return[B]});return g=Bt(g),ep(u,E,function(B,F){return g(B,F[0])})}function iW(u,g,E){g=Qa(g,u);var B=-1,F=g.length;for(F||(F=1,u=t);++B<F;){var J=u==null?t:u[tl(g[B])];J===t&&(B=F,J=E),u=Hl(J)?J.call(u):J}return u}function sW(u,g,E){return u==null?u:Fl(u,g,E)}function oW(u,g,E,B){return B=typeof B=="function"?B:t,u==null?u:Fl(u,g,E,B)}var F2=is(bi),U2=is(Es);function aW(u,g,E){var B=Jt(u),F=B||uu(u)||up(u);if(g=Bt(g,4),E==null){var J=u&&u.constructor;F?E=B?new J:[]:dr(u)?E=Hl(J)?aa(Ld(u)):{}:E={}}return(F?Lr:ts)(u,function(se,ue,ve){return g(E,se,ue,ve)}),E}function lW(u,g){return u==null?!0:rv(u,g)}function cW(u,g,E){return u==null?u:iv(u,g,vi(E))}function uW(u,g,E,B){return B=typeof B=="function"?B:t,u==null?u:iv(u,g,vi(E),B)}function dp(u){return u==null?[]:Mi(u,bi(u))}function dW(u){return u==null?[]:Mi(u,Es(u))}function fW(u,g,E){return E===t&&(E=g,g=t),E!==t&&(E=Fo(E),E=E===E?E:0),g!==t&&(g=Fo(g),g=g===g?g:0),Ja(Fo(u),g,E)}function hW(u,g,E){return g=Gl(g),E===t?(E=g,g=0):E=Gl(E),u=Fo(u),iA(u,g,E)}function pW(u,g,E){if(E&&typeof E!="boolean"&&ss(u,g,E)&&(g=E=t),E===t&&(typeof g=="boolean"?(E=g,g=t):typeof u=="boolean"&&(E=u,u=t)),u===t&&g===t?(u=0,g=1):(u=Gl(u),g===t?(g=u,u=0):g=Gl(g)),u>g){var B=u;u=g,g=B}if(E||u%1||g%1){var F=Fg();return fi(u+F*(g-u+Qy("1e-"+((F+"").length-1))),g)}return ko(u,g)}var mW=f(function(u,g,E){return g=g.toLowerCase(),u+(E?z2(g):g)});function z2(u){return wA(Ln(u).toLowerCase())}function H2(u){return u=Ln(u),u&&u.replace(Cn,rx).replace(Wr,"")}function gW(u,g,E){u=Ln(u),g=gi(g);var B=u.length;E=E===t?B:Ja(en(E),0,B);var F=E;return E-=g.length,E>=0&&u.slice(E,F)==g}function vW(u){return u=Ln(u),u&&fn.test(u)?u.replace(tt,ix):u}function yW(u){return u=Ln(u),u&&kc.test(u)?u.replace(Hs,"\\$&"):u}var xW=f(function(u,g,E){return u+(E?"-":"")+g.toLowerCase()}),bW=f(function(u,g,E){return u+(E?" ":"")+g.toLowerCase()}),_W=Wx("toLowerCase");function wW(u,g,E){u=Ln(u),g=en(g);var B=g?Mo(u):0;if(!g||B>=g)return u;var F=(g-B)/2;return Qe(Od(F),E)+u+Qe(Dd(F),E)}function SW(u,g,E){u=Ln(u),g=en(g);var B=g?Mo(u):0;return g&&B<g?u+Qe(g-B,E):u}function AW(u,g,E){u=Ln(u),g=en(g);var B=g?Mo(u):0;return g&&B<g?Qe(g-B,E)+u:u}function EW(u,g,E){return E||g==null?g=0:g&&(g=+g),hx(Ln(u).replace(Ut,""),g||0)}function CW(u,g,E){return(E?ss(u,g,E):g===t)?g=1:g=en(g),cu(Ln(u),g)}function TW(){var u=arguments,g=Ln(u[0]);return u.length<3?g:g.replace(u[1],u[2])}var MW=f(function(u,g,E){return u+(E?"_":"")+g.toLowerCase()});function RW(u,g,E){return E&&typeof E!="number"&&ss(u,g,E)&&(g=E=t),E=E===t?le:E>>>0,E?(u=Ln(u),u&&(typeof g=="string"||g!=null&&!xA(g))&&(g=gi(g),!g&&Rl(u))?Za(rr(u),0,E):u.split(g,E)):[]}var IW=f(function(u,g,E){return u+(E?" ":"")+wA(g)});function PW(u,g,E){return u=Ln(u),E=E==null?0:Ja(en(E),0,u.length),g=gi(g),u.slice(E,E+g.length)==g}function BW(u,g,E){var B=W.templateSettings;E&&ss(u,g,E)&&(g=t),u=Ln(u),g=Zx({},g,B,me);var F=Zx({},g.imports,B.imports,me),J=bi(F),se=Mi(F,J),ue,ve,Ge=0,We=g.interpolate||br,$e="__p += '",at=Vr((g.escape||br).source+"|"+We.source+"|"+(We===yr?Tt:br).source+"|"+(g.evaluate||br).source+"|$","g"),Et="//# sourceURL="+(Sn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Eo+"]")+`
`;u.replace(at,function(Dt,hn,yn,to,os,no){return yn||(yn=to),$e+=u.slice(Ge,no).replace(qi,Ig),hn&&(ue=!0,$e+=`' +
__e(`+hn+`) +
'`),os&&(ve=!0,$e+=`';
`+os+`;
__p += '`),yn&&($e+=`' +
((__t = (`+yn+`)) == null ? '' : __t) +
'`),Ge=no+Dt.length,Dt}),$e+=`';
`;var kt=Sn.call(g,"variable")&&g.variable;if(!kt)$e=`with (obj) {
`+$e+`
}
`;else if(be.test(kt))throw new Ot(a);$e=(ve?$e.replace(lt,""):$e).replace(ae,"$1").replace(Ee,"$1;"),$e="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var ln=W2(function(){return Xt(J,Et+"return "+$e).apply(t,se)});if(ln.source=$e,yA(ln))throw ln;return ln}function LW(u){return Ln(u).toLowerCase()}function kW(u){return Ln(u).toUpperCase()}function DW(u,g,E){if(u=Ln(u),u&&(E||g===t))return zh(u);if(!u||!(g=gi(g)))return u;var B=rr(u),F=rr(g),J=Hn(B,F),se=Gc(B,F)+1;return Za(B,J,se).join("")}function OW(u,g,E){if(u=Ln(u),u&&(E||g===t))return u.slice(0,Xc(u)+1);if(!u||!(g=gi(g)))return u;var B=rr(u),F=Gc(B,rr(g))+1;return Za(B,0,F).join("")}function NW(u,g,E){if(u=Ln(u),u&&(E||g===t))return u.replace(Ut,"");if(!u||!(g=gi(g)))return u;var B=rr(u),F=Hn(B,rr(g));return Za(B,F).join("")}function FW(u,g){var E=M,B=U;if(dr(g)){var F="separator"in g?g.separator:F;E="length"in g?en(g.length):E,B="omission"in g?gi(g.omission):B}u=Ln(u);var J=u.length;if(Rl(u)){var se=rr(u);J=se.length}if(E>=J)return u;var ue=E-Mo(B);if(ue<1)return B;var ve=se?Za(se,0,ue).join(""):u.slice(0,ue);if(F===t)return ve+B;if(se&&(ue+=ve.length-ue),xA(F)){if(u.slice(ue).search(F)){var Ge,We=ve;for(F.global||(F=Vr(F.source,Ln(Mt.exec(F))+"g")),F.lastIndex=0;Ge=F.exec(We);)var $e=Ge.index;ve=ve.slice(0,$e===t?ue:$e)}}else if(u.indexOf(gi(F),ue)!=ue){var at=ve.lastIndexOf(F);at>-1&&(ve=ve.slice(0,at))}return ve+B}function UW(u){return u=Ln(u),u&&yt.test(u)?u.replace(je,Jc):u}var zW=f(function(u,g,E){return u+(E?" ":"")+g.toUpperCase()}),wA=Wx("toUpperCase");function G2(u,g,E){return u=Ln(u),g=E?t:g,g===t?Td(u)?Kc(u):tx(u):u.match(g)||[]}var W2=Rt(function(u,g){try{return Yn(u,t,g)}catch(E){return yA(E)?E:new Ot(E)}}),HW=Yt(function(u,g){return Lr(g,function(E){E=tl(E),Lo(u,E,gA(u[E],u))}),u});function GW(u){var g=u==null?0:u.length,E=Bt();return u=g?zn(u,function(B){if(typeof B[1]!="function")throw new Ri(o);return[E(B[0]),B[1]]}):[],Rt(function(B){for(var F=-1;++F<g;){var J=u[F];if(Yn(J[0],this,B))return Yn(J[1],this,B)}})}function WW(u){return Jg(es(u,p))}function SA(u){return function(){return u}}function VW(u,g){return u==null||u!==u?g:u}var jW=I(),XW=I(!0);function Cs(u){return u}function AA(u){return au(typeof u=="function"?u:es(u,p))}function JW(u){return Xd(es(u,p))}function KW(u,g){return Qh(u,es(g,p))}var $W=Rt(function(u,g){return function(E){return Gn(E,u,g)}}),YW=Rt(function(u,g){return function(E){return Gn(u,E,g)}});function EA(u,g,E){var B=bi(g),F=Ol(g,B);E==null&&!(dr(g)&&(F.length||!B.length))&&(E=g,g=u,u=this,F=Ol(g,bi(g)));var J=!(dr(E)&&"chain"in E)||!!E.chain,se=Hl(u);return Lr(F,function(ue){var ve=g[ue];u[ue]=ve,se&&(u.prototype[ue]=function(){var Ge=this.__chain__;if(J||Ge){var We=u(this.__wrapped__),$e=We.__actions__=yi(this.__actions__);return $e.push({func:ve,args:arguments,thisArg:u}),We.__chain__=Ge,We}return ve.apply(u,Vs([this.value()],arguments))})}),u}function qW(){return _r._===this&&(_r._=Hh),this}function CA(){}function QW(u){return u=en(u),Rt(function(g){return la(g,u)})}var ZW=Be(zn),eV=Be(Mg),tV=Be(Ad);function V2(u){return uA(u)?Fi(tl(u)):tp(u)}function nV(u){return function(g){return u==null?t:Qs(u,g)}}var rV=zt(),iV=zt(!0);function TA(){return[]}function MA(){return!1}function sV(){return{}}function oV(){return""}function aV(){return!0}function lV(u,g){if(u=en(u),u<1||u>z)return[];var E=le,B=fi(u,le);g=Bt(g),u-=le;for(var F=ia(B,g);++E<u;)g(E);return F}function cV(u){return Jt(u)?zn(u,tl):eo(u)?[u]:yi(u2(Ln(u)))}function uV(u){var g=++Lg;return Ln(u)+g}var dV=fe(function(u,g){return u+g},0),fV=wt("ceil"),hV=fe(function(u,g){return u/g},1),pV=wt("floor");function mV(u){return u&&u.length?Gd(u,Cs,Vd):t}function gV(u,g){return u&&u.length?Gd(u,Bt(g,2),Vd):t}function vV(u){return Cd(u,Cs)}function yV(u,g){return Cd(u,Bt(g,2))}function xV(u){return u&&u.length?Gd(u,Cs,jd):t}function bV(u,g){return u&&u.length?Gd(u,Bt(g,2),jd):t}var _V=fe(function(u,g){return u*g},1),wV=wt("round"),SV=fe(function(u,g){return u-g},0);function AV(u){return u&&u.length?Xs(u,Cs):0}function EV(u,g){return u&&u.length?Xs(u,Bt(g,2)):0}return W.after=J6,W.ary=_2,W.assign=k9,W.assignIn=D2,W.assignInWith=Zx,W.assignWith=D9,W.at=O9,W.before=w2,W.bind=gA,W.bindAll=HW,W.bindKey=S2,W.castArray=s9,W.chain=y2,W.chunk=p8,W.compact=m8,W.concat=g8,W.cond=GW,W.conforms=WW,W.constant=SA,W.countBy=A6,W.create=N9,W.curry=A2,W.curryRight=E2,W.debounce=C2,W.defaults=F9,W.defaultsDeep=U9,W.defer=K6,W.delay=$6,W.difference=v8,W.differenceBy=y8,W.differenceWith=x8,W.drop=b8,W.dropRight=_8,W.dropRightWhile=w8,W.dropWhile=S8,W.fill=A8,W.filter=C6,W.flatMap=R6,W.flatMapDeep=I6,W.flatMapDepth=P6,W.flatten=p2,W.flattenDeep=E8,W.flattenDepth=C8,W.flip=Y6,W.flow=jW,W.flowRight=XW,W.fromPairs=T8,W.functions=X9,W.functionsIn=J9,W.groupBy=B6,W.initial=R8,W.intersection=I8,W.intersectionBy=P8,W.intersectionWith=B8,W.invert=$9,W.invertBy=Y9,W.invokeMap=k6,W.iteratee=AA,W.keyBy=D6,W.keys=bi,W.keysIn=Es,W.map=Jx,W.mapKeys=Q9,W.mapValues=Z9,W.matches=JW,W.matchesProperty=KW,W.memoize=$x,W.merge=eW,W.mergeWith=O2,W.method=$W,W.methodOf=YW,W.mixin=EA,W.negate=Yx,W.nthArg=QW,W.omit=tW,W.omitBy=nW,W.once=q6,W.orderBy=O6,W.over=ZW,W.overArgs=Q6,W.overEvery=eV,W.overSome=tV,W.partial=vA,W.partialRight=T2,W.partition=N6,W.pick=rW,W.pickBy=N2,W.property=V2,W.propertyOf=nV,W.pull=O8,W.pullAll=g2,W.pullAllBy=N8,W.pullAllWith=F8,W.pullAt=U8,W.range=rV,W.rangeRight=iV,W.rearg=Z6,W.reject=z6,W.remove=z8,W.rest=e9,W.reverse=pA,W.sampleSize=G6,W.set=sW,W.setWith=oW,W.shuffle=W6,W.slice=H8,W.sortBy=X6,W.sortedUniq=K8,W.sortedUniqBy=$8,W.split=RW,W.spread=t9,W.tail=Y8,W.take=q8,W.takeRight=Q8,W.takeRightWhile=Z8,W.takeWhile=e6,W.tap=m6,W.throttle=n9,W.thru=Xx,W.toArray=B2,W.toPairs=F2,W.toPairsIn=U2,W.toPath=cV,W.toPlainObject=k2,W.transform=aW,W.unary=r9,W.union=t6,W.unionBy=n6,W.unionWith=r6,W.uniq=i6,W.uniqBy=s6,W.uniqWith=o6,W.unset=lW,W.unzip=mA,W.unzipWith=v2,W.update=cW,W.updateWith=uW,W.values=dp,W.valuesIn=dW,W.without=a6,W.words=G2,W.wrap=i9,W.xor=l6,W.xorBy=c6,W.xorWith=u6,W.zip=d6,W.zipObject=f6,W.zipObjectDeep=h6,W.zipWith=p6,W.entries=F2,W.entriesIn=U2,W.extend=D2,W.extendWith=Zx,EA(W,W),W.add=dV,W.attempt=W2,W.camelCase=mW,W.capitalize=z2,W.ceil=fV,W.clamp=fW,W.clone=o9,W.cloneDeep=l9,W.cloneDeepWith=c9,W.cloneWith=a9,W.conformsTo=u9,W.deburr=H2,W.defaultTo=VW,W.divide=hV,W.endsWith=gW,W.eq=ua,W.escape=vW,W.escapeRegExp=yW,W.every=E6,W.find=T6,W.findIndex=f2,W.findKey=z9,W.findLast=M6,W.findLastIndex=h2,W.findLastKey=H9,W.floor=pV,W.forEach=x2,W.forEachRight=b2,W.forIn=G9,W.forInRight=W9,W.forOwn=V9,W.forOwnRight=j9,W.get=bA,W.gt=d9,W.gte=f9,W.has=K9,W.hasIn=_A,W.head=m2,W.identity=Cs,W.includes=L6,W.indexOf=M8,W.inRange=hW,W.invoke=q9,W.isArguments=ef,W.isArray=Jt,W.isArrayBuffer=h9,W.isArrayLike=As,W.isArrayLikeObject=Nr,W.isBoolean=p9,W.isBuffer=uu,W.isDate=m9,W.isElement=g9,W.isEmpty=v9,W.isEqual=y9,W.isEqualWith=x9,W.isError=yA,W.isFinite=b9,W.isFunction=Hl,W.isInteger=M2,W.isLength=qx,W.isMap=R2,W.isMatch=_9,W.isMatchWith=w9,W.isNaN=S9,W.isNative=A9,W.isNil=C9,W.isNull=E9,W.isNumber=I2,W.isObject=dr,W.isObjectLike=Er,W.isPlainObject=dv,W.isRegExp=xA,W.isSafeInteger=T9,W.isSet=P2,W.isString=Qx,W.isSymbol=eo,W.isTypedArray=up,W.isUndefined=M9,W.isWeakMap=R9,W.isWeakSet=I9,W.join=L8,W.kebabCase=xW,W.last=No,W.lastIndexOf=k8,W.lowerCase=bW,W.lowerFirst=_W,W.lt=P9,W.lte=B9,W.max=mV,W.maxBy=gV,W.mean=vV,W.meanBy=yV,W.min=xV,W.minBy=bV,W.stubArray=TA,W.stubFalse=MA,W.stubObject=sV,W.stubString=oV,W.stubTrue=aV,W.multiply=_V,W.nth=D8,W.noConflict=qW,W.noop=CA,W.now=Kx,W.pad=wW,W.padEnd=SW,W.padStart=AW,W.parseInt=EW,W.random=pW,W.reduce=F6,W.reduceRight=U6,W.repeat=CW,W.replace=TW,W.result=iW,W.round=wV,W.runInContext=de,W.sample=H6,W.size=V6,W.snakeCase=MW,W.some=j6,W.sortedIndex=G8,W.sortedIndexBy=W8,W.sortedIndexOf=V8,W.sortedLastIndex=j8,W.sortedLastIndexBy=X8,W.sortedLastIndexOf=J8,W.startCase=IW,W.startsWith=PW,W.subtract=SV,W.sum=AV,W.sumBy=EV,W.template=BW,W.times=lV,W.toFinite=Gl,W.toInteger=en,W.toLength=L2,W.toLower=LW,W.toNumber=Fo,W.toSafeInteger=L9,W.toString=Ln,W.toUpper=kW,W.trim=DW,W.trimEnd=OW,W.trimStart=NW,W.truncate=FW,W.unescape=UW,W.uniqueId=uV,W.upperCase=zW,W.upperFirst=wA,W.each=x2,W.eachRight=b2,W.first=m2,EA(W,function(){var u={};return ts(W,function(g,E){Sn.call(W.prototype,E)||(u[E]=g)}),u}(),{chain:!1}),W.VERSION=r,Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){W[u].placeholder=W}),Lr(["drop","take"],function(u,g){It.prototype[u]=function(E){E=E===t?1:Dr(en(E),0);var B=this.__filtered__&&!g?new It(this):this.clone();return B.__filtered__?B.__takeCount__=fi(E,B.__takeCount__):B.__views__.push({size:fi(E,le),type:u+(B.__dir__<0?"Right":"")}),B},It.prototype[u+"Right"]=function(E){return this.reverse()[u](E).reverse()}}),Lr(["filter","map","takeWhile"],function(u,g){var E=g+1,B=E==j||E==ee;It.prototype[u]=function(F){var J=this.clone();return J.__iteratees__.push({iteratee:Bt(F,3),type:E}),J.__filtered__=J.__filtered__||B,J}}),Lr(["head","last"],function(u,g){var E="take"+(g?"Right":"");It.prototype[u]=function(){return this[E](1).value()[0]}}),Lr(["initial","tail"],function(u,g){var E="drop"+(g?"":"Right");It.prototype[u]=function(){return this.__filtered__?new It(this):this[E](1)}}),It.prototype.compact=function(){return this.filter(Cs)},It.prototype.find=function(u){return this.filter(u).head()},It.prototype.findLast=function(u){return this.reverse().find(u)},It.prototype.invokeMap=Rt(function(u,g){return typeof u=="function"?new It(this):this.map(function(E){return Gn(E,u,g)})}),It.prototype.reject=function(u){return this.filter(Yx(Bt(u)))},It.prototype.slice=function(u,g){u=en(u);var E=this;return E.__filtered__&&(u>0||g<0)?new It(E):(u<0?E=E.takeRight(-u):u&&(E=E.drop(u)),g!==t&&(g=en(g),E=g<0?E.dropRight(-g):E.take(g-u)),E)},It.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},It.prototype.toArray=function(){return this.take(le)},ts(It.prototype,function(u,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),B=/^(?:head|last)$/.test(g),F=W[B?"take"+(g=="last"?"Right":""):g],J=B||/^find/.test(g);F&&(W.prototype[g]=function(){var se=this.__wrapped__,ue=B?[1]:arguments,ve=se instanceof It,Ge=ue[0],We=ve||Jt(se),$e=function(hn){var yn=F.apply(W,Vs([hn],ue));return B&&at?yn[0]:yn};We&&E&&typeof Ge=="function"&&Ge.length!=1&&(ve=We=!1);var at=this.__chain__,Et=!!this.__actions__.length,kt=J&&!at,ln=ve&&!Et;if(!J&&We){se=ln?se:new It(this);var Dt=u.apply(se,ue);return Dt.__actions__.push({func:Xx,args:[$e],thisArg:t}),new hi(Dt,at)}return kt&&ln?u.apply(this,ue):(Dt=this.thru($e),kt?B?Dt.value()[0]:Dt.value():Dt)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(u){var g=Ga[u],E=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",B=/^(?:pop|shift)$/.test(u);W.prototype[u]=function(){var F=arguments;if(B&&!this.__chain__){var J=this.value();return g.apply(Jt(J)?J:[],F)}return this[E](function(se){return g.apply(Jt(se)?se:[],F)})}}),ts(It.prototype,function(u,g){var E=W[g];if(E){var B=E.name+"";Sn.call(Ll,B)||(Ll[B]=[]),Ll[B].push({name:g,func:E})}}),Ll[O(t,x).name]=[{name:"wrapper",func:t}],It.prototype.clone=Q1,It.prototype.reverse=Z1,It.prototype.value=Zi,W.prototype.at=g6,W.prototype.chain=v6,W.prototype.commit=y6,W.prototype.next=x6,W.prototype.plant=_6,W.prototype.reverse=w6,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=S6,W.prototype.first=W.prototype.head,Va&&(W.prototype[Va]=b6),W},Ha=ax();ei?((ei.exports=Ha)._=Ha,Eg._=Ha):_r._=Ha}).call(fv)})(lS,lS.exports);var eye=lS.exports;export{$ve as $,Qve as A,M0e as B,E0e as C,s0e as D,k0e as E,LY as F,Cu as G,iq as H,_0e as I,l0e as J,c0e as K,x0e as L,f0e as M,g0e as N,T0e as O,R0e as P,u0e as Q,o0e as R,Z$ as S,zm as T,n0e as U,v0e as V,d0e as W,w0e as X,eye as Y,B0e as Z,XK as _,a0e as a,OX as a0,$2 as a1,$p as a2,Yve as a3,i0e as b,e0e as c,r0e as d,Zve as e,D0e as f,I0e as g,cme as h,Wfe as i,te as j,L0e as k,Qr as l,y0e as m,rY as n,Kve as o,qve as p,TS as q,k as r,P0e as s,m0e as t,kH as u,t0e as v,p0e as w,h0e as x,b0e as y,S0e as z};
