import{r as a,j as e,T as l,F as g,a as j,C as we,B as Te,O as Ae,u as Pe,P as _e,b as pe,A as Fe,c as se,d as re,e as ne,L as Ie,i as Le,g as De,f as Re,s as ze,G as Oe,h as Me,k as Ne,l as Be,m as de,n as M,S as Q,o as ue,p as xe,I as J,q as S,D as Z,t as ee,v as We,w as Ee,N as Ue,x as He,M as Ge,y as qe,z as $e,E as Xe,H as he,J as Ve,U as Ye,K as Ke,Q as Je,R as Qe,V as Ze,W as N,X as H,Y as T,Z as et,_ as tt,$ as st,a0 as oe,a1 as rt,a2 as nt,a3 as ot,a4 as at,a5 as lt}from"./vendor-Dc5eH1Dw.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();const it="_homePage_rxrt2_1",ct="_homePageTitle_rxrt2_6",dt="_statusSection_rxrt2_24",pt="_levelText_rxrt2_29",ut="_xpBarWrapper_rxrt2_35",xt="_xpBarFill_rxrt2_44",ge={homePage:it,homePageTitle:ct,"card-links":"_card-links_rxrt2_10","card-image":"_card-image_rxrt2_19",statusSection:dt,levelText:pt,xpBarWrapper:ut,xpBarFill:xt},me=a.createContext(void 0),ht=({children:t})=>{const[r,o]=a.useState(()=>{const s=localStorage.getItem("userData");return s?JSON.parse(s):null}),n=s=>{o(s),s?localStorage.setItem("userData",JSON.stringify(s)):localStorage.removeItem("userData")};return e.jsx(me.Provider,{value:{userData:r,setUserData:n},children:t})},W=()=>{const t=a.useContext(me);if(!t)throw new Error("useUser must be used within a UserProvider");const{userData:r,setUserData:o}=t,n=a.useMemo(()=>{if(r)return Math.floor(r.goal.dailyCalorieGoal/100)},[r]);return{userData:r,setUserData:o,dailyCurrency:n}},gt="_xpBarWrapper_sqxxw_1",mt="_xpBarFill_sqxxw_12",yt="_pixelGlow_sqxxw_1",ft="_xpText_sqxxw_33",jt="_levelText_sqxxw_59",K={xpBarWrapper:gt,xpBarFill:mt,pixelGlow:yt,xpText:ft,levelText:jt};function vt(t){return Math.floor(1e3*Math.pow(1.5,t-1))}function ae(t,r){const o=vt(r);return{progress:Math.min(Math.max(t/o*100,0),100),xpNeeded:o}}const bt=({currentXp:t,level:r})=>{const[o,n]=a.useState(()=>ae(t,r).progress),s=a.useRef(t),{xpNeeded:i}=ae(t,r);return a.useEffect(()=>{const p=ae(t,r).progress,d=s.current;t>d,n(p),s.current=t},[t,r]),e.jsxs(e.Fragment,{children:[e.jsxs(l,{className:K.levelText,styleAs:"display4",children:["Level ",r]}),e.jsxs("div",{className:K.xpBarWrapper,children:[e.jsx("div",{className:K.xpBarFill,style:{width:`${o}%`}}),e.jsxs(l,{className:K.xpText,styleAs:"label",children:[" ",t," / ",i]})]})]})},St=({consumed:t=!1,size:r=48,className:o})=>{const[n,s]=a.useState(!1);return a.useEffect(()=>{if(t){const i=setTimeout(()=>s(!0),20);return()=>clearTimeout(i)}else s(!1)},[t]),e.jsx("img",{src:"/bone.png",alt:"Bone",style:{width:"100%",height:"auto",maxWidth:"80px",transformOrigin:"center",transition:"transform 1s ease, opacity 1.5s ease",transform:n?"scale(0) rotate(360deg)":"scale(1) rotate(0deg)",display:"block",opacity:n?0:1}})},Ct=({consumed:t=!1,size:r=48,className:o})=>{const[n,s]=a.useState(!1);return a.useEffect(()=>{if(t){const i=setTimeout(()=>s(!0),20);return()=>clearTimeout(i)}else s(!1)},[t]),e.jsx("img",{src:"/fish.png",alt:"Fish",style:{width:"100%",height:"auto",maxWidth:"100x",transformOrigin:"center",transition:"transform 1s ease, opacity 1.5s ease",transform:n?"scale(0) rotate(450deg)":"scale(1) rotate(90deg)",display:"block",opacity:n?0:1}})},kt=({count:t,consumedCurrency:r,userArchetype:o})=>e.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:8,width:"100%",overflow:"hidden"},children:[...Array(t)].map((n,s)=>e.jsx("div",{style:{flex:`1 0 ${100/t}%`,maxWidth:`${100/t}%`,display:"flex",justifyContent:"center"},children:o==="puppy"?e.jsx(St,{consumed:r[s]??!1}):e.jsx(Ct,{consumed:r[s]??!1})},s))}),wt=()=>{var b;const{userData:t}=W(),[r,o]=a.useState(""),[n,s]=a.useState(0),[i,p]=a.useState([]);let d=!1;const h={puppy:"/puppy/scene.gltf",kitten:"/kitten/scene.gltf"};a.useEffect(()=>{var m;o(h[((m=t==null?void 0:t.pet)==null?void 0:m.currentPet)??"puppy"]),d=r==null?void 0:r.includes("kitten")},[t]),a.useEffect(()=>{var L,D,w;const m=new Date().toISOString().slice(0,10),C=((L=t==null?void 0:t.goal)==null?void 0:L.dailyCurrencyTotal)??0,I=((w=(D=t==null?void 0:t.goal)==null?void 0:D.dailyCurrencyUsed)==null?void 0:w[m])??0,k=C-I;s(k);const A=Array(C).fill(!1).map((y,F)=>F>=k);p(A)},[t]),console.log("Model Path:",r);function v({url:m,scale:C=2,position:I=[0,-2,0],rotation:k=[0,0,0]}){const A=Pe(m);if(!A||!A.scene)return null;const L=a.useMemo(()=>A.scene.clone(),[A.scene]);return e.jsx("primitive",{object:L,scale:C,position:I,rotation:k})}return console.log("userData",t),e.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0,height:"100%"},children:e.jsxs(g,{style:{flex:1,display:"flex",height:"100%",minHeight:"100%"},justify:"center",direction:"column",children:[e.jsx(j,{align:"center",style:{flexShrink:0},children:e.jsx(l,{styleAs:"h1",className:ge.homePageTitle,children:t==null?void 0:t.pet.name})}),e.jsx(j,{style:{maxWidth:"100%",padding:16},shrink:1,children:e.jsx(kt,{userArchetype:(t==null?void 0:t.pet.currentPet)??"puppy",count:((b=t==null?void 0:t.goal)==null?void 0:b.dailyCurrencyTotal)??0,consumedCurrency:i})}),e.jsx(j,{grow:1,style:{flex:1,minHeight:0,height:"100%",overflow:"hidden"},children:e.jsx("div",{style:{width:"100%",height:"100%"},children:e.jsxs(we,{resize:{polyfill:ResizeObserver},camera:{position:[5,4,5],fov:50},children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("directionalLight",{position:[0,5,5]}),e.jsx(a.Suspense,{children:e.jsx(Te,{fit:!0,clip:!0,observe:!0,margin:1.2,children:e.jsx(v,{url:r,scale:.8,position:d?[0,-3,0]:[0,-2,0],rotation:d?[0,Math.PI,0]:[0,0,0]})})}),e.jsx(Ae,{})]})})}),e.jsx(j,{className:ge.statusSection,style:{flexShrink:0},children:e.jsx(bt,{currentXp:(t==null?void 0:t.pet.xp)??0,level:(t==null?void 0:t.pet.level)??0})})]})})},f=({symbol:t,label:r="",className:o="",style:n={},size:s=24})=>e.jsx("span",{role:"img","aria-label":r||void 0,"aria-hidden":r?"false":"true",className:o,style:{display:"inline-block",verticalAlign:"middle",fontSize:typeof s=="number"?`${s}px`:s,lineHeight:1,...n},children:t}),Tt=({content:t})=>{const[r,o]=a.useState(null),n=p=>{o(p.currentTarget)},s=()=>{o(null)},i=!!r;return e.jsxs(e.Fragment,{children:[e.jsx("span",{onClick:n,style:{cursor:"pointer",marginLeft:4},children:e.jsx(f,{symbol:"ℹ️",label:"info",size:14})}),e.jsx(_e,{open:i,anchorEl:r,onClose:s,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},slotProps:{paper:{sx:{bgcolor:"#1a1a1a",color:"#e0e0e0",fontFamily:"'Press Start 2P', cursive",fontSize:"0.65rem",px:2,py:1,maxWidth:200,borderRadius:1,border:"1px solid #333",boxShadow:"0 0 4px rgba(0, 255, 195, 0.3)"}}},children:t})]})},At=[{label:"Strength",key:"strength",emoji:"💪",description:"Weight workouts"},{label:"Defense",key:"defense",emoji:"🛡️",description:"Fiber intake"},{label:"Agility",key:"agility",emoji:"🤸",description:"Cardio workouts"},{label:"Intelligence",key:"intelligence",emoji:"🧠",description:"Fruits and vegetables"},{label:"Armor",key:"armor",emoji:"🪖",description:"Protein intake"},{label:"Speed",key:"speed",emoji:"💨",description:"Hydration"},{label:"Happiness",key:"happiness",emoji:"🤗",description:"Calorie goal adherence"}],Pt=()=>{const{userData:t}=W();if(!t)return null;const{pet:r}=t;return e.jsxs(g,{direction:"column",gap:3,style:{padding:"1rem"},children:[e.jsxs(g,{direction:"row",gap:1,align:"center",style:{alignItems:"center"},children:[e.jsx(f,{style:{alignItems:"center"},symbol:"🎮",size:30}),e.jsx(l,{styleAs:"h2",style:{fontFamily:"'Press Start 2P', Open Sans",margin:0,padding:0},children:"Pet Skills"})]}),At.map(o=>e.jsx(pe,{style:{width:"100%",padding:"1rem",background:"#111",border:"1px solid #444",borderRadius:"12px",boxShadow:"0 0 8px #00ffc3"},children:e.jsxs(g,{justify:"space-between",align:"center",children:[e.jsxs(g,{align:"center",gap:1,children:[e.jsx(f,{symbol:o.emoji,size:20}),e.jsx(l,{style:{fontFamily:"'Press Start 2P', Open Sans",fontSize:"1.2rem",color:"#fff"},children:o.label}),e.jsx(Tt,{content:o.description})]}),e.jsxs(l,{style:{color:"#fff",fontSize:"1.2rem"},children:["Level ",r[o.key]]})]})},o.key))]})},le=[{name:"First Workout",description:"Complete your first workout",status:"completed",progress:100},{name:"Protein Power",description:"Log a high-protein meal",status:"inProgress",progress:60},{name:"Hydration Hero",description:"Drink 8 glasses of water",status:"notStarted",progress:0},{name:"Consistency Counts",description:"Log workouts 3 days in a row",status:"inProgress",progress:30},{name:"Fiber Fiend",description:"Log a high-fiber day",status:"notStarted",progress:0},{name:"Beast Mode",description:"Reach 100 strength XP",status:"completed",progress:100}],ie=({name:t,description:r,progress:o})=>e.jsxs(pe,{style:{width:"100%"},children:[e.jsx(l,{styleAs:"h4",children:t}),e.jsx(l,{style:{fontSize:"0.9rem",color:"#ccc",marginBottom:"0.5rem"},children:r}),e.jsx(Ie,{value:o}),e.jsxs(l,{style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:[o,"% complete"]})]}),_t=()=>{const t=le.filter(n=>n.status==="inProgress"),r=le.filter(n=>n.status==="notStarted"),o=le.filter(n=>n.status==="completed");return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(l,{styleAs:"h2",style:{marginBottom:"1rem"},children:"Your Quests"}),e.jsxs(Fe,{children:[e.jsxs(se,{value:"",children:[e.jsx(re,{children:"In Progress"}),e.jsx(ne,{children:e.jsx(g,{direction:"column",gap:2,children:t.map(n=>e.jsx(ie,{...n},n.name))})})]}),e.jsxs(se,{value:"",children:[e.jsx(re,{children:"Not Started"}),e.jsx(ne,{children:e.jsx(g,{direction:"column",gap:2,children:r.map(n=>e.jsx(ie,{...n},n.name))})})]}),e.jsxs(se,{value:"",children:[e.jsx(re,{children:"Completed"}),e.jsx(ne,{children:e.jsx(g,{direction:"column",gap:2,children:o.map(n=>e.jsx(ie,{...n},n.name))})})]})]})]})},ye=[{path:"/",name:"Character",element:e.jsx(wt,{})},{path:"/skills",name:"Skills",element:e.jsx(Pt,{})},{path:"/quests",name:"Quests",element:e.jsx(_t,{})}],Ft={apiKey:"AIzaSyBSPzfe-fIq_T5YiH_K3CGFjkXuVtXh_s4",authDomain:"xpetshealth.quest",projectId:"workoutrpg-14ea8",storageBucket:"workoutrpg-14ea8.firebasestorage.app",messagingSenderId:"365189784249",appId:"1:365189784249:web:711c00340542c7b238f168",measurementId:"G-YMB052NVCF"},fe=Le(Ft);De(fe);const te=Re(fe);ze(te,Me).then(()=>{}).catch(t=>{console.error("Failed to set persistence:",t)});const It=new Oe;function Lt(){Ne(te).then(()=>{console.log("Signed out!")}).catch(t=>{console.error("Sign out error:",t)})}const B=Be.create({baseURL:"https://api-wosc6bjdaa-uc.a.run.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),Dt=()=>{const{userData:t,setUserData:r}=W(),o=(t==null?void 0:t.pet.currentPet)==="puppy"?"bones":"fish",[n,s]=a.useState(""),[i,p]=a.useState(null),[d,h]=a.useState(!1),[v,b]=a.useState(null),[m,C]=a.useState(null),[I,k]=a.useState(!1),A=async()=>{if(n.trim()){h(!0),b(null),p(null);try{const{data:w}=await B.post("/chatnutrition",{message:n}),y={...w,description:n};console.log(y),C(y),k(!0)}catch{b("Failed to get nutrition info. Try again.")}finally{h(!1)}}},L=async()=>{if(m){h(!0),b(null);try{const w=await B.post(`/chatnutrition/${t==null?void 0:t.uid}/addMeal`,m),{mealAffects:y,updatedUser:F}=w.data;r(F);const R=[];y.currency&&R.push(`🦴 This meal cost ${y.currency} bone${y.currency>1?"s":""}!`),y.armorIncrease&&R.push(`🛡️ +${y.armorIncrease.toFixed(1)} Armor from protein`),y.defenseIncrease&&R.push(`🧱 +${y.defenseIncrease.toFixed(1)} Defense from fiber`),y.speedIncrease&&R.push(`💨 +${y.speedIncrease.toFixed(1)} Speed from hydration`),y.intelligenceIncrease&&R.push(`🧠 +${y.intelligenceIncrease} Intelligence from fruits & vegetables`),p(R.join(`
`))}catch{b("Failed to confirm meal. Try again.")}finally{h(!1),C(null),k(!1),s("")}}},D=()=>{C(null),k(!1),p(null)};return e.jsxs(de,{style:{maxWidth:480,margin:"auto",padding:16},children:[e.jsx(l,{styleAs:"h2",style:{marginBottom:12},children:"Log Your Food"}),e.jsx("textarea",{value:n,onChange:w=>s(w.target.value),placeholder:"Describe what you ate today...",onBlur:()=>{window.scrollTo(0,window.scrollY)},rows:5,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid var(--salt-palette-neutral-300)",fontSize:"17px",fontFamily:"inherit",backgroundColor:"var(--salt-container-primary-background)",color:"var(--salt-content-primary-foreground)",resize:"vertical"}}),I?e.jsxs(e.Fragment,{children:[e.jsxs(l,{styleAs:"h2",children:["🦴 This meal will cost ",Math.round(m.calories/100)," ",o,". Proceed?"]}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[e.jsx(M,{onClick:L,sentiment:"positive",disabled:d,children:d?e.jsx(Q,{size:"small"}):"Confirm"}),e.jsx(M,{onClick:D,sentiment:"neutral",disabled:d,children:"Cancel"})]})]}):e.jsx(M,{appearance:"solid",sentiment:"accented",onClick:A,disabled:d||!n.trim(),style:{marginTop:12},children:d?e.jsx(Q,{size:"small"}):"Send"}),v&&e.jsx(l,{styleAs:"display2",style:{color:"var(--salt-error-text-color)",marginTop:12},children:v}),i&&e.jsx("pre",{style:{marginTop:16,backgroundColor:"var(--salt-gray-50)",padding:12,borderRadius:6,whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:14},children:e.jsxs(l,{style:{lineHeight:"33px"},styleAs:"h3",children:[" ",i]})})]})},Rt={puppy:[{rpe:1,emoji:"🐾",text:"Sniffed around the park"},{rpe:2,emoji:"🐕",text:"Chased tail"},{rpe:3,emoji:"🐺",text:"Chased squirrel"},{rpe:4,emoji:"🔥🐺",text:"Life or death fight with a bear"}],kitten:[{rpe:1,emoji:"💤",text:"Big stretch under a tree"},{rpe:2,emoji:"🐱",text:"Thunder? Nope, Midnight zoomies"},{rpe:3,emoji:"🐯",text:"Climbed the tallest tree in the realm"},{rpe:4,emoji:"🔥🐯",text:"Celestial lion battle in the astral jungle"}]},zt=({petType:t,selectedRpe:r,onChange:o})=>{const n=Rt[t],s=i=>{o(i)};return e.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap",justifyContent:"center"},children:n.map(i=>e.jsxs(pe,{onClick:()=>s(i.rpe),style:{cursor:"pointer",border:r===i.rpe?"2px solid #ffa640":"1px solid #ccc",background:r===i.rpe?"#222":"#1d1d1d",width:140,textAlign:"center",padding:8},children:[e.jsx(f,{size:32,symbol:i.emoji}),e.jsx(l,{style:{fontSize:12,marginTop:8},children:i.rpe}),e.jsx(l,{style:{fontSize:14,marginTop:6},children:i.text})]},i.rpe))})},Ot=({open:t,onClose:r})=>t?e.jsxs("div",{role:"alert","aria-live":"assertive",style:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#1c1c1c",border:"3px solid #ffa640",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",fontSize:12,textTransform:"uppercase",boxShadow:"0 0 8px #ffa640",borderRadius:8,top:0,left:0,right:0},children:[e.jsx(f,{size:32,symbol:"🏋️‍♂️"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{marginBottom:4},children:"WORKOUT LOGGED!"}),e.jsx("div",{style:{fontSize:10,color:"#ccc"},children:"+XP gained ⚡ | Pet stronger 🐾"})]}),e.jsx("button",{"aria-label":"Close notification",onClick:r,style:{background:"transparent",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",border:"none",cursor:"pointer",fontSize:14,padding:0,lineHeight:1},children:"✖"})]}):null,je=a.createContext(void 0),Mt=()=>{const t=a.useContext(je);if(!t)throw new Error("useToast must be used within ToastProvider");return t};let Nt=0;const Bt=({children:t})=>{const[r,o]=a.useState([]),[n,s]=a.useState(null);a.useEffect(()=>{!n&&r.length>0&&(s(r[0]),o(d=>d.slice(1)))},[r,n]),a.useEffect(()=>{if(!n)return;const d=n.duration??3e3,h=setTimeout(()=>{s(null)},d);return()=>clearTimeout(h)},[n]);const i=a.useCallback(d=>{const h=++Nt;o(v=>[...v,{id:h,...d}])},[]),p=a.useCallback(()=>{s(null)},[]);return e.jsxs(je.Provider,{value:{addToast:i,removeToast:p},children:[t,n&&e.jsx("div",{role:"alert","aria-live":"assertive",style:{position:"fixed",top:20,right:20,zIndex:9999,display:"flex",flexDirection:"column",gap:8},children:e.jsx("div",{children:n.content},n.id)})]})},Wt="_levelUpContainer_vq3kq_1",Et="_levelUpPulse_vq3kq_1",Ut="_shimmer_vq3kq_1",Ht="_emoji_vq3kq_32",Gt="_bounce_vq3kq_1",qt="_levelText_vq3kq_41",$t="_levelNumber_vq3kq_54",Xt="_celebration_vq3kq_67",Vt="_fadeInUp_vq3kq_1",$={levelUpContainer:Wt,levelUpPulse:Et,shimmer:Ut,emoji:Ht,bounce:Gt,levelText:qt,levelNumber:$t,celebration:Xt,fadeInUp:Vt},ve=a.createContext(void 0),Yt=({children:t})=>{const[r,o]=a.useState(null),[n,s]=a.useState(void 0),i=({content:d,style:h})=>{o(d),s(h)},p=()=>{o(null),s(void 0)};return e.jsxs(ve.Provider,{value:{showSplash:i,hideSplash:p},children:[t,r&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",...n},onClick:p,children:[r,e.jsx("div",{style:{padding:"17px 0px"},children:e.jsx(M,{onClick:p,style:{marginTop:24,padding:"17px 24px",lineHeight:"20px",fontFamily:"'Press Start 2P', Pixelify Sans",fontSize:"17px",color:"#fff",backgroundColor:"#ff9900",border:"none",borderRadius:"14px",cursor:"pointer"},children:"Dismiss"})})]})]})},Kt=()=>{const t=a.useContext(ve);if(!t)throw new Error("useSplashScreen must be used within a SplashScreenProvider");return t},Jt={1:.5,2:1,3:1.5,4:2.2},Qt=({setDrawerView:t})=>{const{userData:r,setUserData:o}=W(),{addToast:n}=Mt(),{showSplash:s}=Kt(),[i,p]=a.useState(!1),[d,h]=a.useState("WEIGHTS"),[v,b]=a.useState("DURATION"),[m,C]=a.useState(""),[I,k]=a.useState(""),[A,L]=a.useState(""),[D,w]=a.useState(null),[y,F]=a.useState(""),R=["WEIGHTS","CARDIO","MOBILITY","SPORT"],E=["DURATION","DISTANCE"],[u,x]=a.useState(!1),P=Array.from({length:12},(c,z)=>z),O=Array.from({length:60},(c,z)=>z),[U,X]=a.useState({strength:0,agility:0,pet:0});console.log(I),console.log(D);function G(){const c=(Number(I)||0)*60+(Number(A)||0);console.log("totalDuration ",c);const z=Jt[D??2];let _=0;c>0?_=Math.round(c*10*z):Number(m)>0&&(_=Math.round(Number(m)*125*z)),console.log("totalXp ",_);let V=0,Y=0;switch(d){case"WEIGHTS":V=Math.round(_/100);break;case"CARDIO":Y=Math.round(_/100);break;case"MOBILITY":case"SPORT":const Ce=_/2/100,ke=_/2/100;V=Math.round(Ce),Y=Math.round(ke);break}return console.log("final ",{strength:V,agility:Y,pet:_}),{strength:V,agility:Y,pet:_}}const q=R.includes(d)&&E.includes(v)&&(m!==""||I!==""||A!=="")&&D!==null;function be(){C(""),k(""),L(""),w(null),F(""),h("WEIGHTS"),b("DURATION")}const Se=async()=>{const c=G();if(X(c),!r||!r.uid){alert("User not loaded properly.");return}const z=v==="DURATION"?(Number(I)||0)*60+(Number(A)||0):0;try{const{data:_}=await B.post(`/users/${r.uid}/addWorkout`,{workoutType:d,cardioMode:v,duration:z,distance:v==="DISTANCE"&&Number(m)||0,rpe:D,notes:y,workoutXp:c});o(_.updatedUser),be(),n({content:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#1c1c1c",border:"3px solid #ffa640",color:"#FFFDD0",fontFamily:"'Press Start 2P', monospace, sans-serif",fontSize:17,textTransform:"uppercase",boxShadow:"0 0 8px #ffa640",borderRadius:8},children:[e.jsx(f,{size:32,symbol:"🏋️‍♂️"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{marginBottom:4},children:"WORKOUT LOGGED!"}),e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",c.pet," PET XP"]}),c.strength>0&&c.agility>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",c.strength," STRENGTH"]}),e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",c.agility," AGILITY"]})]}):c.strength>0?e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",c.strength," STRENGTH"]}):e.jsxs("div",{style:{fontSize:15,color:"#ccc"},children:["+",c.agility," AGILITY"]})]})]}),duration:5e3}),t("none"),setTimeout(()=>{_.levelUp&&s({content:e.jsxs("div",{className:$.levelUpContainer,children:[e.jsx("div",{className:$.emoji,children:"🎉✨🎊✨🎉"}),e.jsx("div",{className:$.levelText,children:"LEVEL UP!"}),e.jsxs("div",{className:$.levelNumber,children:["LEVEL ",_.updatedUser.pet.level]}),e.jsx("div",{className:$.celebration,children:"Amazing Progress!"})]}),style:{background:"radial-gradient(circle at 25% 25%, #1a1a2e 0%, #16213e 50%, #0f0f23 100%),repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,0,0.03) 2px,rgba(0,255,0,0.03) 4px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"}})},5e3)}catch(_){console.error(_),alert("There was an error logging your workout.")}};return i?e.jsx(de,{style:{overflowX:"hidden",margin:"auto",padding:0},children:e.jsx(Q,{size:"large","aria-label":"loading",role:"status"})}):e.jsxs(de,{style:{overflowX:"hidden",margin:"auto",padding:0},children:[e.jsx(Ot,{open:u,onClose:()=>x(!1)}),e.jsx(l,{styleAs:"h1",style:{fontSize:"20px",color:"#ffa640",paddingBottom:16,fontFamily:"'Press Start 2P', Pixelify Sans"},children:"LOG YOUR WORKOUT"}),e.jsx(l,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"WORKOUT TYPE"}),e.jsx(ue,{value:d??"",onChange:c=>h(c.currentTarget.value),style:{display:"flex",flexWrap:"nowrap",overflowX:"auto",gap:8,marginBottom:16},children:R.map(c=>e.jsx(xe,{value:c,style:{fontSize:"14px",fontFamily:'"Open Sans", sans-serif',flexShrink:1,whiteSpace:"nowrap"},children:c},c))}),d==="CARDIO"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"CARDIO MODE"}),e.jsx(ue,{value:v??"",onChange:c=>{b(c.currentTarget.value),C(""),k(""),L("")},style:{marginBottom:16},children:E.map(c=>e.jsx(xe,{value:c,appearance:c==="WEIGHTS"?"solid":void 0,style:{fontSize:"14px",fontFamily:'"Open Sans", sans-serif'},children:c},c))})]}),v==="DISTANCE"&&d==="CARDIO"?e.jsxs("div",{style:{padding:"0 0 16px 0"},children:[e.jsx(l,{style:{color:"#fcefcf",marginBottom:4},children:"Distance (miles)"}),e.jsx(J,{style:{padding:"0 4px 8px 4px",fontSize:"17px"},value:m,onChange:c=>C(c.target.value),placeholder:"e.g. 3.2"})]}):e.jsxs("div",{style:{padding:"0 0 16px 0"},children:[e.jsx(l,{style:{color:"#fcefcf",marginBottom:4},children:"Duration"}),e.jsxs(S,{direction:"row",gap:2,children:[e.jsx(Z,{value:I+" hr(s)",onSelectionChange:(c,z)=>k(z[0]??""),placeholder:"Hours",children:P.map(c=>e.jsxs(ee,{value:String(c),children:[c," hr"]},c))}),e.jsx(Z,{value:A+" min(s)",onSelectionChange:(c,z)=>L(z[0]??""),placeholder:"Minutes",children:O.map(c=>e.jsxs(ee,{value:String(c),children:[c<10?`0${c}`:c," min"]},c))})]})]}),e.jsx(l,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"HOW HARD WAS IT?"}),e.jsx("div",{style:{padding:"0 0 16px 0"},children:e.jsx(zt,{selectedRpe:D,onChange:c=>w(c),petType:(r==null?void 0:r.pet.currentPet)??"puppy"})}),e.jsx(l,{style:{color:"#FFFDD0",paddingBottom:4,fontSize:"17px",fontFamily:"Open Sans"},children:"OPTIONAL NOTES"}),e.jsx("div",{style:{padding:"8px 0 8px 0"},children:e.jsx("textarea",{value:y,onChange:c=>F(c.target.value),rows:3,placeholder:"Add notes here...",style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid rgb(116, 116, 116)",fontSize:"17px",fontFamily:"inherit",backgroundColor:"var(--salt-container-primary-background)",color:"var(--salt-content-primary-foreground)",resize:"vertical"}})}),e.jsx(M,{onClick:Se,disabled:!q,style:{opacity:q?1:.4,cursor:q?"pointer":"not-allowed",color:q?"inherit":"#888",fontFamily:"'Press Start 2P', Pixelify Sans",backgroundColor:q?"#ff9900":void 0},children:"LOG WORKOUT"})]})},Zt=a.forwardRef(function({onClick:r,to:o,...n},s){const i=We(o),p=Ee(o);return e.jsx(Ue,{...n,href:i,onClick:d=>{r==null||r(d),d.defaultPrevented||p(d)},ref:s})}),es=()=>{const[t,r]=a.useState("none"),{pathname:o}=He();return e.jsxs("div",{className:"app-header",children:[e.jsx(e.Fragment,{children:e.jsxs(Ge,{children:[e.jsx(qe,{children:e.jsx(M,{appearance:"bordered",sentiment:"accented","aria-label":"Open Menu",children:e.jsx($e,{"aria-hidden":!0})})}),e.jsxs(Xe,{children:[e.jsx(he,{onClick:()=>r("logFood"),children:"Log Food"}),e.jsx(he,{onClick:()=>r("logWorkout"),children:"Log Manual Workout"})]})]})}),e.jsx(e.Fragment,{children:e.jsx("nav",{children:e.jsx(S,{direction:"row",gap:1,role:"list",children:ye.map(n=>e.jsx("div",{role:"listitem",children:e.jsx(Zt,{active:o===n.path,to:n.path,children:n.name})},n.name))})})}),e.jsx(e.Fragment,{children:e.jsx(Ve,{placement:"top",content:"User Settings",children:e.jsx(M,{appearance:"bordered",sentiment:"accented","aria-label":"User Settings",onClick:Lt,children:e.jsx(Ye,{})})})}),e.jsxs(Ke,{open:t!=="none",onOpenChange:()=>r("none"),position:"bottom",children:[t==="logFood"&&e.jsx(Dt,{}),t==="logWorkout"&&e.jsx(Qt,{setDrawerView:r})]})]})},ts="_myBackground_1pm88_1",ss="_loginScreen_1pm88_13",rs="_overlay_1pm88_29",ns="_loginContainer_1pm88_39",os="_googleButton_1pm88_49",ce={myBackground:ts,loginScreen:ss,overlay:rs,loginContainer:ns,googleButton:os};function as(){const{setUserData:t}=W(),[r,o]=a.useState(!1),n=async()=>{o(!0),console.log("Attempting to log in with Google...");try{const i=await(await Je(te,It)).user.getIdToken(),{data:p}=await B.post("/auth/google",{token:i}),h=(await B.get(`/users/${p.uid}`)).data;t(h),console.log("User saved or retrieved from DB:",p)}catch(s){console.error(s)}o(!0)};return e.jsx("div",{className:ce.loginScreen,children:e.jsx("div",{className:ce.loginContainer,children:r?e.jsx(Q,{size:"large","aria-label":"loading",role:"status"}):e.jsx(M,{className:ce.googleButton,onClick:n,children:"Embark with Google"})})})}const ls=()=>{const{userData:t,setUserData:r}=W();if(!t)return e.jsx(l,{children:"Loading..."});const[o,n]=a.useState(0),[s,i]=a.useState(t),[p,d]=a.useState(1),[h,v]=a.useState(1.2),[b,m]=a.useState(0),[C,I]=a.useState(Math.floor(s.bodyStats.height/12)),[k,A]=a.useState(s.bodyStats.height%12);if(!t||!s)return e.jsx(l,{children:"Loading..."});a.useEffect(()=>{const u=C*12+k;console.log("total inches : ",u),i(x=>({...x,bodyStats:{...x.bodyStats,height:u}}))},[C,k]);const L=u=>{const{weight:x,height:P,age:O,sex:U}=u;return U==="male"?10*(x/2.205)+6.25*(P*2.54)-5*O+5:10*(x/2.205)+6.25*(P*2.54)-5*O-161},D=u=>{const x=h+b;return u*x},w=async u=>{u.preventDefault();const x=L(s.bodyStats),P=D(x),O=s.goal.goalType==="weight_loss"?P-p*3500/7:s.goal.goalType==="muscle_gain"?P+300:P,U=Math.round(O/100),X={...s,bodyStats:{...s.bodyStats,bmr:x,tdee:P},goal:{...s.goal,dailyCalorieGoal:O,dailyCurrencyTotal:U,dailyCurrencyUsed:{}}};console.log("Submitted User Data:",X);try{const{data:G}=await B.post("/users/update",{...X});r(G)}catch(G){console.error("Error updating user data:",G)}},y=(u,x,P)=>{const{name:O,value:U}=u.target;i({...s,[x]:{...s[x],[P||O]:U}})},F=(u,x,P)=>{i({...s,[u]:{...s[u],[x]:P}})},R=()=>{if(o===0){const{weight:u,height:x,age:P,sex:O}=s.bodyStats;return u>0&&x>0&&P>0&&["male","female"].includes(O)}if(o===1)return["weight_loss","muscle_gain","maintenance"].includes(s.goal.goalType);if(o===2){const{name:u,currentPet:x}=s.pet;return u.trim()!==""&&["puppy","kitten","bird"].includes(x)}return!0},E=["Body Stats","Fitness Goals","Virtual Pet"];return e.jsx(g,{direction:"column",align:"stretch",style:{display:"flex",minHeight:"100vh",width:"100%",overflow:"hidden",padding:"14px"},children:e.jsx(j,{grow:1,children:e.jsxs(S,{align:"stretch",gap:3,style:{display:"flex",minHeight:"100%",width:"100%"},children:[e.jsx(j,{children:e.jsx(l,{styleAs:"h1",children:"Welcome to Your Journey"})}),e.jsx(j,{children:e.jsx(Qe,{children:E.map((u,x)=>e.jsx(Ze,{label:u,stage:o===x?"active":x<o?"completed":"pending"},x))})}),e.jsxs("form",{onSubmit:w,children:[o===0&&e.jsxs(S,{align:"stretch",gap:2,children:[e.jsx(l,{styleAs:"h2",children:"Body Stats"}),e.jsxs(N,{children:[e.jsx(H,{children:"Weight (lbs)"}),e.jsx(J,{value:s.bodyStats.weight,onChange:u=>y(u,"bodyStats","weight")})]}),e.jsxs(N,{children:[e.jsx(H,{children:"Height"}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx(Z,{value:C.toString()+" ft",onSelectionChange:(u,x)=>I(Number(x)),children:[2,3,4,5,6,7,8,9].map(u=>e.jsxs(ee,{value:u.toString(),children:[u," ft"]},u))}),e.jsx(Z,{value:k.toString()+" in",onSelectionChange:(u,x)=>A(Number(x)),children:Array.from({length:12},(u,x)=>e.jsxs(ee,{value:x.toString(),children:[x," in"]},x))})]})]}),e.jsxs(N,{children:[e.jsx(H,{children:"Sex"}),e.jsxs(g,{direction:"row",gap:2,children:[e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("bodyStats","sex","male"),"aria-label":"Male",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.bodyStats.sex==="male"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsxs(g,{direction:"column",align:"center",gap:1,children:[e.jsx(f,{symbol:"🙎🏻‍♂️",size:32}),e.jsx(l,{children:"Male"})]})})}),e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("bodyStats","sex","female"),"aria-label":"Female",style:{borderRadius:"12px",backgroundColor:"var(--salt-palette-neutral-selection)",border:s.bodyStats.sex==="female"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsxs(g,{direction:"column",align:"center",gap:1,children:[e.jsx(f,{symbol:"🙎🏻‍♀️",size:32}),e.jsx(l,{children:"Female"})]})})})]})]}),e.jsxs(N,{children:[e.jsx(H,{children:"Age (years)"}),e.jsx(J,{value:s.bodyStats.age,onChange:u=>y(u,"bodyStats","age")})]})]}),o===1&&e.jsxs(S,{gap:2,children:[e.jsx(l,{styleAs:"h3",children:"Fitness Goals"}),e.jsxs(g,{direction:"row",gap:2,children:[e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("goal","goalType","weight_loss"),"aria-label":"Weight Loss",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.goal.goalType==="weight_loss"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(g,{direction:"column",align:"center",gap:1,children:e.jsxs(j,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(f,{symbol:"🔥",size:24}),e.jsx(l,{children:"Weight Loss"})]})})})}),e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("goal","goalType","muscle_gain"),"aria-label":"Muscle Gain",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.goal.goalType==="muscle_gain"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(g,{direction:"column",align:"center",gap:1,children:e.jsxs(j,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(f,{symbol:s.bodyStats.sex==="male"?"🏋️‍♂️":"🏋🏽‍♀️",size:24}),e.jsx(l,{children:"Muscle Gain"})]})})})}),e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("goal","goalType","maintenance"),"aria-label":"Maintenance",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.goal.goalType==="maintenance"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(g,{direction:"column",align:"center",gap:1,children:e.jsxs(j,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(f,{symbol:"🛠️",size:24}),e.jsx(l,{children:"Maintenance"})]})})})})]}),s.goal.goalType==="weight_loss"&&e.jsxs(N,{children:[e.jsx(l,{styleAs:"h3",children:"Weekly Weight Loss (lbs)"}),e.jsx(et,{max:2,min:.5,step:.25,value:p,onChange:(u,x)=>d(x),minLabel:"0.5",maxLabel:"2","aria-label":"Weekly weight loss slider"})]}),e.jsxs(S,{gap:1,children:[e.jsx(l,{styleAs:"h3",children:"Job Activity Level"}),e.jsx(l,{styleAs:"h4",style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Select the option that best describes your daily work activity"}),e.jsxs(g,{direction:"column",gap:1,children:[e.jsx(T,{onClick:()=>v(1.2),"aria-label":"Sedentary - Desk Job",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===1.2?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"💻",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Sedentary - Desk Job"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Mostly sitting, minimal physical activity"})]})]})}),e.jsx(T,{onClick:()=>v(1.375),"aria-label":"Lightly Active - Teacher",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===1.375?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"👩‍🏫",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Lightly Active - Teacher"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Some standing and walking throughout the day"})]})]})}),e.jsx(T,{onClick:()=>v(1.55),"aria-label":"Moderately Active - Nurse/Waitress",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===1.55?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"👩‍⚕️",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Moderately Active - Nurse/Waitress"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Frequent walking, standing, and physical tasks"})]})]})}),e.jsx(T,{onClick:()=>v(1.75),"aria-label":"Very Active - Construction Worker",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:h===1.75?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"👷‍♂️",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Very Active - Construction Worker"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Heavy physical labor and constant movement"})]})]})})]})]}),e.jsxs(S,{gap:1,children:[e.jsx(l,{styleAs:"h3",children:"Workout Activity Level"}),e.jsx(l,{styleAs:"h4",style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"How often do you exercise per week?"}),e.jsxs(g,{direction:"column",gap:1,children:[e.jsx(T,{onClick:()=>m(0),"aria-label":"Sedentary - No Exercise",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:b===0?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"🛋️",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Sedentary"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Little to no exercise"})]})]})}),e.jsx(T,{onClick:()=>m(.05),"aria-label":"Lightly Active - 1-3 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:b===.05?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"🚶‍♀️",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Lightly Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Light exercise 1-3 days per week"})]})]})}),e.jsx(T,{onClick:()=>m(.1),"aria-label":"Moderately Active - 3-5 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:b===.1?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"🏃‍♂️",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Moderately Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Moderate exercise 3-5 days per week"})]})]})}),e.jsx(T,{onClick:()=>m(.15),"aria-label":"Very Active - 6-7 days per week",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:b===.15?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"🏋️‍♀️",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Very Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Hard exercise 6-7 days per week"})]})]})}),e.jsx(T,{onClick:()=>m(.2),"aria-label":"Extremely Active - 2x per day or intense training",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"8px",border:b===.2?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)",padding:"12px"},children:e.jsxs(g,{direction:"row",align:"center",gap:2,children:[e.jsx(f,{symbol:"💪",size:30}),e.jsxs(S,{gap:0,children:[e.jsx(l,{styleAs:"h2",children:"Extremely Active"}),e.jsx(l,{style:{color:"var(--salt-palette-neutral-secondary-foreground)"},children:"Very hard exercise 2x/day or intense training"})]})]})})]})]})]}),o===2&&e.jsxs(S,{gap:2,children:[e.jsx(l,{styleAs:"h2",children:"Your Virtual Pet"}),e.jsxs(N,{children:[e.jsx(H,{children:"Pet Name"}),e.jsx(J,{value:s.pet.name,onChange:u=>y(u,"pet","name")})]}),e.jsxs(N,{children:[e.jsx(H,{children:"Pet Type"}),e.jsxs(g,{direction:"row",gap:2,children:[e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("pet","currentPet","puppy"),"aria-label":"Dog",style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.pet.currentPet==="puppy"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},children:e.jsx(g,{direction:"column",align:"center",gap:1,children:e.jsxs(j,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(f,{symbol:"🐶",size:24}),e.jsx(l,{children:"Dog"})]})})})}),e.jsx(j,{grow:1,children:e.jsx(T,{onClick:()=>F("pet","currentPet","kitten"),style:{backgroundColor:"var(--salt-palette-neutral-selection)",borderRadius:"12px",border:s.pet.currentPet==="kitten"?"2px solid var(--salt-palette-measured-foreground-active)":"2px solid var(--salt-palette-neutral-primary-border)"},"aria-label":"Cat",children:e.jsx(g,{direction:"column",align:"center",gap:1,children:e.jsxs(j,{style:{minHeight:"72px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",gap:"4px"},children:[e.jsx(f,{symbol:"🐱",size:24}),e.jsx(l,{children:"Cat"})]})})})})]})]})]}),e.jsx(j,{style:{paddingTop:"20px"},children:e.jsxs(g,{direction:"row",gap:2,justify:"center",className:"mt-6",children:[o>0&&e.jsx(M,{sentiment:"neutral",appearance:"solid",onClick:()=>n(o-1),children:"Previous"}),o<E.length-1&&e.jsx(M,{sentiment:"accented",appearance:"solid",disabled:!R(),onClick:()=>n(o+1),children:"Next"}),o===E.length-1&&e.jsx(M,{type:"submit",sentiment:"accented",appearance:"solid",disabled:!R(),onClick:w,children:"Start Your Adventure!"})]})})]})]})})})};function is(){const[t,r]=a.useState(null),[o,n]=a.useState(!0),{userData:s,setUserData:i}=W();return a.useEffect(()=>{const p=tt.throttle(()=>{console.log("Fetching user object..."),B.get(`/users/${s==null?void 0:s.uid}`).then(h=>{i(h.data),console.log("User data synced:",h.data)}).catch(h=>{console.error("Failed to fetch user:",h)})},1e4),d=()=>{console.log("User came back!"),p()};return s&&window.addEventListener("focus",d),()=>{s&&(window.removeEventListener("focus",d),p.cancel())}},[]),a.useEffect(()=>{const p=st(te,d=>{console.log("Auth state changed:",d),console.log("User Data in App useEffect:",s),r(d),n(!1);const h=localStorage.getItem("userData");h&&i(JSON.parse(h))});return()=>p()},[]),console.log("App render - Loading:",o,"User:",t,"UserData:",s),o?e.jsx("div",{children:"Loading in app.tsx..."}):!t||!s?e.jsx(oe,{mode:"dark",children:e.jsx(as,{})}):s.bodyStats.weight===0?e.jsx(oe,{mode:"dark",children:e.jsx(ls,{})}):e.jsx(oe,{mode:"dark",children:e.jsxs("div",{style:{maxHeight:"100dvh",minHeight:"100dvh",height:"100dvh",position:"relative",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{flex:1,maxHeight:"calc(100dvh - 76px)",minHeight:"calc(100dvh - 76px)",height:"calc(100dvh - 76px)",display:"flex",flexDirection:"column",paddingBottom:"14px"},children:e.jsx(rt,{children:ye.map(p=>e.jsx(nt,{path:p.path,element:p.element},p.name))})}),e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"76px"},children:e.jsx(es,{})})]})})}ot.createRoot(document.getElementById("root")).render(e.jsx(at.StrictMode,{children:e.jsx(lt,{children:e.jsx(ht,{children:e.jsx(Bt,{children:e.jsx(Yt,{children:e.jsx(is,{})})})})})}));
